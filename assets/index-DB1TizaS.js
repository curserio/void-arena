(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))r(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(f){if(f.ep)return;f.ep=!0;const d=o(f);fetch(f.href,d)}})();function sh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bo={exports:{}},js={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function wp(){if(L0)return js;L0=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function o(r,f,d){var m=null;if(d!==void 0&&(m=""+d),f.key!==void 0&&(m=""+f.key),"key"in f){d={};for(var h in f)h!=="key"&&(d[h]=f[h])}else d=f;return f=d.ref,{$$typeof:n,type:r,key:m,ref:f!==void 0?f:null,props:d}}return js.Fragment=s,js.jsx=o,js.jsxs=o,js}var C0;function Lp(){return C0||(C0=1,bo.exports=wp()),bo.exports}var u=Lp(),xo={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Cp(){if(D0)return me;D0=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,U={};function L(R,H,Z){this.props=R,this.context=H,this.refs=U,this.updater=Z||A}L.prototype.isReactComponent={},L.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},L.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=L.prototype;function G(R,H,Z){this.props=R,this.context=H,this.refs=U,this.updater=Z||A}var F=G.prototype=new I;F.constructor=G,T(F,L.prototype),F.isPureReactComponent=!0;var W=Array.isArray;function V(){}var q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function Q(R,H,Z){var $=Z.ref;return{$$typeof:n,type:R,key:H,ref:$!==void 0?$:null,props:Z}}function ee(R,H){return Q(R.type,H,R.props)}function ae(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function de(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Z){return H[Z]})}var ve=/\/+/g;function Ie(R,H){return typeof R=="object"&&R!==null&&R.key!=null?de(""+R.key):H.toString(36)}function Je(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(V,V):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function C(R,H,Z,$,le){var oe=typeof R;(oe==="undefined"||oe==="boolean")&&(R=null);var pe=!1;if(R===null)pe=!0;else switch(oe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(R.$$typeof){case n:case s:pe=!0;break;case b:return pe=R._init,C(pe(R._payload),H,Z,$,le)}}if(pe)return le=le(R),pe=$===""?"."+Ie(R,0):$,W(le)?(Z="",pe!=null&&(Z=pe.replace(ve,"$&/")+"/"),C(le,H,Z,"",function(da){return da})):le!=null&&(ae(le)&&(le=ee(le,Z+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(ve,"$&/")+"/")+pe)),H.push(le)),1;pe=0;var qe=$===""?".":$+":";if(W(R))for(var Le=0;Le<R.length;Le++)$=R[Le],oe=qe+Ie($,Le),pe+=C($,H,Z,oe,le);else if(Le=E(R),typeof Le=="function")for(R=Le.call(R),Le=0;!($=R.next()).done;)$=$.value,oe=qe+Ie($,Le++),pe+=C($,H,Z,oe,le);else if(oe==="object"){if(typeof R.then=="function")return C(Je(R),H,Z,$,le);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(R,H,Z){if(R==null)return R;var $=[],le=0;return C(R,$,"","",function(oe){return H.call(Z,oe,le++)}),$}function ce(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(Z){(R._status===0||R._status===-1)&&(R._status=1,R._result=Z)},function(Z){(R._status===0||R._status===-1)&&(R._status=2,R._result=Z)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var Te=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},be={map:K,forEach:function(R,H,Z){K(R,function(){H.apply(this,arguments)},Z)},count:function(R){var H=0;return K(R,function(){H++}),H},toArray:function(R){return K(R,function(H){return H})||[]},only:function(R){if(!ae(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return me.Activity=v,me.Children=be,me.Component=L,me.Fragment=o,me.Profiler=f,me.PureComponent=G,me.StrictMode=r,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,me.__COMPILER_RUNTIME={__proto__:null,c:function(R){return q.H.useMemoCache(R)}},me.cache=function(R){return function(){return R.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(R,H,Z){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var $=T({},R.props),le=R.key;if(H!=null)for(oe in H.key!==void 0&&(le=""+H.key),H)!J.call(H,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&H.ref===void 0||($[oe]=H[oe]);var oe=arguments.length-2;if(oe===1)$.children=Z;else if(1<oe){for(var pe=Array(oe),qe=0;qe<oe;qe++)pe[qe]=arguments[qe+2];$.children=pe}return Q(R.type,le,$)},me.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},me.createElement=function(R,H,Z){var $,le={},oe=null;if(H!=null)for($ in H.key!==void 0&&(oe=""+H.key),H)J.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(le[$]=H[$]);var pe=arguments.length-2;if(pe===1)le.children=Z;else if(1<pe){for(var qe=Array(pe),Le=0;Le<pe;Le++)qe[Le]=arguments[Le+2];le.children=qe}if(R&&R.defaultProps)for($ in pe=R.defaultProps,pe)le[$]===void 0&&(le[$]=pe[$]);return Q(R,oe,le)},me.createRef=function(){return{current:null}},me.forwardRef=function(R){return{$$typeof:h,render:R}},me.isValidElement=ae,me.lazy=function(R){return{$$typeof:b,_payload:{_status:-1,_result:R},_init:ce}},me.memo=function(R,H){return{$$typeof:g,type:R,compare:H===void 0?null:H}},me.startTransition=function(R){var H=q.T,Z={};q.T=Z;try{var $=R(),le=q.S;le!==null&&le(Z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(V,Te)}catch(oe){Te(oe)}finally{H!==null&&Z.types!==null&&(H.types=Z.types),q.T=H}},me.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},me.use=function(R){return q.H.use(R)},me.useActionState=function(R,H,Z){return q.H.useActionState(R,H,Z)},me.useCallback=function(R,H){return q.H.useCallback(R,H)},me.useContext=function(R){return q.H.useContext(R)},me.useDebugValue=function(){},me.useDeferredValue=function(R,H){return q.H.useDeferredValue(R,H)},me.useEffect=function(R,H){return q.H.useEffect(R,H)},me.useEffectEvent=function(R){return q.H.useEffectEvent(R)},me.useId=function(){return q.H.useId()},me.useImperativeHandle=function(R,H,Z){return q.H.useImperativeHandle(R,H,Z)},me.useInsertionEffect=function(R,H){return q.H.useInsertionEffect(R,H)},me.useLayoutEffect=function(R,H){return q.H.useLayoutEffect(R,H)},me.useMemo=function(R,H){return q.H.useMemo(R,H)},me.useOptimistic=function(R,H){return q.H.useOptimistic(R,H)},me.useReducer=function(R,H,Z){return q.H.useReducer(R,H,Z)},me.useRef=function(R){return q.H.useRef(R)},me.useState=function(R){return q.H.useState(R)},me.useSyncExternalStore=function(R,H,Z){return q.H.useSyncExternalStore(R,H,Z)},me.useTransition=function(){return q.H.useTransition()},me.version="19.2.3",me}var _0;function Bo(){return _0||(_0=1,xo.exports=Cp()),xo.exports}var O=Bo();const ih=sh(O);var So={exports:{}},Os={},Eo={exports:{}},Mo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Dp(){return j0||(j0=1,(function(n){function s(C,K){var ce=C.length;C.push(K);e:for(;0<ce;){var Te=ce-1>>>1,be=C[Te];if(0<f(be,K))C[Te]=K,C[ce]=be,ce=Te;else break e}}function o(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var K=C[0],ce=C.pop();if(ce!==K){C[0]=ce;e:for(var Te=0,be=C.length,R=be>>>1;Te<R;){var H=2*(Te+1)-1,Z=C[H],$=H+1,le=C[$];if(0>f(Z,ce))$<be&&0>f(le,Z)?(C[Te]=le,C[$]=ce,Te=$):(C[Te]=Z,C[H]=ce,Te=H);else if($<be&&0>f(le,ce))C[Te]=le,C[$]=ce,Te=$;else break e}}return K}function f(C,K){var ce=C.sortIndex-K.sortIndex;return ce!==0?ce:C.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],g=[],b=1,v=null,S=3,E=!1,A=!1,T=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var K=o(g);K!==null;){if(K.callback===null)r(g);else if(K.startTime<=C)r(g),K.sortIndex=K.expirationTime,s(y,K);else break;K=o(g)}}function W(C){if(T=!1,F(C),!A)if(o(y)!==null)A=!0,V||(V=!0,de());else{var K=o(g);K!==null&&Je(W,K.startTime-C)}}var V=!1,q=-1,J=5,Q=-1;function ee(){return U?!0:!(n.unstable_now()-Q<J)}function ae(){if(U=!1,V){var C=n.unstable_now();Q=C;var K=!0;try{e:{A=!1,T&&(T=!1,I(q),q=-1),E=!0;var ce=S;try{t:{for(F(C),v=o(y);v!==null&&!(v.expirationTime>C&&ee());){var Te=v.callback;if(typeof Te=="function"){v.callback=null,S=v.priorityLevel;var be=Te(v.expirationTime<=C);if(C=n.unstable_now(),typeof be=="function"){v.callback=be,F(C),K=!0;break t}v===o(y)&&r(y),F(C)}else r(y);v=o(y)}if(v!==null)K=!0;else{var R=o(g);R!==null&&Je(W,R.startTime-C),K=!1}}break e}finally{v=null,S=ce,E=!1}K=void 0}}finally{K?de():V=!1}}}var de;if(typeof G=="function")de=function(){G(ae)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ie=ve.port2;ve.port1.onmessage=ae,de=function(){Ie.postMessage(null)}}else de=function(){L(ae,0)};function Je(C,K){q=L(function(){C(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var ce=S;S=K;try{return C()}finally{S=ce}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(C,K){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ce=S;S=C;try{return K()}finally{S=ce}},n.unstable_scheduleCallback=function(C,K,ce){var Te=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Te+ce:Te):ce=Te,C){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ce+be,C={id:b++,callback:K,priorityLevel:C,startTime:ce,expirationTime:be,sortIndex:-1},ce>Te?(C.sortIndex=ce,s(g,C),o(y)===null&&C===o(g)&&(T?(I(q),q=-1):T=!0,Je(W,ce-Te))):(C.sortIndex=be,s(y,C),A||E||(A=!0,V||(V=!0,de()))),C},n.unstable_shouldYield=ee,n.unstable_wrapCallback=function(C){var K=S;return function(){var ce=S;S=K;try{return C.apply(this,arguments)}finally{S=ce}}}})(Mo)),Mo}var O0;function _p(){return O0||(O0=1,Eo.exports=Dp()),Eo.exports}var Ao={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function jp(){if(U0)return At;U0=1;var n=Bo();function s(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},f=Symbol.for("react.portal");function d(y,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:v==null?null:""+v,children:y,containerInfo:g,implementation:b}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(s(299));return d(y,g,null,b)},At.flushSync=function(y){var g=m.T,b=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=g,r.p=b,r.d.f()}},At.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},At.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},At.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:E}):b==="script"&&r.d.X(y,{crossOrigin:v,integrity:S,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},At.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},At.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=h(b,g.crossOrigin);r.d.L(y,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},At.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=h(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},At.requestFormReset=function(y){r.d.r(y)},At.unstable_batchedUpdates=function(y,g){return y(g)},At.useFormState=function(y,g,b){return m.H.useFormState(y,g,b)},At.useFormStatus=function(){return m.H.useHostTransitionStatus()},At.version="19.2.3",At}var B0;function Op(){if(B0)return Ao.exports;B0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Ao.exports=jp(),Ao.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function Up(){if(H0)return Os;H0=1;var n=_p(),s=Bo(),o=Op();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var c=i.alternate;if(c===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===a)return y(i),e;if(c===l)return y(i),t;c=c.sibling}throw Error(r(188))}if(a.return!==l.return)a=i,l=c;else{for(var p=!1,x=i.child;x;){if(x===a){p=!0,a=i,l=c;break}if(x===l){p=!0,l=i,a=c;break}x=x.sibling}if(!p){for(x=c.child;x;){if(x===a){p=!0,a=c,l=i;break}if(x===l){p=!0,l=c,a=i;break}x=x.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),G=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case W:return"Suspense";case V:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case G:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}var Je=Array.isArray,C=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Te=[],be=-1;function R(e){return{current:e}}function H(e){0>be||(e.current=Te[be],Te[be]=null,be--)}function Z(e,t){be++,Te[be]=e.current,e.current=t}var $=R(null),le=R(null),oe=R(null),pe=R(null);function qe(e,t){switch(Z(oe,t),Z(le,e),Z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wd(t),e=$d(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H($),Z($,e)}function Le(){H($),H(le),H(oe)}function da(e){e.memoizedState!==null&&Z(pe,e);var t=$.current,a=$d(t,e.type);t!==a&&(Z(le,e),Z($,a))}function Pa(e){le.current===e&&(H($),H(le)),pe.current===e&&(H(pe),Ls._currentValue=ce)}var la,Ql;function na(e){if(la===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);la=t&&t[1]||"",Ql=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+e+Ql}var Ml=!1;function Xa(e,t){if(!e||Ml)return"";Ml=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(z){var j=z}Reflect.construct(e,[],X)}else{try{X.call()}catch(z){j=z}e.call(X.prototype)}}else{try{throw Error()}catch(z){j=z}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(z){if(z&&j&&typeof z.stack=="string")return[z.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),p=c[0],x=c[1];if(p&&x){var M=p.split(`
`),_=x.split(`
`);for(i=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;if(l===M.length||i===_.length)for(l=M.length-1,i=_.length-1;1<=l&&0<=i&&M[l]!==_[i];)i--;for(;1<=l&&0<=i;l--,i--)if(M[l]!==_[i]){if(l!==1||i!==1)do if(l--,i--,0>i||M[l]!==_[i]){var Y=`
`+M[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=i);break}}}finally{Ml=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?na(a):""}function Va(e,t){switch(e.tag){case 26:case 27:case 5:return na(e.type);case 16:return na("Lazy");case 13:return e.child!==t&&t!==null?na("Suspense Fallback"):na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Xa(e.type,!1);case 11:return Xa(e.type.render,!1);case 1:return Xa(e.type,!0);case 31:return na("Activity");default:return""}}function Ma(e){try{var t="",a=null;do t+=Va(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Aa=Object.prototype.hasOwnProperty,Al=n.unstable_scheduleCallback,sa=n.unstable_cancelCallback,Tl=n.unstable_shouldYield,Ve=n.unstable_requestPaint,Pe=n.unstable_now,Xt=n.unstable_getCurrentPriorityLevel,Rt=n.unstable_ImmediatePriority,xt=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,Rl=n.unstable_LowPriority,Ka=n.unstable_IdlePriority,Za=n.log,Fl=n.unstable_setDisableYieldValue,ia=null,lt=null;function ht(e){if(typeof Za=="function"&&Fl(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(ia,e)}catch{}}var ut=Math.clz32?Math.clz32:oc,cc=Math.log,rc=Math.LN2;function oc(e){return e>>>=0,e===0?32:31-(cc(e)/rc|0)|0}var Jl=256,Wl=262144,Ht=4194304;function St(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $l(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,c=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~c,l!==0?i=St(l):(p&=x,p!==0?i=St(p):a||(a=x&~e,a!==0&&(i=St(a))))):(x=l&~c,x!==0?i=St(x):p!==0?i=St(p):a||(a=l&~e,a!==0&&(i=St(a)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:i}function Nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function uc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var e=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),e}function In(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function wl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function en(e,t,a,l,i,c){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,M=e.expirationTimes,_=e.hiddenUpdates;for(a=p&~a;0<a;){var Y=31-ut(a),X=1<<Y;x[Y]=0,M[Y]=-1;var j=_[Y];if(j!==null)for(_[Y]=null,Y=0;Y<j.length;Y++){var z=j[Y];z!==null&&(z.lane&=-536870913)}a&=~X}l!==0&&Ps(e,l,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(p&~t))}function Ps(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ut(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function qn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ut(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function Pn(e,t){var a=t&-t;return a=(a&42)!==0?1:tn(a),(a&(e.suspendedLanes|t))!==0?0:a}function tn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function an(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function se(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:E0(e.type))}function fe(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var he=Math.random().toString(36).slice(2),Re="__reactFiber$"+he,Ke="__reactProps$"+he,mt="__reactContainer$"+he,Et="__reactEvents$"+he,Mt="__reactListeners$"+he,Ll="__reactHandles$"+he,Xn="__reactResources$"+he,Qa="__reactMarker$"+he;function ca(e){delete e[Re],delete e[Ke],delete e[Et],delete e[Mt],delete e[Ll]}function Vt(e){var t=e[Re];if(t)return t;for(var a=e.parentNode;a;){if(t=a[mt]||a[Re]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=i0(e);e!==null;){if(a=e[Re])return a;e=i0(e)}return t}e=a,a=e.parentNode}return null}function ha(e){if(e=e[Re]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Cl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Fa(e){var t=e[Xn];return t||(t=e[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Qa]=!0}var Xs=new Set,ln={};function ra(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(ln[e]=t,e=0;e<t.length;e++)Xs.add(t[e])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Io={};function xh(e){return Aa.call(Io,e)?!0:Aa.call(Yo,e)?!1:bh.test(e)?Io[e]=!0:(Yo[e]=!0,!1)}function Vs(e,t,a){if(xh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ks(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ta(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){a=""+p,c.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fc(e){if(!e._valueTracker){var t=qo(e)?"checked":"value";e._valueTracker=Sh(e,t,""+e[t])}}function Po(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=qo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function Zt(e){return e.replace(Eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dc(e,t,a,l,i,c,p,x){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?hc(e,p,Kt(t)):a!=null?hc(e,p,Kt(a)):l!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Kt(x):e.removeAttribute("name")}function Xo(e,t,a,l,i,c,p,x){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){fc(e);return}a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),fc(e)}function hc(e,t,a){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function nn(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vo(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function Ko(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(Je(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),fc(e)}function sn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Mh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qo(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&Zo(e,i,l)}else for(var c in t)t.hasOwnProperty(c)&&Zo(e,c,t[c])}function mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Th=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Th.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ra(){}var pc=null;function gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cn=null,rn=null;function Fo(e){var t=ha(e);if(t&&(e=t.stateNode)){var a=e[Ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(dc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[Ke]||null;if(!i)throw Error(r(90));dc(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Po(l)}break e;case"textarea":Vo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&nn(e,!!a.multiple,t,!1)}}}var yc=!1;function Jo(e,t,a){if(yc)return e(t,a);yc=!0;try{var l=e(t);return l}finally{if(yc=!1,(cn!==null||rn!==null)&&(Bi(),cn&&(t=cn,e=rn,rn=cn=null,Fo(t),e)))for(t=0;t<e.length;t++)Fo(e[t])}}function Vn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(Na)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{vc=!1}var Ja=null,bc=null,Fs=null;function Wo(){if(Fs)return Fs;var e,t=bc,a=t.length,l,i="value"in Ja?Ja.value:Ja.textContent,c=i.length;for(e=0;e<a&&t[e]===i[e];e++);var p=a-e;for(l=1;l<=p&&t[a-l]===i[c-l];l++);return Fs=i.slice(e,1<l?1-l:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function $o(){return!1}function Lt(e){function t(a,l,i,c,p){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=c,this.target=p,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ws:$o,this.isPropagationStopped=$o,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Lt(Dl),Zn=v({},Dl,{view:0,detail:0}),Rh=Lt(Zn),xc,Sc,Qn,ei=v({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(xc=e.screenX-Qn.screenX,Sc=e.screenY-Qn.screenY):Sc=xc=0,Qn=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),eu=Lt(ei),Nh=v({},ei,{dataTransfer:0}),wh=Lt(Nh),Lh=v({},Zn,{relatedTarget:0}),Ec=Lt(Lh),Ch=v({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=Lt(Ch),_h=v({},Dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jh=Lt(_h),Oh=v({},Dl,{data:0}),tu=Lt(Oh),Uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hh[e])?!!t[e]:!1}function Mc(){return zh}var kh=v({},Zn,{key:function(e){if(e.key){var t=Uh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=Lt(kh),Yh=v({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=Lt(Yh),Ih=v({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),qh=Lt(Ih),Ph=v({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xh=Lt(Ph),Vh=v({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kh=Lt(Vh),Zh=v({},Dl,{newState:0,oldState:0}),Qh=Lt(Zh),Fh=[9,13,27,32],Ac=Na&&"CompositionEvent"in window,Fn=null;Na&&"documentMode"in document&&(Fn=document.documentMode);var Jh=Na&&"TextEvent"in window&&!Fn,lu=Na&&(!Ac||Fn&&8<Fn&&11>=Fn),nu=" ",su=!1;function iu(e,t){switch(e){case"keyup":return Fh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function Wh(e,t){switch(e){case"compositionend":return cu(t);case"keypress":return t.which!==32?null:(su=!0,nu);case"textInput":return e=t.data,e===nu&&su?null:e;default:return null}}function $h(e,t){if(on)return e==="compositionend"||!Ac&&iu(e,t)?(e=Wo(),Fs=bc=Ja=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lu&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function ou(e,t,a,l){cn?rn?rn.push(l):rn=[l]:cn=l,t=qi(t,"onChange"),0<t.length&&(a=new $s("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Jn=null,Wn=null;function tm(e){Vd(e,0)}function ti(e){var t=Cl(e);if(Po(t))return e}function uu(e,t){if(e==="change")return t}var fu=!1;if(Na){var Tc;if(Na){var Rc="oninput"in document;if(!Rc){var du=document.createElement("div");du.setAttribute("oninput","return;"),Rc=typeof du.oninput=="function"}Tc=Rc}else Tc=!1;fu=Tc&&(!document.documentMode||9<document.documentMode)}function hu(){Jn&&(Jn.detachEvent("onpropertychange",mu),Wn=Jn=null)}function mu(e){if(e.propertyName==="value"&&ti(Wn)){var t=[];ou(t,Wn,e,gc(e)),Jo(tm,t)}}function am(e,t,a){e==="focusin"?(hu(),Jn=t,Wn=a,Jn.attachEvent("onpropertychange",mu)):e==="focusout"&&hu()}function lm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ti(Wn)}function nm(e,t){if(e==="click")return ti(t)}function sm(e,t){if(e==="input"||e==="change")return ti(t)}function im(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:im;function $n(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!Aa.call(t,i)||!zt(e[i],t[i]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var a=pu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pu(a)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zs(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cm=Na&&"documentMode"in document&&11>=document.documentMode,un=null,wc=null,es=null,Lc=!1;function bu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lc||un==null||un!==Zs(l)||(l=un,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),es&&$n(es,l)||(es=l,l=qi(wc,"onSelect"),0<l.length&&(t=new $s("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=un)))}function _l(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var fn={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},Cc={},xu={};Na&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function jl(e){if(Cc[e])return Cc[e];if(!fn[e])return e;var t=fn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in xu)return Cc[e]=t[a];return e}var Su=jl("animationend"),Eu=jl("animationiteration"),Mu=jl("animationstart"),rm=jl("transitionrun"),om=jl("transitionstart"),um=jl("transitioncancel"),Au=jl("transitionend"),Tu=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function oa(e,t){Tu.set(e,t),ra(t,[e])}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qt=[],dn=0,_c=0;function li(){for(var e=dn,t=_c=dn=0;t<e;){var a=Qt[t];Qt[t++]=null;var l=Qt[t];Qt[t++]=null;var i=Qt[t];Qt[t++]=null;var c=Qt[t];if(Qt[t++]=null,l!==null&&i!==null){var p=l.pending;p===null?i.next=i:(i.next=p.next,p.next=i),l.pending=i}c!==0&&Ru(a,i,c)}}function ni(e,t,a,l){Qt[dn++]=e,Qt[dn++]=t,Qt[dn++]=a,Qt[dn++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jc(e,t,a,l){return ni(e,t,a,l),si(e)}function Ol(e,t){return ni(e,null,null,t),si(e)}function Ru(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,c=e.return;c!==null;)c.childLanes|=a,l=c.alternate,l!==null&&(l.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-ut(a),e=c.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),c):null}function si(e){if(50<Es)throw Es=0,Ir=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hn={};function fm(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,l){return new fm(e,t,a,l)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ii(e,t,a,l,i,c){var p=0;if(l=e,typeof e=="function")Oc(e)&&(p=1);else if(typeof e=="string")p=gp(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=kt(31,a,t,i),e.elementType=Q,e.lanes=c,e;case T:return Ul(a.children,i,c,t);case U:p=8,i|=24;break;case L:return e=kt(12,a,t,i|2),e.elementType=L,e.lanes=c,e;case W:return e=kt(13,a,t,i),e.elementType=W,e.lanes=c,e;case V:return e=kt(19,a,t,i),e.elementType=V,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:p=10;break e;case I:p=9;break e;case F:p=11;break e;case q:p=14;break e;case J:p=16,l=null;break e}p=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=kt(p,a,t,i),t.elementType=e,t.type=l,t.lanes=c,t}function Ul(e,t,a,l){return e=kt(7,e,l,t),e.lanes=a,e}function Uc(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function wu(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function Bc(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lu=new WeakMap;function Ft(e,t){if(typeof e=="object"&&e!==null){var a=Lu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ma(t)},Lu.set(e,t),t)}return{value:e,source:t,stack:Ma(t)}}var mn=[],pn=0,ci=null,ts=0,Jt=[],Wt=0,Wa=null,pa=1,ga="";function La(e,t){mn[pn++]=ts,mn[pn++]=ci,ci=e,ts=t}function Cu(e,t,a){Jt[Wt++]=pa,Jt[Wt++]=ga,Jt[Wt++]=Wa,Wa=e;var l=pa;e=ga;var i=32-ut(l)-1;l&=~(1<<i),a+=1;var c=32-ut(t)+i;if(30<c){var p=i-i%5;c=(l&(1<<p)-1).toString(32),l>>=p,i-=p,pa=1<<32-ut(t)+i|a<<i|l,ga=c+e}else pa=1<<c|a<<i|l,ga=e}function Hc(e){e.return!==null&&(La(e,1),Cu(e,1,0))}function zc(e){for(;e===ci;)ci=mn[--pn],mn[pn]=null,ts=mn[--pn],mn[pn]=null;for(;e===Wa;)Wa=Jt[--Wt],Jt[Wt]=null,ga=Jt[--Wt],Jt[Wt]=null,pa=Jt[--Wt],Jt[Wt]=null}function Du(e,t){Jt[Wt++]=pa,Jt[Wt++]=ga,Jt[Wt++]=Wa,pa=t.id,ga=t.overflow,Wa=e}var gt=null,Ze=null,Ne=!1,$a=null,$t=!1,kc=Error(r(519));function el(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw as(Ft(t,e)),kc}function _u(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Re]=e,t[Ke]=l,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<As.length;a++)Se(As[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Xo(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Ko(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Fd(t.textContent,a)?(l.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),l.onScroll!=null&&Se("scroll",t),l.onScrollEnd!=null&&Se("scrollend",t),l.onClick!=null&&(t.onclick=Ra),t=!0):t=!1,t||el(e,!0)}function ju(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:gt=gt.return}}function gn(e){if(e!==gt)return!1;if(!Ne)return ju(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lo(e.type,e.memoizedProps)),a=!a),a&&Ze&&el(e),ju(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=s0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=s0(e)}else t===27?(t=Ze,ml(e.type)?(e=ro,ro=null,Ze=e):Ze=t):Ze=gt?ta(e.stateNode.nextSibling):null;return!0}function Bl(){Ze=gt=null,Ne=!1}function Gc(){var e=$a;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),$a=null),e}function as(e){$a===null?$a=[e]:$a.push(e)}var Yc=R(null),Hl=null,Ca=null;function tl(e,t,a){Z(Yc,t._currentValue),t._currentValue=a}function Da(e){e._currentValue=Yc.current,H(Yc)}function Ic(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function qc(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var p=i.child;c=c.firstContext;e:for(;c!==null;){var x=c;c=i;for(var M=0;M<t.length;M++)if(x.context===t[M]){c.lanes|=a,x=c.alternate,x!==null&&(x.lanes|=a),Ic(c.return,a,e),l||(p=null);break e}c=x.next}}else if(i.tag===18){if(p=i.return,p===null)throw Error(r(341));p.lanes|=a,c=p.alternate,c!==null&&(c.lanes|=a),Ic(p,a,e),p=null}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===e){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}}function yn(e,t,a,l){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var p=i.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var x=i.type;zt(i.pendingProps.value,p.value)||(e!==null?e.push(x):e=[x])}}else if(i===pe.current){if(p=i.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ls):e=[Ls])}i=i.return}e!==null&&qc(t,e,a,l),t.flags|=262144}function ri(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zl(e){Hl=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return Ou(Hl,e)}function oi(e,t){return Hl===null&&zl(e),Ou(e,t)}function Ou(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ca===null){if(e===null)throw Error(r(308));Ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ca=Ca.next=t;return a}var dm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},hm=n.unstable_scheduleCallback,mm=n.unstable_NormalPriority,st={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new dm,data:new Map,refCount:0}}function ls(e){e.refCount--,e.refCount===0&&hm(mm,function(){e.controller.abort()})}var ns=null,Xc=0,vn=0,bn=null;function pm(e,t){if(ns===null){var a=ns=[];Xc=0,vn=Zr(),bn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xc++,t.then(Uu,Uu),t}function Uu(){if(--Xc===0&&ns!==null){bn!==null&&(bn.status="fulfilled");var e=ns;ns=null,vn=0,bn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var Bu=C.S;C.S=function(e,t){xd=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&pm(e,t),Bu!==null&&Bu(e,t)};var kl=R(null);function Vc(){var e=kl.current;return e!==null?e:Xe.pooledCache}function ui(e,t){t===null?Z(kl,kl.current):Z(kl,t.pool)}function Hu(){var e=Vc();return e===null?null:{parent:st._currentValue,pool:e}}var xn=Error(r(460)),Kc=Error(r(474)),fi=Error(r(542)),di={then:function(){}};function zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ra,Ra),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e;default:if(typeof t.status=="string")t.then(Ra,Ra);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yu(e),e}throw Yl=t,xn}}function Gl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yl=a,xn):a}}var Yl=null;function Gu(){if(Yl===null)throw Error(r(459));var e=Yl;return Yl=null,e}function Yu(e){if(e===xn||e===fi)throw Error(r(483))}var Sn=null,ss=0;function hi(e){var t=ss;return ss+=1,Sn===null&&(Sn=[]),ku(Sn,e,t)}function is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mi(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Iu(e){function t(w,N){if(e){var D=w.deletions;D===null?(w.deletions=[N],w.flags|=16):D.push(N)}}function a(w,N){if(!e)return null;for(;N!==null;)t(w,N),N=N.sibling;return null}function l(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function i(w,N){return w=wa(w,N),w.index=0,w.sibling=null,w}function c(w,N,D){return w.index=D,e?(D=w.alternate,D!==null?(D=D.index,D<N?(w.flags|=67108866,N):D):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function p(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function x(w,N,D,P){return N===null||N.tag!==6?(N=Uc(D,w.mode,P),N.return=w,N):(N=i(N,D),N.return=w,N)}function M(w,N,D,P){var re=D.type;return re===T?Y(w,N,D.props.children,P,D.key):N!==null&&(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===J&&Gl(re)===N.type)?(N=i(N,D.props),is(N,D),N.return=w,N):(N=ii(D.type,D.key,D.props,null,w.mode,P),is(N,D),N.return=w,N)}function _(w,N,D,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Bc(D,w.mode,P),N.return=w,N):(N=i(N,D.children||[]),N.return=w,N)}function Y(w,N,D,P,re){return N===null||N.tag!==7?(N=Ul(D,w.mode,P,re),N.return=w,N):(N=i(N,D),N.return=w,N)}function X(w,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Uc(""+N,w.mode,D),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return D=ii(N.type,N.key,N.props,null,w.mode,D),is(D,N),D.return=w,D;case A:return N=Bc(N,w.mode,D),N.return=w,N;case J:return N=Gl(N),X(w,N,D)}if(Je(N)||de(N))return N=Ul(N,w.mode,D,null),N.return=w,N;if(typeof N.then=="function")return X(w,hi(N),D);if(N.$$typeof===G)return X(w,oi(w,N),D);mi(w,N)}return null}function j(w,N,D,P){var re=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return re!==null?null:x(w,N,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===re?M(w,N,D,P):null;case A:return D.key===re?_(w,N,D,P):null;case J:return D=Gl(D),j(w,N,D,P)}if(Je(D)||de(D))return re!==null?null:Y(w,N,D,P,null);if(typeof D.then=="function")return j(w,N,hi(D),P);if(D.$$typeof===G)return j(w,N,oi(w,D),P);mi(w,D)}return null}function z(w,N,D,P,re){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return w=w.get(D)||null,x(N,w,""+P,re);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return w=w.get(P.key===null?D:P.key)||null,M(N,w,P,re);case A:return w=w.get(P.key===null?D:P.key)||null,_(N,w,P,re);case J:return P=Gl(P),z(w,N,D,P,re)}if(Je(P)||de(P))return w=w.get(D)||null,Y(N,w,P,re,null);if(typeof P.then=="function")return z(w,N,D,hi(P),re);if(P.$$typeof===G)return z(w,N,D,oi(N,P),re);mi(N,P)}return null}function te(w,N,D,P){for(var re=null,Ce=null,ne=N,ye=N=0,Ae=null;ne!==null&&ye<D.length;ye++){ne.index>ye?(Ae=ne,ne=null):Ae=ne.sibling;var De=j(w,ne,D[ye],P);if(De===null){ne===null&&(ne=Ae);break}e&&ne&&De.alternate===null&&t(w,ne),N=c(De,N,ye),Ce===null?re=De:Ce.sibling=De,Ce=De,ne=Ae}if(ye===D.length)return a(w,ne),Ne&&La(w,ye),re;if(ne===null){for(;ye<D.length;ye++)ne=X(w,D[ye],P),ne!==null&&(N=c(ne,N,ye),Ce===null?re=ne:Ce.sibling=ne,Ce=ne);return Ne&&La(w,ye),re}for(ne=l(ne);ye<D.length;ye++)Ae=z(ne,w,ye,D[ye],P),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?ye:Ae.key),N=c(Ae,N,ye),Ce===null?re=Ae:Ce.sibling=Ae,Ce=Ae);return e&&ne.forEach(function(bl){return t(w,bl)}),Ne&&La(w,ye),re}function ue(w,N,D,P){if(D==null)throw Error(r(151));for(var re=null,Ce=null,ne=N,ye=N=0,Ae=null,De=D.next();ne!==null&&!De.done;ye++,De=D.next()){ne.index>ye?(Ae=ne,ne=null):Ae=ne.sibling;var bl=j(w,ne,De.value,P);if(bl===null){ne===null&&(ne=Ae);break}e&&ne&&bl.alternate===null&&t(w,ne),N=c(bl,N,ye),Ce===null?re=bl:Ce.sibling=bl,Ce=bl,ne=Ae}if(De.done)return a(w,ne),Ne&&La(w,ye),re;if(ne===null){for(;!De.done;ye++,De=D.next())De=X(w,De.value,P),De!==null&&(N=c(De,N,ye),Ce===null?re=De:Ce.sibling=De,Ce=De);return Ne&&La(w,ye),re}for(ne=l(ne);!De.done;ye++,De=D.next())De=z(ne,w,ye,De.value,P),De!==null&&(e&&De.alternate!==null&&ne.delete(De.key===null?ye:De.key),N=c(De,N,ye),Ce===null?re=De:Ce.sibling=De,Ce=De);return e&&ne.forEach(function(Np){return t(w,Np)}),Ne&&La(w,ye),re}function Ye(w,N,D,P){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var re=D.key;N!==null;){if(N.key===re){if(re=D.type,re===T){if(N.tag===7){a(w,N.sibling),P=i(N,D.props.children),P.return=w,w=P;break e}}else if(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===J&&Gl(re)===N.type){a(w,N.sibling),P=i(N,D.props),is(P,D),P.return=w,w=P;break e}a(w,N);break}else t(w,N);N=N.sibling}D.type===T?(P=Ul(D.props.children,w.mode,P,D.key),P.return=w,w=P):(P=ii(D.type,D.key,D.props,null,w.mode,P),is(P,D),P.return=w,w=P)}return p(w);case A:e:{for(re=D.key;N!==null;){if(N.key===re)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){a(w,N.sibling),P=i(N,D.children||[]),P.return=w,w=P;break e}else{a(w,N);break}else t(w,N);N=N.sibling}P=Bc(D,w.mode,P),P.return=w,w=P}return p(w);case J:return D=Gl(D),Ye(w,N,D,P)}if(Je(D))return te(w,N,D,P);if(de(D)){if(re=de(D),typeof re!="function")throw Error(r(150));return D=re.call(D),ue(w,N,D,P)}if(typeof D.then=="function")return Ye(w,N,hi(D),P);if(D.$$typeof===G)return Ye(w,N,oi(w,D),P);mi(w,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(a(w,N.sibling),P=i(N,D),P.return=w,w=P):(a(w,N),P=Uc(D,w.mode,P),P.return=w,w=P),p(w)):a(w,N)}return function(w,N,D,P){try{ss=0;var re=Ye(w,N,D,P);return Sn=null,re}catch(ne){if(ne===xn||ne===fi)throw ne;var Ce=kt(29,ne,null,w.mode);return Ce.lanes=P,Ce.return=w,Ce}finally{}}}var Il=Iu(!0),qu=Iu(!1),al=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ll(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nl(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=si(e),Ru(e,null,a),t}return ni(e,l,t,a),si(e)}function cs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,qn(e,a)}}function Fc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?i=c=p:c=c.next=p,a=a.next}while(a!==null);c===null?i=c=t:c=c.next=t}else i=c=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Jc=!1;function rs(){if(Jc){var e=bn;if(e!==null)throw e}}function os(e,t,a,l){Jc=!1;var i=e.updateQueue;al=!1;var c=i.firstBaseUpdate,p=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var M=x,_=M.next;M.next=null,p===null?c=_:p.next=_,p=M;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,x=Y.lastBaseUpdate,x!==p&&(x===null?Y.firstBaseUpdate=_:x.next=_,Y.lastBaseUpdate=M))}if(c!==null){var X=i.baseState;p=0,Y=_=M=null,x=c;do{var j=x.lane&-536870913,z=j!==x.lane;if(z?(Me&j)===j:(l&j)===j){j!==0&&j===vn&&(Jc=!0),Y!==null&&(Y=Y.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var te=e,ue=x;j=t;var Ye=a;switch(ue.tag){case 1:if(te=ue.payload,typeof te=="function"){X=te.call(Ye,X,j);break e}X=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ue.payload,j=typeof te=="function"?te.call(Ye,X,j):te,j==null)break e;X=v({},X,j);break e;case 2:al=!0}}j=x.callback,j!==null&&(e.flags|=64,z&&(e.flags|=8192),z=i.callbacks,z===null?i.callbacks=[j]:z.push(j))}else z={lane:j,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Y===null?(_=Y=z,M=X):Y=Y.next=z,p|=j;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;z=x,x=z.next,z.next=null,i.lastBaseUpdate=z,i.shared.pending=null}}while(!0);Y===null&&(M=X),i.baseState=M,i.firstBaseUpdate=_,i.lastBaseUpdate=Y,c===null&&(i.shared.lanes=0),ol|=p,e.lanes=p,e.memoizedState=X}}function Pu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Xu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pu(a[e],t)}var En=R(null),pi=R(0);function Vu(e,t){e=Ga,Z(pi,e),Z(En,t),Ga=e|t.baseLanes}function Wc(){Z(pi,Ga),Z(En,En.current)}function $c(){Ga=pi.current,H(En),H(pi)}var Gt=R(null),ea=null;function sl(e){var t=e.alternate;Z(tt,tt.current&1),Z(Gt,e),ea===null&&(t===null||En.current!==null||t.memoizedState!==null)&&(ea=e)}function er(e){Z(tt,tt.current),Z(Gt,e),ea===null&&(ea=e)}function Ku(e){e.tag===22?(Z(tt,tt.current),Z(Gt,e),ea===null&&(ea=e)):il()}function il(){Z(tt,tt.current),Z(Gt,Gt.current)}function Yt(e){H(Gt),ea===e&&(ea=null),H(tt)}var tt=R(0);function gi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||io(a)||co(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _a=0,ge=null,ke=null,it=null,yi=!1,Mn=!1,ql=!1,vi=0,us=0,An=null,ym=0;function We(){throw Error(r(321))}function tr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function ar(e,t,a,l,i,c){return _a=c,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Df:yr,ql=!1,c=a(l,i),ql=!1,Mn&&(c=Qu(t,a,l,i)),Zu(e),c}function Zu(e){C.H=hs;var t=ke!==null&&ke.next!==null;if(_a=0,it=ke=ge=null,yi=!1,us=0,An=null,t)throw Error(r(300));e===null||ct||(e=e.dependencies,e!==null&&ri(e)&&(ct=!0))}function Qu(e,t,a,l){ge=e;var i=0;do{if(Mn&&(An=null),us=0,Mn=!1,25<=i)throw Error(r(301));if(i+=1,it=ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=_f,c=t(a,l)}while(Mn);return c}function vm(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?fs(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ge.flags|=1024),t}function lr(){var e=vi!==0;return vi=0,e}function nr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function sr(e){if(yi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yi=!1}_a=0,it=ke=ge=null,Mn=!1,us=vi=0,An=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ge.memoizedState=it=e:it=it.next=e,it}function at(){if(ke===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=it===null?ge.memoizedState:it.next;if(t!==null)it=t,ke=e;else{if(e===null)throw ge.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},it===null?ge.memoizedState=it=e:it=it.next=e}return it}function bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(e){var t=us;return us+=1,An===null&&(An=[]),e=ku(An,e,t),t=ge,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Df:yr),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fs(e);if(e.$$typeof===G)return yt(e)}throw Error(r(438,String(e)))}function ir(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=bi(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ee;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=at();return cr(t,ke,e)}function cr(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var i=e.baseQueue,c=l.pending;if(c!==null){if(i!==null){var p=i.next;i.next=c.next,c.next=p}t.baseQueue=i=c,l.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var x=p=null,M=null,_=t,Y=!1;do{var X=_.lane&-536870913;if(X!==_.lane?(Me&X)===X:(_a&X)===X){var j=_.revertLane;if(j===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),X===vn&&(Y=!0);else if((_a&j)===j){_=_.next,j===vn&&(Y=!0);continue}else X={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},M===null?(x=M=X,p=c):M=M.next=X,ge.lanes|=j,ol|=j;X=_.action,ql&&a(c,X),c=_.hasEagerState?_.eagerState:a(c,X)}else j={lane:X,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},M===null?(x=M=j,p=c):M=M.next=j,ge.lanes|=X,ol|=X;_=_.next}while(_!==null&&_!==t);if(M===null?p=c:M.next=x,!zt(c,e.memoizedState)&&(ct=!0,Y&&(a=bn,a!==null)))throw a;e.memoizedState=c,e.baseState=p,e.baseQueue=M,l.lastRenderedState=c}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rr(e){var t=at(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,c=t.memoizedState;if(i!==null){a.pending=null;var p=i=i.next;do c=e(c,p.action),p=p.next;while(p!==i);zt(c,t.memoizedState)||(ct=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,l]}function Fu(e,t,a){var l=ge,i=at(),c=Ne;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var p=!zt((ke||i).memoizedState,a);if(p&&(i.memoizedState=a,ct=!0),i=i.queue,fr($u.bind(null,l,i,e),[e]),i.getSnapshot!==t||p||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,Tn(9,{destroy:void 0},Wu.bind(null,l,i,a,t),null),Xe===null)throw Error(r(349));c||(_a&127)!==0||Ju(l,t,a)}return a}function Ju(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=bi(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Wu(e,t,a,l){t.value=a,t.getSnapshot=l,ef(t)&&tf(e)}function $u(e,t,a){return a(function(){ef(t)&&tf(e)})}function ef(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function tf(e){var t=Ol(e,2);t!==null&&Ot(t,e,2)}function or(e){var t=Nt();if(typeof e=="function"){var a=e;if(e=a(),ql){ht(!0);try{a()}finally{ht(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function af(e,t,a,l){return e.baseState=a,cr(e,ke,typeof l=="function"?l:ja)}function bm(e,t,a,l,i){if(Ai(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){c.listeners.push(p)}};C.T!==null?a(!0):c.isTransition=!1,l(c),a=t.pending,a===null?(c.next=t.pending=c,lf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function lf(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var c=C.T,p={};C.T=p;try{var x=a(i,l),M=C.S;M!==null&&M(p,x),nf(e,t,x)}catch(_){ur(e,t,_)}finally{c!==null&&p.types!==null&&(c.types=p.types),C.T=c}}else try{c=a(i,l),nf(e,t,c)}catch(_){ur(e,t,_)}}function nf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){sf(e,t,l)},function(l){return ur(e,t,l)}):sf(e,t,a)}function sf(e,t,a){t.status="fulfilled",t.value=a,cf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,lf(e,a)))}function ur(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,cf(t),t=t.next;while(t!==l)}e.action=null}function cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rf(e,t){return t}function of(e,t){if(Ne){var a=Xe.formState;if(a!==null){e:{var l=ge;if(Ne){if(Ze){t:{for(var i=Ze,c=$t;i.nodeType!==8;){if(!c){i=null;break t}if(i=ta(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){Ze=ta(i.nextSibling),l=i.data==="F!";break e}}el(l)}l=!1}l&&(t=a[0])}}return a=Nt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:t},a.queue=l,a=wf.bind(null,ge,l),l.dispatch=a,l=or(!1),c=gr.bind(null,ge,!1,l.queue),l=Nt(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=bm.bind(null,ge,i,c,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function uf(e){var t=at();return ff(t,ke,e)}function ff(e,t,a){if(t=cr(e,t,rf)[0],e=Si(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=fs(t)}catch(p){throw p===xn?fi:p}else l=t;t=at();var i=t.queue,c=i.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,Tn(9,{destroy:void 0},xm.bind(null,i,a),null)),[l,c,e]}function xm(e,t){e.action=t}function df(e){var t=at(),a=ke;if(a!==null)return ff(t,a,e);at(),t=t.memoizedState,a=at();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Tn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ge.updateQueue,t===null&&(t=bi(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function hf(){return at().memoizedState}function Ei(e,t,a,l){var i=Nt();ge.flags|=e,i.memoizedState=Tn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Mi(e,t,a,l){var i=at();l=l===void 0?null:l;var c=i.memoizedState.inst;ke!==null&&l!==null&&tr(l,ke.memoizedState.deps)?i.memoizedState=Tn(t,c,a,l):(ge.flags|=e,i.memoizedState=Tn(1|t,c,a,l))}function mf(e,t){Ei(8390656,8,e,t)}function fr(e,t){Mi(2048,8,e,t)}function Sm(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=bi(),ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function pf(e){var t=at().memoizedState;return Sm({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function gf(e,t){return Mi(4,2,e,t)}function yf(e,t){return Mi(4,4,e,t)}function vf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bf(e,t,a){a=a!=null?a.concat([e]):null,Mi(4,4,vf.bind(null,t,e),a)}function dr(){}function xf(e,t){var a=at();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&tr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Sf(e,t){var a=at();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&tr(t,l[1]))return l[0];if(l=e(),ql){ht(!0);try{e()}finally{ht(!1)}}return a.memoizedState=[l,t],l}function hr(e,t,a){return a===void 0||(_a&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ed(),ge.lanes|=e,ol|=e,a)}function Ef(e,t,a,l){return zt(a,t)?a:En.current!==null?(e=hr(e,a,l),zt(e,t)||(ct=!0),e):(_a&42)===0||(_a&1073741824)!==0&&(Me&261930)===0?(ct=!0,e.memoizedState=a):(e=Ed(),ge.lanes|=e,ol|=e,t)}function Mf(e,t,a,l,i){var c=K.p;K.p=c!==0&&8>c?c:8;var p=C.T,x={};C.T=x,gr(e,!1,t,a);try{var M=i(),_=C.S;if(_!==null&&_(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=gm(M,l);ds(e,t,Y,Pt(e))}else ds(e,t,l,Pt(e))}catch(X){ds(e,t,{then:function(){},status:"rejected",reason:X},Pt())}finally{K.p=c,p!==null&&x.types!==null&&(p.types=x.types),C.T=p}}function Em(){}function mr(e,t,a,l){if(e.tag!==5)throw Error(r(476));var i=Af(e).queue;Mf(e,i,t,ce,a===null?Em:function(){return Tf(e),a(l)})}function Af(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ce},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Tf(e){var t=Af(e);t.next===null&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Pt())}function pr(){return yt(Ls)}function Rf(){return at().memoizedState}function Nf(){return at().memoizedState}function Mm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Pt();e=ll(a);var l=nl(t,e,a);l!==null&&(Ot(l,t,a),cs(l,t,a)),t={cache:Pc()},e.payload=t;return}t=t.return}}function Am(e,t,a){var l=Pt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ai(e)?Lf(t,a):(a=jc(e,t,a,l),a!==null&&(Ot(a,e,l),Cf(a,t,l)))}function wf(e,t,a){var l=Pt();ds(e,t,a,l)}function ds(e,t,a,l){var i={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))Lf(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var p=t.lastRenderedState,x=c(p,a);if(i.hasEagerState=!0,i.eagerState=x,zt(x,p))return ni(e,t,i,0),Xe===null&&li(),!1}catch{}finally{}if(a=jc(e,t,i,l),a!==null)return Ot(a,e,l),Cf(a,t,l),!0}return!1}function gr(e,t,a,l){if(l={lane:2,revertLane:Zr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ai(e)){if(t)throw Error(r(479))}else t=jc(e,a,l,2),t!==null&&Ot(t,e,2)}function Ai(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Lf(e,t){Mn=yi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Cf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,qn(e,a)}}var hs={readContext:yt,use:xi,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};hs.useEffectEvent=We;var Df={readContext:yt,use:xi,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:mf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ei(4194308,4,vf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){Ei(4,2,e,t)},useMemo:function(e,t){var a=Nt();t=t===void 0?null:t;var l=e();if(ql){ht(!0);try{e()}finally{ht(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Nt();if(a!==void 0){var i=a(t);if(ql){ht(!0);try{a(t)}finally{ht(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=Am.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=or(e);var t=e.queue,a=wf.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:dr,useDeferredValue:function(e,t){var a=Nt();return hr(a,e,t)},useTransition:function(){var e=or(!1);return e=Mf.bind(null,ge,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ge,i=Nt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Xe===null)throw Error(r(349));(Me&127)!==0||Ju(l,t,a)}i.memoizedState=a;var c={value:a,getSnapshot:t};return i.queue=c,mf($u.bind(null,l,c,e),[e]),l.flags|=2048,Tn(9,{destroy:void 0},Wu.bind(null,l,c,a,t),null),a},useId:function(){var e=Nt(),t=Xe.identifierPrefix;if(Ne){var a=ga,l=pa;a=(l&~(1<<32-ut(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=vi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=ym++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pr,useFormState:of,useActionState:of,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=gr.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:ir,useCacheRefresh:function(){return Nt().memoizedState=Mm.bind(null,ge)},useEffectEvent:function(e){var t=Nt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},yr={readContext:yt,use:xi,useCallback:xf,useContext:yt,useEffect:fr,useImperativeHandle:bf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:Si,useRef:hf,useState:function(){return Si(ja)},useDebugValue:dr,useDeferredValue:function(e,t){var a=at();return Ef(a,ke.memoizedState,e,t)},useTransition:function(){var e=Si(ja)[0],t=at().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Fu,useId:Rf,useHostTransitionStatus:pr,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var a=at();return af(a,ke,e,t)},useMemoCache:ir,useCacheRefresh:Nf};yr.useEffectEvent=pf;var _f={readContext:yt,use:xi,useCallback:xf,useContext:yt,useEffect:fr,useImperativeHandle:bf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Sf,useReducer:rr,useRef:hf,useState:function(){return rr(ja)},useDebugValue:dr,useDeferredValue:function(e,t){var a=at();return ke===null?hr(a,e,t):Ef(a,ke.memoizedState,e,t)},useTransition:function(){var e=rr(ja)[0],t=at().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Fu,useId:Rf,useHostTransitionStatus:pr,useFormState:df,useActionState:df,useOptimistic:function(e,t){var a=at();return ke!==null?af(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ir,useCacheRefresh:Nf};_f.useEffectEvent=pf;function vr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var br={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Pt(),i=ll(l);i.payload=t,a!=null&&(i.callback=a),t=nl(e,i,l),t!==null&&(Ot(t,e,l),cs(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Pt(),i=ll(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=nl(e,i,l),t!==null&&(Ot(t,e,l),cs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Pt(),l=ll(a);l.tag=2,t!=null&&(l.callback=t),t=nl(e,l,a),t!==null&&(Ot(t,e,a),cs(t,e,a))}};function jf(e,t,a,l,i,c,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,p):t.prototype&&t.prototype.isPureReactComponent?!$n(a,l)||!$n(i,c):!0}function Of(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&br.enqueueReplaceState(t,t.state,null)}function Pl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Uf(e){ai(e)}function Bf(e){console.error(e)}function Hf(e){ai(e)}function Ti(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function zf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function xr(e,t,a){return a=ll(a),a.tag=3,a.payload={element:null},a.callback=function(){Ti(e,t)},a}function kf(e){return e=ll(e),e.tag=3,e}function Gf(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var c=l.value;e.payload=function(){return i(c)},e.callback=function(){zf(t,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){zf(t,a,l),typeof i!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Tm(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&yn(t,a,i,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return ea===null?Hi():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===di?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Xr(e,l,i)),!1;case 22:return a.flags|=65536,l===di?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Xr(e,l,i)),!1}throw Error(r(435,a.tag))}return Xr(e,l,i),Hi(),!1}if(Ne)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==kc&&(e=Error(r(422),{cause:l}),as(Ft(e,a)))):(l!==kc&&(t=Error(r(423),{cause:l}),as(Ft(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=Ft(l,a),i=xr(e.stateNode,l,i),Fc(e,i),$e!==4&&($e=2)),!1;var c=Error(r(520),{cause:l});if(c=Ft(c,a),Ss===null?Ss=[c]:Ss.push(c),$e!==4&&($e=2),t===null)return!0;l=Ft(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=xr(a.stateNode,l,e),Fc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ul===null||!ul.has(c))))return a.flags|=65536,i&=-i,a.lanes|=i,i=kf(i),Gf(i,e,a,l),Fc(a,i),!1}a=a.return}while(a!==null);return!1}var Sr=Error(r(461)),ct=!1;function vt(e,t,a,l){t.child=e===null?qu(t,null,a,l):Il(t,e.child,a,l)}function Yf(e,t,a,l,i){a=a.render;var c=t.ref;if("ref"in l){var p={};for(var x in l)x!=="ref"&&(p[x]=l[x])}else p=l;return zl(t),l=ar(e,t,a,p,c,i),x=lr(),e!==null&&!ct?(nr(e,t,i),Oa(e,t,i)):(Ne&&x&&Hc(t),t.flags|=1,vt(e,t,l,i),t.child)}function If(e,t,a,l,i){if(e===null){var c=a.type;return typeof c=="function"&&!Oc(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,qf(e,t,c,l,i)):(e=ii(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Lr(e,i)){var p=c.memoizedProps;if(a=a.compare,a=a!==null?a:$n,a(p,l)&&e.ref===t.ref)return Oa(e,t,i)}return t.flags|=1,e=wa(c,l),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,a,l,i){if(e!==null){var c=e.memoizedProps;if($n(c,l)&&e.ref===t.ref)if(ct=!1,t.pendingProps=l=c,Lr(e,i))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,Oa(e,t,i)}return Er(e,t,a,l,i)}function Pf(e,t,a,l){var i=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(l=t.child=e.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~c}else l=0,t.child=null;return Xf(e,t,c,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ui(t,c!==null?c.cachePool:null),c!==null?Vu(t,c):Wc(),Ku(t);else return l=t.lanes=536870912,Xf(e,t,c!==null?c.baseLanes|a:a,a,l)}else c!==null?(ui(t,c.cachePool),Vu(t,c),il(),t.memoizedState=null):(e!==null&&ui(t,null),Wc(),il());return vt(e,t,i,a),t.child}function ms(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xf(e,t,a,l,i){var c=Vc();return c=c===null?null:{parent:st._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&ui(t,null),Wc(),Ku(t),e!==null&&yn(e,t,l,!0),t.childLanes=i,null}function Ri(e,t){return t=wi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vf(e,t,a){return Il(t,e.child,null,a),e=Ri(t,t.pendingProps),e.flags|=2,Yt(t),t.memoizedState=null,e}function Rm(e,t,a){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=Ri(t,l),t.lanes=536870912,ms(null,e);if(er(t),(e=Ze)?(e=n0(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,gt=t,Ze=null)):e=null,e===null)throw el(t);return t.lanes=536870912,null}return Ri(t,l)}var c=e.memoizedState;if(c!==null){var p=c.dehydrated;if(er(t),i)if(t.flags&256)t.flags&=-257,t=Vf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(ct||yn(e,t,a,!1),i=(a&e.childLanes)!==0,ct||i){if(l=Xe,l!==null&&(p=Pn(l,a),p!==0&&p!==c.retryLane))throw c.retryLane=p,Ol(e,p),Ot(l,e,p),Sr;Hi(),t=Vf(e,t,a)}else e=c.treeContext,Ze=ta(p.nextSibling),gt=t,Ne=!0,$a=null,$t=!1,e!==null&&Du(t,e),t=Ri(t,l),t.flags|=4096;return t}return e=wa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Er(e,t,a,l,i){return zl(t),a=ar(e,t,a,l,void 0,i),l=lr(),e!==null&&!ct?(nr(e,t,i),Oa(e,t,i)):(Ne&&l&&Hc(t),t.flags|=1,vt(e,t,a,i),t.child)}function Kf(e,t,a,l,i,c){return zl(t),t.updateQueue=null,a=Qu(t,l,a,i),Zu(e),l=lr(),e!==null&&!ct?(nr(e,t,c),Oa(e,t,c)):(Ne&&l&&Hc(t),t.flags|=1,vt(e,t,a,c),t.child)}function Zf(e,t,a,l,i){if(zl(t),t.stateNode===null){var c=hn,p=a.contextType;typeof p=="object"&&p!==null&&(c=yt(p)),c=new a(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=br,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Zc(t),p=a.contextType,c.context=typeof p=="object"&&p!==null?yt(p):hn,c.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(vr(t,a,p,l),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(p=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),p!==c.state&&br.enqueueReplaceState(c,c.state,null),os(t,l,c,i),rs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var x=t.memoizedProps,M=Pl(a,x);c.props=M;var _=c.context,Y=a.contextType;p=hn,typeof Y=="object"&&Y!==null&&(p=yt(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof c.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,Y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x||_!==p)&&Of(t,c,l,p),al=!1;var j=t.memoizedState;c.state=j,os(t,l,c,i),rs(),_=t.memoizedState,x||j!==_||al?(typeof X=="function"&&(vr(t,a,X,l),_=t.memoizedState),(M=al||jf(t,a,M,l,j,_,p))?(Y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=_),c.props=l,c.state=_,c.context=p,l=M):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,Qc(e,t),p=t.memoizedProps,Y=Pl(a,p),c.props=Y,X=t.pendingProps,j=c.context,_=a.contextType,M=hn,typeof _=="object"&&_!==null&&(M=yt(_)),x=a.getDerivedStateFromProps,(_=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==X||j!==M)&&Of(t,c,l,M),al=!1,j=t.memoizedState,c.state=j,os(t,l,c,i),rs();var z=t.memoizedState;p!==X||j!==z||al||e!==null&&e.dependencies!==null&&ri(e.dependencies)?(typeof x=="function"&&(vr(t,a,x,l),z=t.memoizedState),(Y=al||jf(t,a,Y,l,j,z,M)||e!==null&&e.dependencies!==null&&ri(e.dependencies))?(_||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,z,M),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,z,M)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=z),c.props=l,c.state=z,c.context=M,l=Y):(typeof c.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,Ni(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Il(t,e.child,null,i),t.child=Il(t,null,a,i)):vt(e,t,a,i),t.memoizedState=c.state,e=t.child):e=Oa(e,t,i),e}function Qf(e,t,a,l){return Bl(),t.flags|=256,vt(e,t,a,l),t.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ar(e){return{baseLanes:e,cachePool:Hu()}}function Tr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function Ff(e,t,a){var l=t.pendingProps,i=!1,c=(t.flags&128)!==0,p;if((p=c)||(p=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),p&&(i=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(i?sl(t):il(),(e=Ze)?(e=n0(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wa!==null?{id:pa,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,gt=t,Ze=null)):e=null,e===null)throw el(t);return co(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,i?(il(),i=t.mode,x=wi({mode:"hidden",children:x},i),l=Ul(l,i,a,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=Ar(a),l.childLanes=Tr(e,p,a),t.memoizedState=Mr,ms(null,l)):(sl(t),Rr(t,x))}var M=e.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(c)t.flags&256?(sl(t),t.flags&=-257,t=Nr(e,t,a)):t.memoizedState!==null?(il(),t.child=e.child,t.flags|=128,t=null):(il(),x=l.fallback,i=t.mode,l=wi({mode:"visible",children:l.children},i),x=Ul(x,i,a,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Il(t,e.child,null,a),l=t.child,l.memoizedState=Ar(a),l.childLanes=Tr(e,p,a),t.memoizedState=Mr,t=ms(null,l));else if(sl(t),co(x)){if(p=x.nextSibling&&x.nextSibling.dataset,p)var _=p.dgst;p=_,l=Error(r(419)),l.stack="",l.digest=p,as({value:l,source:null,stack:null}),t=Nr(e,t,a)}else if(ct||yn(e,t,a,!1),p=(a&e.childLanes)!==0,ct||p){if(p=Xe,p!==null&&(l=Pn(p,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ol(e,l),Ot(p,e,l),Sr;io(x)||Hi(),t=Nr(e,t,a)}else io(x)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Ze=ta(x.nextSibling),gt=t,Ne=!0,$a=null,$t=!1,e!==null&&Du(t,e),t=Rr(t,l.children),t.flags|=4096);return t}return i?(il(),x=l.fallback,i=t.mode,M=e.child,_=M.sibling,l=wa(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,_!==null?x=wa(_,x):(x=Ul(x,i,a,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,ms(null,l),l=t.child,x=e.child.memoizedState,x===null?x=Ar(a):(i=x.cachePool,i!==null?(M=st._currentValue,i=i.parent!==M?{parent:M,pool:M}:i):i=Hu(),x={baseLanes:x.baseLanes|a,cachePool:i}),l.memoizedState=x,l.childLanes=Tr(e,p,a),t.memoizedState=Mr,ms(e.child,l)):(sl(t),a=e.child,e=a.sibling,a=wa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function Rr(e,t){return t=wi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wi(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function Nr(e,t,a){return Il(t,e.child,null,a),e=Rr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ic(e.return,t,a)}function wr(e,t,a,l,i,c){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i,treeForkCount:c}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=i,p.treeForkCount=c)}function Wf(e,t,a){var l=t.pendingProps,i=l.revealOrder,c=l.tail;l=l.children;var p=tt.current,x=(p&2)!==0;if(x?(p=p&1|2,t.flags|=128):p&=1,Z(tt,p),vt(e,t,l,a),l=Ne?ts:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,a,t);else if(e.tag===19)Jf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&gi(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),wr(t,!1,i,a,c,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gi(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}wr(t,!0,a,null,c,l);break;case"together":wr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ol|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=wa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=wa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Lr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ri(e)))}function Nm(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),tl(t,st,e.memoizedState.cache),Bl();break;case 27:case 5:da(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,er(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(sl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ff(e,t,a):(sl(t),e=Oa(e,t,a),e!==null?e.sibling:null);sl(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(yn(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return Wf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(tt,tt.current),l)break;return null;case 22:return t.lanes=0,Pf(e,t,a,t.pendingProps);case 24:tl(t,st,e.memoizedState.cache)}return Oa(e,t,a)}function $f(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Lr(e,a)&&(t.flags&128)===0)return ct=!1,Nm(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,Ne&&(t.flags&1048576)!==0&&Cu(t,ts,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Gl(t.elementType),t.type=e,typeof e=="function")Oc(e)?(l=Pl(e,l),t.tag=1,t=Zf(null,t,e,l,a)):(t.tag=0,t=Er(null,t,e,l,a));else{if(e!=null){var i=e.$$typeof;if(i===F){t.tag=11,t=Yf(null,t,e,l,a);break e}else if(i===q){t.tag=14,t=If(null,t,e,l,a);break e}}throw t=Ie(e)||e,Error(r(306,t,""))}}return t;case 0:return Er(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=Pl(l,t.pendingProps),Zf(e,t,l,i,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var c=t.memoizedState;i=c.element,Qc(e,t),os(t,l,null,a);var p=t.memoizedState;if(l=p.cache,tl(t,st,l),l!==c.cache&&qc(t,[st],a,!0),rs(),l=p.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Qf(e,t,l,a);break e}else if(l!==i){i=Ft(Error(r(424)),t),as(i),t=Qf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=ta(e.firstChild),gt=t,Ne=!0,$a=null,$t=!0,a=qu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bl(),l===i){t=Oa(e,t,a);break e}vt(e,t,l,a)}t=t.child}return t;case 26:return Ni(e,t),e===null?(a=u0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,l=Pi(oe.current).createElement(a),l[Re]=t,l[Ke]=e,bt(l,a,e),nt(l),t.stateNode=l):t.memoizedState=u0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return da(t),e===null&&Ne&&(l=t.stateNode=c0(t.type,t.pendingProps,oe.current),gt=t,$t=!0,i=Ze,ml(t.type)?(ro=i,Ze=ta(l.firstChild)):Ze=i),vt(e,t,t.pendingProps.children,a),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((i=l=Ze)&&(l=lp(l,t.type,t.pendingProps,$t),l!==null?(t.stateNode=l,gt=t,Ze=ta(l.firstChild),$t=!1,i=!0):i=!1),i||el(t)),da(t),i=t.type,c=t.pendingProps,p=e!==null?e.memoizedProps:null,l=c.children,lo(i,c)?l=null:p!==null&&lo(i,p)&&(t.flags|=32),t.memoizedState!==null&&(i=ar(e,t,vm,null,null,a),Ls._currentValue=i),Ni(e,t),vt(e,t,l,a),t.child;case 6:return e===null&&Ne&&((e=a=Ze)&&(a=np(a,t.pendingProps,$t),a!==null?(t.stateNode=a,gt=t,Ze=null,e=!0):e=!1),e||el(t)),null;case 13:return Ff(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Il(t,null,l,a):vt(e,t,l,a),t.child;case 11:return Yf(e,t,t.type,t.pendingProps,a);case 7:return vt(e,t,t.pendingProps,a),t.child;case 8:return vt(e,t,t.pendingProps.children,a),t.child;case 12:return vt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,tl(t,t.type,l.value),vt(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,zl(t),i=yt(i),l=l(i),t.flags|=1,vt(e,t,l,a),t.child;case 14:return If(e,t,t.type,t.pendingProps,a);case 15:return qf(e,t,t.type,t.pendingProps,a);case 19:return Wf(e,t,a);case 31:return Rm(e,t,a);case 22:return Pf(e,t,a,t.pendingProps);case 24:return zl(t),l=yt(st),e===null?(i=Vc(),i===null&&(i=Xe,c=Pc(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=a),i=c),t.memoizedState={parent:l,cache:i},Zc(t),tl(t,st,i)):((e.lanes&a)!==0&&(Qc(e,t),os(t,null,null,a),rs()),i=e.memoizedState,c=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),tl(t,st,l)):(l=c.cache,tl(t,st,l),l!==i.cache&&qc(t,[st],a,!0))),vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ua(e){e.flags|=4}function Cr(e,t,a,l,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Rd())e.flags|=8192;else throw Yl=di,Kc}else e.flags&=-16777217}function ed(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p0(t))if(Rd())e.flags|=8192;else throw Yl=di,Kc}function Li(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qs():536870912,e.lanes|=t,Ln|=t)}function ps(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function wm(e,t,a){var l=t.pendingProps;switch(zc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Da(st),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gn(t)?Ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gc())),Qe(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(Ua(t),c!==null?(Qe(t),ed(t,c)):(Qe(t),Cr(t,i,null,l,a))):c?c!==e.memoizedState?(Ua(t),Qe(t),ed(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ua(t),Qe(t),Cr(t,i,e,l,a)),null;case 27:if(Pa(t),a=oe.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ua(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}e=$.current,gn(t)?_u(t):(e=c0(i,l,a),t.stateNode=e,Ua(t))}return Qe(t),null;case 5:if(Pa(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ua(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}if(c=$.current,gn(t))_u(t);else{var p=Pi(oe.current);switch(c){case 1:c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=p.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?p.createElement(i,{is:l.is}):p.createElement(i)}}c[Re]=t,c[Ke]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)c.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=c;e:switch(bt(c,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ua(t)}}return Qe(t),Cr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ua(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=oe.current,gn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=gt,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[Re]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Fd(e.nodeValue,a)),e||el(t,!0)}else e=Pi(e).createTextNode(l),e[Re]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=gn(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Re]=t}else Bl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Yt(t),t):(Yt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=gn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[Re]=t}else Bl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else i=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Yt(t),t):(Yt(t),null)}return Yt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==i&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Li(t,t.updateQueue),Qe(t),null);case 4:return Le(),e===null&&Wr(t.stateNode.containerInfo),Qe(t),null;case 10:return Da(t.type),Qe(t),null;case 19:if(H(tt),l=t.memoizedState,l===null)return Qe(t),null;if(i=(t.flags&128)!==0,c=l.rendering,c===null)if(i)ps(l,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=gi(e),c!==null){for(t.flags|=128,ps(l,!1),e=c.updateQueue,t.updateQueue=e,Li(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nu(a,e),a=a.sibling;return Z(tt,tt.current&1|2),Ne&&La(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pe()>Oi&&(t.flags|=128,i=!0,ps(l,!1),t.lanes=4194304)}else{if(!i)if(e=gi(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Li(t,e),ps(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ne)return Qe(t),null}else 2*Pe()-l.renderingStartTime>Oi&&a!==536870912&&(t.flags|=128,i=!0,ps(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,a=tt.current,Z(tt,i?a&1|2:a&1),Ne&&La(t,l.treeForkCount),e):(Qe(t),null);case 22:case 23:return Yt(t),$c(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&Li(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&H(kl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Da(st),Qe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Lm(e,t){switch(zc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(st),Le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pa(t),null;case 31:if(t.memoizedState!==null){if(Yt(t),t.alternate===null)throw Error(r(340));Bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(tt),null;case 4:return Le(),null;case 10:return Da(t.type),null;case 22:case 23:return Yt(t),$c(),e!==null&&H(kl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(st),null;case 25:return null;default:return null}}function td(e,t){switch(zc(t),t.tag){case 3:Da(st),Le();break;case 26:case 27:case 5:Pa(t);break;case 4:Le();break;case 31:t.memoizedState!==null&&Yt(t);break;case 13:Yt(t);break;case 19:H(tt);break;case 10:Da(t.type);break;case 22:case 23:Yt(t),$c(),e!==null&&H(kl);break;case 24:Da(st)}}function gs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var c=a.create,p=a.inst;l=c(),p.destroy=l}a=a.next}while(a!==i)}}catch(x){ze(t,t.return,x)}}function cl(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var c=i.next;l=c;do{if((l.tag&e)===e){var p=l.inst,x=p.destroy;if(x!==void 0){p.destroy=void 0,i=t;var M=a,_=x;try{_()}catch(Y){ze(i,M,Y)}}}l=l.next}while(l!==c)}}catch(Y){ze(t,t.return,Y)}}function ad(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Xu(t,a)}catch(l){ze(e,e.return,l)}}}function ld(e,t,a){a.props=Pl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ze(e,t,l)}}function ys(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){ze(e,t,i)}}function ya(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){ze(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){ze(e,t,i)}else a.current=null}function nd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){ze(e,e.return,i)}}function Dr(e,t,a){try{var l=e.stateNode;Jm(l,e.type,a,t),l[Ke]=t}catch(i){ze(e,e.return,i)}}function sd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ml(e.type)||e.tag===4}function _r(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ml(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ra));else if(l!==4&&(l===27&&ml(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(jr(e,t,a),e=e.sibling;e!==null;)jr(e,t,a),e=e.sibling}function Ci(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ml(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ci(e,t,a),e=e.sibling;e!==null;)Ci(e,t,a),e=e.sibling}function id(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bt(t,l,a),t[Re]=e,t[Ke]=a}catch(c){ze(e,e.return,c)}}var Ba=!1,rt=!1,Or=!1,cd=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Cm(e,t){if(e=e.containerInfo,to=Ji,e=vu(e),Nc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var p=0,x=-1,M=-1,_=0,Y=0,X=e,j=null;t:for(;;){for(var z;X!==a||i!==0&&X.nodeType!==3||(x=p+i),X!==c||l!==0&&X.nodeType!==3||(M=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(z=X.firstChild)!==null;)j=X,X=z;for(;;){if(X===e)break t;if(j===a&&++_===i&&(x=p),j===c&&++Y===l&&(M=p),(z=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=z}a=x===-1||M===-1?null:{start:x,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(ao={focusedElem:e,selectionRange:a},Ji=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,i=c.memoizedProps,c=c.memoizedState,l=a.stateNode;try{var te=Pl(a.type,i);e=l.getSnapshotBeforeUpdate(te,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(ue){ze(a,a.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)so(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":so(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}}function rd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:za(e,a),l&4&&gs(5,a);break;case 1:if(za(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){ze(a,a.return,p)}else{var i=Pl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ze(a,a.return,p)}}l&64&&ad(a),l&512&&ys(a,a.return);break;case 3:if(za(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Xu(e,t)}catch(p){ze(a,a.return,p)}}break;case 27:t===null&&l&4&&id(a);case 26:case 5:za(e,a),t===null&&l&4&&nd(a),l&512&&ys(a,a.return);break;case 12:za(e,a);break;case 31:za(e,a),l&4&&fd(e,a);break;case 13:za(e,a),l&4&&dd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=km.bind(null,a),sp(e,a))));break;case 22:if(l=a.memoizedState!==null||Ba,!l){t=t!==null&&t.memoizedState!==null||rt,i=Ba;var c=rt;Ba=l,(rt=t)&&!c?ka(e,a,(a.subtreeFlags&8772)!==0):za(e,a),Ba=i,rt=c}break;case 30:break;default:za(e,a)}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ca(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Ct=!1;function Ha(e,t,a){for(a=a.child;a!==null;)ud(e,t,a),a=a.sibling}function ud(e,t,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 26:rt||ya(a,t),Ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ya(a,t);var l=Fe,i=Ct;ml(a.type)&&(Fe=a.stateNode,Ct=!1),Ha(e,t,a),Rs(a.stateNode),Fe=l,Ct=i;break;case 5:rt||ya(a,t);case 6:if(l=Fe,i=Ct,Fe=null,Ha(e,t,a),Fe=l,Ct=i,Fe!==null)if(Ct)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(c){ze(a,t,c)}else try{Fe.removeChild(a.stateNode)}catch(c){ze(a,t,c)}break;case 18:Fe!==null&&(Ct?(e=Fe,a0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Hn(e)):a0(Fe,a.stateNode));break;case 4:l=Fe,i=Ct,Fe=a.stateNode.containerInfo,Ct=!0,Ha(e,t,a),Fe=l,Ct=i;break;case 0:case 11:case 14:case 15:cl(2,a,t),rt||cl(4,a,t),Ha(e,t,a);break;case 1:rt||(ya(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ld(a,t,l)),Ha(e,t,a);break;case 21:Ha(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,Ha(e,t,a),rt=l;break;default:Ha(e,t,a)}}function fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hn(e)}catch(a){ze(t,t.return,a)}}}function dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hn(e)}catch(a){ze(t,t.return,a)}}function Dm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cd),t;default:throw Error(r(435,e.tag))}}function Di(e,t){var a=Dm(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var i=Gm.bind(null,e,l);l.then(i,i)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],c=e,p=t,x=p;e:for(;x!==null;){switch(x.tag){case 27:if(ml(x.type)){Fe=x.stateNode,Ct=!1;break e}break;case 5:Fe=x.stateNode,Ct=!1;break e;case 3:case 4:Fe=x.stateNode.containerInfo,Ct=!0;break e}x=x.return}if(Fe===null)throw Error(r(160));ud(c,p,i),Fe=null,Ct=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}var ua=null;function hd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),_t(e),l&4&&(cl(3,e,e.return),gs(3,e),cl(5,e,e.return));break;case 1:Dt(t,e),_t(e),l&512&&(rt||a===null||ya(a,a.return)),l&64&&Ba&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=ua;if(Dt(t,e),_t(e),l&512&&(rt||a===null||ya(a,a.return)),l&4){var c=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Qa]||c[Re]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(l),i.head.insertBefore(c,i.querySelector("head > title"))),bt(c,l,a),c[Re]=e,nt(c),l=c;break e;case"link":var p=h0("link","href",i).get(l+(a.href||""));if(p){for(var x=0;x<p.length;x++)if(c=p[x],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(x,1);break t}}c=i.createElement(l),bt(c,l,a),i.head.appendChild(c);break;case"meta":if(p=h0("meta","content",i).get(l+(a.content||""))){for(x=0;x<p.length;x++)if(c=p[x],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(x,1);break t}}c=i.createElement(l),bt(c,l,a),i.head.appendChild(c);break;default:throw Error(r(468,l))}c[Re]=e,nt(c),l=c}e.stateNode=l}else m0(i,e.type,e.stateNode);else e.stateNode=d0(i,l,e.memoizedProps);else c!==l?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,l===null?m0(i,e.type,e.stateNode):d0(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Dr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),_t(e),l&512&&(rt||a===null||ya(a,a.return)),a!==null&&l&4&&Dr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),_t(e),l&512&&(rt||a===null||ya(a,a.return)),e.flags&32){i=e.stateNode;try{sn(i,"")}catch(te){ze(e,e.return,te)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,Dr(e,i,a!==null?a.memoizedProps:i)),l&1024&&(Or=!0);break;case 6:if(Dt(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(te){ze(e,e.return,te)}}break;case 3:if(Ki=null,i=ua,ua=Xi(t.containerInfo),Dt(t,e),ua=i,_t(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hn(t.containerInfo)}catch(te){ze(e,e.return,te)}Or&&(Or=!1,md(e));break;case 4:l=ua,ua=Xi(e.stateNode.containerInfo),Dt(t,e),_t(e),ua=l;break;case 12:Dt(t,e),_t(e);break;case 31:Dt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Di(e,l)));break;case 13:Dt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ji=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Di(e,l)));break;case 22:i=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,_=Ba,Y=rt;if(Ba=_||i,rt=Y||M,Dt(t,e),rt=Y,Ba=_,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||M||Ba||rt||Xl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){M=a=t;try{if(c=M.stateNode,i)p=c.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{x=M.stateNode;var X=M.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;x.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(te){ze(M,M.return,te)}}}else if(t.tag===6){if(a===null){M=t;try{M.stateNode.nodeValue=i?"":M.memoizedProps}catch(te){ze(M,M.return,te)}}}else if(t.tag===18){if(a===null){M=t;try{var z=M.stateNode;i?l0(z,!0):l0(M.stateNode,!1)}catch(te){ze(M,M.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Di(e,a))));break;case 19:Dt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Di(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(sd(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,c=_r(e);Ci(e,c,i);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var x=_r(e);Ci(e,x,p);break;case 3:case 4:var M=a.stateNode.containerInfo,_=_r(e);jr(e,_,M);break;default:throw Error(r(161))}}catch(Y){ze(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function md(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;md(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rd(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Xl(t);break;case 1:ya(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ld(t,t.return,a),Xl(t);break;case 27:Rs(t.stateNode);case 26:case 5:ya(t,t.return),Xl(t);break;case 22:t.memoizedState===null&&Xl(t);break;case 30:Xl(t);break;default:Xl(t)}e=e.sibling}}function ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,c=t,p=c.flags;switch(c.tag){case 0:case 11:case 15:ka(i,c,a),gs(4,c);break;case 1:if(ka(i,c,a),l=c,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(_){ze(l,l.return,_)}if(l=c,i=l.updateQueue,i!==null){var x=l.stateNode;try{var M=i.shared.hiddenCallbacks;if(M!==null)for(i.shared.hiddenCallbacks=null,i=0;i<M.length;i++)Pu(M[i],x)}catch(_){ze(l,l.return,_)}}a&&p&64&&ad(c),ys(c,c.return);break;case 27:id(c);case 26:case 5:ka(i,c,a),a&&l===null&&p&4&&nd(c),ys(c,c.return);break;case 12:ka(i,c,a);break;case 31:ka(i,c,a),a&&p&4&&fd(i,c);break;case 13:ka(i,c,a),a&&p&4&&dd(i,c);break;case 22:c.memoizedState===null&&ka(i,c,a),ys(c,c.return);break;case 30:break;default:ka(i,c,a)}t=t.sibling}}function Ur(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ls(a))}function Br(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e))}function fa(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(e,t,a,l),t=t.sibling}function pd(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:fa(e,t,a,l),i&2048&&gs(9,t);break;case 1:fa(e,t,a,l);break;case 3:fa(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ls(e)));break;case 12:if(i&2048){fa(e,t,a,l),e=t.stateNode;try{var c=t.memoizedProps,p=c.id,x=c.onPostCommit;typeof x=="function"&&x(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){ze(t,t.return,M)}}else fa(e,t,a,l);break;case 31:fa(e,t,a,l);break;case 13:fa(e,t,a,l);break;case 23:break;case 22:c=t.stateNode,p=t.alternate,t.memoizedState!==null?c._visibility&2?fa(e,t,a,l):vs(e,t):c._visibility&2?fa(e,t,a,l):(c._visibility|=2,Rn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ur(p,t);break;case 24:fa(e,t,a,l),i&2048&&Br(t.alternate,t);break;default:fa(e,t,a,l)}}function Rn(e,t,a,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,p=t,x=a,M=l,_=p.flags;switch(p.tag){case 0:case 11:case 15:Rn(c,p,x,M,i),gs(8,p);break;case 23:break;case 22:var Y=p.stateNode;p.memoizedState!==null?Y._visibility&2?Rn(c,p,x,M,i):vs(c,p):(Y._visibility|=2,Rn(c,p,x,M,i)),i&&_&2048&&Ur(p.alternate,p);break;case 24:Rn(c,p,x,M,i),i&&_&2048&&Br(p.alternate,p);break;default:Rn(c,p,x,M,i)}t=t.sibling}}function vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:vs(a,l),i&2048&&Ur(l.alternate,l);break;case 24:vs(a,l),i&2048&&Br(l.alternate,l);break;default:vs(a,l)}t=t.sibling}}var bs=8192;function Nn(e,t,a){if(e.subtreeFlags&bs)for(e=e.child;e!==null;)gd(e,t,a),e=e.sibling}function gd(e,t,a){switch(e.tag){case 26:Nn(e,t,a),e.flags&bs&&e.memoizedState!==null&&yp(a,ua,e.memoizedState,e.memoizedProps);break;case 5:Nn(e,t,a);break;case 3:case 4:var l=ua;ua=Xi(e.stateNode.containerInfo),Nn(e,t,a),ua=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=bs,bs=16777216,Nn(e,t,a),bs=l):Nn(e,t,a));break;default:Nn(e,t,a)}}function yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,bd(l,e)}yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vd(e),e=e.sibling}function vd(e){switch(e.tag){case 0:case 11:case 15:xs(e),e.flags&2048&&cl(9,e,e.return);break;case 3:xs(e);break;case 12:xs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_i(e)):xs(e);break;default:xs(e)}}function _i(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,bd(l,e)}yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cl(8,t,t.return),_i(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,_i(t));break;default:_i(t)}e=e.sibling}}function bd(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:cl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ls(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,pt=l;else e:for(a=e;pt!==null;){l=pt;var i=l.sibling,c=l.return;if(od(l),l===a){pt=null;break e}if(i!==null){i.return=c,pt=i;break e}pt=c}}}var _m={getCacheForType:function(e){var t=yt(st),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return yt(st).controller.signal}},jm=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Xe=null,xe=null,Me=0,He=0,It=null,rl=!1,wn=!1,Hr=!1,Ga=0,$e=0,ol=0,Vl=0,zr=0,qt=0,Ln=0,Ss=null,jt=null,kr=!1,ji=0,xd=0,Oi=1/0,Ui=null,ul=null,ft=0,fl=null,Cn=null,Ya=0,Gr=0,Yr=null,Sd=null,Es=0,Ir=null;function Pt(){return(Oe&2)!==0&&Me!==0?Me&-Me:C.T!==null?Zr():se()}function Ed(){if(qt===0)if((Me&536870912)===0||Ne){var e=Wl;Wl<<=1,(Wl&3932160)===0&&(Wl=262144),qt=e}else qt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),qt}function Ot(e,t,a){(e===Xe&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Dn(e,0),dl(e,Me,qt,!1)),wl(e,a),((Oe&2)===0||e!==Xe)&&(e===Xe&&((Oe&2)===0&&(Vl|=a),$e===4&&dl(e,Me,qt,!1)),va(e))}function Md(e,t,a){if((Oe&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Nl(e,t),i=l?Bm(e,t):Pr(e,t,!0),c=l;do{if(i===0){wn&&!l&&dl(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Om(a)){i=Pr(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var x=e;i=Ss;var M=x.current.memoizedState.isDehydrated;if(M&&(Dn(x,p).flags|=256),p=Pr(x,p,!1),p!==2){if(Hr&&!M){x.errorRecoveryDisabledLanes|=c,Vl|=c,i=4;break e}c=jt,jt=i,c!==null&&(jt===null?jt=c:jt.push.apply(jt,c))}i=p}if(c=!1,i!==2)continue}}if(i===1){Dn(e,0),dl(e,t,0,!0);break}e:{switch(l=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:dl(l,t,qt,!rl);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=ji+300-Pe(),10<i)){if(dl(l,t,qt,!rl),$l(l,0,!0)!==0)break e;Ya=t,l.timeoutHandle=e0(Ad.bind(null,l,a,jt,Ui,kr,t,qt,Vl,Ln,rl,c,"Throttled",-0,0),i);break e}Ad(l,a,jt,Ui,kr,t,qt,Vl,Ln,rl,c,null,-0,0)}}break}while(!0);va(e)}function Ad(e,t,a,l,i,c,p,x,M,_,Y,X,j,z){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},gd(t,c,X);var te=(c&62914560)===c?ji-Pe():(c&4194048)===c?xd-Pe():0;if(te=vp(X,te),te!==null){Ya=c,e.cancelPendingCommit=te(_d.bind(null,e,t,c,a,l,i,p,x,M,Y,X,null,j,z)),dl(e,c,p,!_);return}}_d(e,t,c,a,l,i,p,x,M)}function Om(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],c=i.getSnapshot;i=i.value;try{if(!zt(c(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dl(e,t,a,l){t&=~zr,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var c=31-ut(i),p=1<<c;l[c]=-1,i&=~p}a!==0&&Ps(e,a,t)}function Bi(){return(Oe&6)===0?(Ms(0),!1):!0}function qr(){if(xe!==null){if(He===0)var e=xe.return;else e=xe,Ca=Hl=null,sr(e),Sn=null,ss=0,e=xe;for(;e!==null;)td(e.alternate,e),e=e.return;xe=null}}function Dn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ep(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ya=0,qr(),Xe=e,xe=a=wa(e.current,null),Me=t,He=0,It=null,rl=!1,wn=Nl(e,t),Hr=!1,Ln=qt=zr=Vl=ol=$e=0,jt=Ss=null,kr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-ut(l),c=1<<i;t|=e[i],l&=~c}return Ga=t,li(),a}function Td(e,t){ge=null,C.H=hs,t===xn||t===fi?(t=Gu(),He=3):t===Kc?(t=Gu(),He=4):He=t===Sr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,xe===null&&($e=1,Ti(e,Ft(t,e.current)))}function Rd(){var e=Gt.current;return e===null?!0:(Me&4194048)===Me?ea===null:(Me&62914560)===Me||(Me&536870912)!==0?e===ea:!1}function Nd(){var e=C.H;return C.H=hs,e===null?hs:e}function wd(){var e=C.A;return C.A=_m,e}function Hi(){$e=4,rl||(Me&4194048)!==Me&&Gt.current!==null||(wn=!0),(ol&134217727)===0&&(Vl&134217727)===0||Xe===null||dl(Xe,Me,qt,!1)}function Pr(e,t,a){var l=Oe;Oe|=2;var i=Nd(),c=wd();(Xe!==e||Me!==t)&&(Ui=null,Dn(e,t)),t=!1;var p=$e;e:do try{if(He!==0&&xe!==null){var x=xe,M=It;switch(He){case 8:qr(),p=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var _=He;if(He=0,It=null,_n(e,x,M,_),a&&wn){p=0;break e}break;default:_=He,He=0,It=null,_n(e,x,M,_)}}Um(),p=$e;break}catch(Y){Td(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Ca=Hl=null,Oe=l,C.H=i,C.A=c,xe===null&&(Xe=null,Me=0,li()),p}function Um(){for(;xe!==null;)Ld(xe)}function Bm(e,t){var a=Oe;Oe|=2;var l=Nd(),i=wd();Xe!==e||Me!==t?(Ui=null,Oi=Pe()+500,Dn(e,t)):wn=Nl(e,t);e:do try{if(He!==0&&xe!==null){t=xe;var c=It;t:switch(He){case 1:He=0,It=null,_n(e,t,c,1);break;case 2:case 9:if(zu(c)){He=0,It=null,Cd(t);break}t=function(){He!==2&&He!==9||Xe!==e||(He=7),va(e)},c.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:zu(c)?(He=0,It=null,Cd(t)):(He=0,It=null,_n(e,t,c,7));break;case 5:var p=null;switch(xe.tag){case 26:p=xe.memoizedState;case 5:case 27:var x=xe;if(p?p0(p):x.stateNode.complete){He=0,It=null;var M=x.sibling;if(M!==null)xe=M;else{var _=x.return;_!==null?(xe=_,zi(_)):xe=null}break t}}He=0,It=null,_n(e,t,c,5);break;case 6:He=0,It=null,_n(e,t,c,6);break;case 8:qr(),$e=6;break e;default:throw Error(r(462))}}Hm();break}catch(Y){Td(e,Y)}while(!0);return Ca=Hl=null,C.H=l,C.A=i,Oe=a,xe!==null?0:(Xe=null,Me=0,li(),$e)}function Hm(){for(;xe!==null&&!Tl();)Ld(xe)}function Ld(e){var t=$f(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,t===null?zi(e):xe=t}function Cd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Kf(a,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Kf(a,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:sr(t);default:td(a,t),t=xe=Nu(t,Ga),t=$f(a,t,Ga)}e.memoizedProps=e.pendingProps,t===null?zi(e):xe=t}function _n(e,t,a,l){Ca=Hl=null,sr(t),Sn=null,ss=0;var i=t.return;try{if(Tm(e,i,t,a,Me)){$e=1,Ti(e,Ft(a,e.current)),xe=null;return}}catch(c){if(i!==null)throw xe=i,c;$e=1,Ti(e,Ft(a,e.current)),xe=null;return}t.flags&32768?(Ne||l===1?e=!0:wn||(Me&536870912)!==0?e=!1:(rl=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dd(t,e)):zi(t)}function zi(e){var t=e;do{if((t.flags&32768)!==0){Dd(t,rl);return}e=t.return;var a=wm(t.alternate,t,Ga);if(a!==null){xe=a;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);$e===0&&($e=5)}function Dd(e,t){do{var a=Lm(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);$e=6,xe=null}function _d(e,t,a,l,i,c,p,x,M){e.cancelPendingCommit=null;do ki();while(ft!==0);if((Oe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=_c,en(e,a,c,p,x,M),e===Xe&&(xe=Xe=null,Me=0),Cn=t,fl=e,Ya=a,Gr=c,Yr=i,Sd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ym(et,function(){return Hd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,i=K.p,K.p=2,p=Oe,Oe|=4;try{Cm(e,t,a)}finally{Oe=p,K.p=i,C.T=l}}ft=1,jd(),Od(),Ud()}}function jd(){if(ft===1){ft=0;var e=fl,t=Cn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var l=K.p;K.p=2;var i=Oe;Oe|=4;try{hd(t,e);var c=ao,p=vu(e.containerInfo),x=c.focusedElem,M=c.selectionRange;if(p!==x&&x&&x.ownerDocument&&yu(x.ownerDocument.documentElement,x)){if(M!==null&&Nc(x)){var _=M.start,Y=M.end;if(Y===void 0&&(Y=_),"selectionStart"in x)x.selectionStart=_,x.selectionEnd=Math.min(Y,x.value.length);else{var X=x.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var z=j.getSelection(),te=x.textContent.length,ue=Math.min(M.start,te),Ye=M.end===void 0?ue:Math.min(M.end,te);!z.extend&&ue>Ye&&(p=Ye,Ye=ue,ue=p);var w=gu(x,ue),N=gu(x,Ye);if(w&&N&&(z.rangeCount!==1||z.anchorNode!==w.node||z.anchorOffset!==w.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var D=X.createRange();D.setStart(w.node,w.offset),z.removeAllRanges(),ue>Ye?(z.addRange(D),z.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),z.addRange(D))}}}}for(X=[],z=x;z=z.parentNode;)z.nodeType===1&&X.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<X.length;x++){var P=X[x];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Ji=!!to,ao=to=null}finally{Oe=i,K.p=l,C.T=a}}e.current=t,ft=2}}function Od(){if(ft===2){ft=0;var e=fl,t=Cn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var l=K.p;K.p=2;var i=Oe;Oe|=4;try{rd(e,t.alternate,t)}finally{Oe=i,K.p=l,C.T=a}}ft=3}}function Ud(){if(ft===4||ft===3){ft=0,Ve();var e=fl,t=Cn,a=Ya,l=Sd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,Cn=fl=null,Bd(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ul=null),an(a),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ia,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,i=K.p,K.p=2,C.T=null;try{for(var c=e.onRecoverableError,p=0;p<l.length;p++){var x=l[p];c(x.value,{componentStack:x.stack})}}finally{C.T=t,K.p=i}}(Ya&3)!==0&&ki(),va(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Ir?Es++:(Es=0,Ir=e):Es=0,Ms(0)}}function Bd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ls(t)))}function ki(){return jd(),Od(),Ud(),Hd()}function Hd(){if(ft!==5)return!1;var e=fl,t=Gr;Gr=0;var a=an(Ya),l=C.T,i=K.p;try{K.p=32>a?32:a,C.T=null,a=Yr,Yr=null;var c=fl,p=Ya;if(ft=0,Cn=fl=null,Ya=0,(Oe&6)!==0)throw Error(r(331));var x=Oe;if(Oe|=4,vd(c.current),pd(c,c.current,p,a),Oe=x,Ms(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ia,c)}catch{}return!0}finally{K.p=i,C.T=l,Bd(e,t)}}function zd(e,t,a){t=Ft(a,t),t=xr(e.stateNode,t,2),e=nl(e,t,2),e!==null&&(wl(e,2),va(e))}function ze(e,t,a){if(e.tag===3)zd(e,e,a);else for(;t!==null;){if(t.tag===3){zd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ul===null||!ul.has(l))){e=Ft(a,e),a=kf(2),l=nl(t,a,2),l!==null&&(Gf(a,l,t,e),wl(l,2),va(l));break}}t=t.return}}function Xr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new jm;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(Hr=!0,i.add(a),e=zm.bind(null,e,t,a),t.then(e,e))}function zm(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xe===e&&(Me&a)===a&&($e===4||$e===3&&(Me&62914560)===Me&&300>Pe()-ji?(Oe&2)===0&&Dn(e,0):zr|=a,Ln===Me&&(Ln=0)),va(e)}function kd(e,t){t===0&&(t=qs()),e=Ol(e,t),e!==null&&(wl(e,t),va(e))}function km(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),kd(e,a)}function Gm(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),kd(e,a)}function Ym(e,t){return Al(e,t)}var Gi=null,jn=null,Vr=!1,Yi=!1,Kr=!1,hl=0;function va(e){e!==jn&&e.next===null&&(jn===null?Gi=jn=e:jn=jn.next=e),Yi=!0,Vr||(Vr=!0,qm())}function Ms(e,t){if(!Kr&&Yi){Kr=!0;do for(var a=!1,l=Gi;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var c=0;else{var p=l.suspendedLanes,x=l.pingedLanes;c=(1<<31-ut(42|e)+1)-1,c&=i&~(p&~x),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,qd(l,c))}else c=Me,c=$l(l,l===Xe?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Nl(l,c)||(a=!0,qd(l,c));l=l.next}while(a);Kr=!1}}function Im(){Gd()}function Gd(){Yi=Vr=!1;var e=0;hl!==0&&$m()&&(e=hl);for(var t=Pe(),a=null,l=Gi;l!==null;){var i=l.next,c=Yd(l,t);c===0?(l.next=null,a===null?Gi=i:a.next=i,i===null&&(jn=a)):(a=l,(e!==0||(c&3)!==0)&&(Yi=!0)),l=i}ft!==0&&ft!==5||Ms(e),hl!==0&&(hl=0)}function Yd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var p=31-ut(c),x=1<<p,M=i[p];M===-1?((x&a)===0||(x&l)!==0)&&(i[p]=uc(x,t)):M<=t&&(e.expiredLanes|=x),c&=~x}if(t=Xe,a=Me,a=$l(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&sa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Nl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&sa(l),an(a)){case 2:case 8:a=xt;break;case 32:a=et;break;case 268435456:a=Ka;break;default:a=et}return l=Id.bind(null,e),a=Al(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&sa(l),e.callbackPriority=2,e.callbackNode=null,2}function Id(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ki()&&e.callbackNode!==a)return null;var l=Me;return l=$l(e,e===Xe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Md(e,l,t),Yd(e,Pe()),e.callbackNode!=null&&e.callbackNode===a?Id.bind(null,e):null)}function qd(e,t){if(ki())return null;Md(e,t,!0)}function qm(){tp(function(){(Oe&6)!==0?Al(Rt,Im):Gd()})}function Zr(){if(hl===0){var e=vn;e===0&&(e=Jl,Jl<<=1,(Jl&261888)===0&&(Jl=256)),hl=e}return hl}function Pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Xd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Pm(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var c=Pd((i[Ke]||null).action),p=l.submitter;p&&(t=(t=p[Ke]||null)?Pd(t.formAction):p.getAttribute("formAction"),t!==null&&(c=t,p=null));var x=new $s("action","action",null,l,i);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hl!==0){var M=p?Xd(i,p):new FormData(i);mr(a,{pending:!0,data:M,method:i.method,action:c},null,M)}}else typeof c=="function"&&(x.preventDefault(),M=p?Xd(i,p):new FormData(i),mr(a,{pending:!0,data:M,method:i.method,action:c},c,M))},currentTarget:i}]})}}for(var Qr=0;Qr<Dc.length;Qr++){var Fr=Dc[Qr],Xm=Fr.toLowerCase(),Vm=Fr[0].toUpperCase()+Fr.slice(1);oa(Xm,"on"+Vm)}oa(Su,"onAnimationEnd"),oa(Eu,"onAnimationIteration"),oa(Mu,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(rm,"onTransitionRun"),oa(om,"onTransitionStart"),oa(um,"onTransitionCancel"),oa(Au,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Km=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function Vd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var p=l.length-1;0<=p;p--){var x=l[p],M=x.instance,_=x.currentTarget;if(x=x.listener,M!==c&&i.isPropagationStopped())break e;c=x,i.currentTarget=_;try{c(i)}catch(Y){ai(Y)}i.currentTarget=null,c=M}else for(p=0;p<l.length;p++){if(x=l[p],M=x.instance,_=x.currentTarget,x=x.listener,M!==c&&i.isPropagationStopped())break e;c=x,i.currentTarget=_;try{c(i)}catch(Y){ai(Y)}i.currentTarget=null,c=M}}}}function Se(e,t){var a=t[Et];a===void 0&&(a=t[Et]=new Set);var l=e+"__bubble";a.has(l)||(Kd(t,e,2,!1),a.add(l))}function Jr(e,t,a){var l=0;t&&(l|=4),Kd(a,e,l,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Ii]){e[Ii]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(Km.has(a)||Jr(a,!1,e),Jr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Jr("selectionchange",!1,t))}}function Kd(e,t,a,l){switch(E0(t)){case 2:var i=Sp;break;case 8:i=Ep;break;default:i=mo}a=i.bind(null,t,a,e),i=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function $r(e,t,a,l,i){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var x=l.stateNode.containerInfo;if(x===i)break;if(p===4)for(p=l.return;p!==null;){var M=p.tag;if((M===3||M===4)&&p.stateNode.containerInfo===i)return;p=p.return}for(;x!==null;){if(p=Vt(x),p===null)return;if(M=p.tag,M===5||M===6||M===26||M===27){l=c=p;continue e}x=x.parentNode}}l=l.return}Jo(function(){var _=c,Y=gc(a),X=[];e:{var j=Tu.get(e);if(j!==void 0){var z=$s,te=e;switch(e){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":z=Gh;break;case"focusin":te="focus",z=Ec;break;case"focusout":te="blur",z=Ec;break;case"beforeblur":case"afterblur":z=Ec;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=qh;break;case Su:case Eu:case Mu:z=Dh;break;case Au:z=Xh;break;case"scroll":case"scrollend":z=Rh;break;case"wheel":z=Kh;break;case"copy":case"cut":case"paste":z=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=au;break;case"toggle":case"beforetoggle":z=Qh}var ue=(t&4)!==0,Ye=!ue&&(e==="scroll"||e==="scrollend"),w=ue?j!==null?j+"Capture":null:j;ue=[];for(var N=_,D;N!==null;){var P=N;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||w===null||(P=Vn(N,w),P!=null&&ue.push(Ts(N,P,D))),Ye)break;N=N.return}0<ue.length&&(j=new z(j,te,null,a,Y),X.push({event:j,listeners:ue}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",j&&a!==pc&&(te=a.relatedTarget||a.fromElement)&&(Vt(te)||te[mt]))break e;if((z||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,z?(te=a.relatedTarget||a.toElement,z=_,te=te?Vt(te):null,te!==null&&(Ye=d(te),ue=te.tag,te!==Ye||ue!==5&&ue!==27&&ue!==6)&&(te=null)):(z=null,te=_),z!==te)){if(ue=eu,P="onMouseLeave",w="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ue=au,P="onPointerLeave",w="onPointerEnter",N="pointer"),Ye=z==null?j:Cl(z),D=te==null?j:Cl(te),j=new ue(P,N+"leave",z,a,Y),j.target=Ye,j.relatedTarget=D,P=null,Vt(Y)===_&&(ue=new ue(w,N+"enter",te,a,Y),ue.target=D,ue.relatedTarget=Ye,P=ue),Ye=P,z&&te)t:{for(ue=Zm,w=z,N=te,D=0,P=w;P;P=ue(P))D++;P=0;for(var re=N;re;re=ue(re))P++;for(;0<D-P;)w=ue(w),D--;for(;0<P-D;)N=ue(N),P--;for(;D--;){if(w===N||N!==null&&w===N.alternate){ue=w;break t}w=ue(w),N=ue(N)}ue=null}else ue=null;z!==null&&Zd(X,j,z,ue,!1),te!==null&&Ye!==null&&Zd(X,Ye,te,ue,!0)}}e:{if(j=_?Cl(_):window,z=j.nodeName&&j.nodeName.toLowerCase(),z==="select"||z==="input"&&j.type==="file")var Ce=uu;else if(ru(j))if(fu)Ce=sm;else{Ce=lm;var ne=am}else z=j.nodeName,!z||z.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?_&&mc(_.elementType)&&(Ce=uu):Ce=nm;if(Ce&&(Ce=Ce(e,_))){ou(X,Ce,a,Y);break e}ne&&ne(e,j,_),e==="focusout"&&_&&j.type==="number"&&_.memoizedProps.value!=null&&hc(j,"number",j.value)}switch(ne=_?Cl(_):window,e){case"focusin":(ru(ne)||ne.contentEditable==="true")&&(un=ne,wc=_,es=null);break;case"focusout":es=wc=un=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,bu(X,a,Y);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":bu(X,a,Y)}var ye;if(Ac)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else on?iu(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(lu&&a.locale!=="ko"&&(on||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&on&&(ye=Wo()):(Ja=Y,bc="value"in Ja?Ja.value:Ja.textContent,on=!0)),ne=qi(_,Ae),0<ne.length&&(Ae=new tu(Ae,e,null,a,Y),X.push({event:Ae,listeners:ne}),ye?Ae.data=ye:(ye=cu(a),ye!==null&&(Ae.data=ye)))),(ye=Jh?Wh(e,a):$h(e,a))&&(Ae=qi(_,"onBeforeInput"),0<Ae.length&&(ne=new tu("onBeforeInput","beforeinput",null,a,Y),X.push({event:ne,listeners:Ae}),ne.data=ye)),Pm(X,e,_,a,Y)}Vd(X,t)})}function Ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function qi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=Vn(e,a),i!=null&&l.unshift(Ts(e,i,c)),i=Vn(e,t),i!=null&&l.push(Ts(e,i,c))),e.tag===3)return l;e=e.return}return[]}function Zm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zd(e,t,a,l,i){for(var c=t._reactName,p=[];a!==null&&a!==l;){var x=a,M=x.alternate,_=x.stateNode;if(x=x.tag,M!==null&&M===l)break;x!==5&&x!==26&&x!==27||_===null||(M=_,i?(_=Vn(a,c),_!=null&&p.unshift(Ts(a,_,M))):i||(_=Vn(a,c),_!=null&&p.push(Ts(a,_,M)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Qm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function Qd(e){return(typeof e=="string"?e:""+e).replace(Qm,`
`).replace(Fm,"")}function Fd(e,t){return t=Qd(t),Qd(e)===t}function Ge(e,t,a,l,i,c){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&sn(e,""+l);break;case"className":Ks(e,"class",l);break;case"tabIndex":Ks(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(e,a,l);break;case"style":Qo(e,l,c);break;case"data":if(t!=="object"){Ks(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ge(e,t,"name",i.name,i,null),Ge(e,t,"formEncType",i.formEncType,i,null),Ge(e,t,"formMethod",i.formMethod,i,null),Ge(e,t,"formTarget",i.formTarget,i,null)):(Ge(e,t,"encType",i.encType,i,null),Ge(e,t,"method",i.method,i,null),Ge(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ra);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Vs(e,"popover",l);break;case"xlinkActuate":Ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ta(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ta(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ta(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ta(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,Vs(e,a,l))}}function eo(e,t,a,l,i,c){switch(a){case"style":Qo(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Se("scroll",e);break;case"onScrollEnd":l!=null&&Se("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),c=e[Ke]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof l=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Vs(e,a,l)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var l=!1,i=!1,c;for(c in a)if(a.hasOwnProperty(c)){var p=a[c];if(p!=null)switch(c){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,c,p,a,null)}}i&&Ge(e,t,"srcSet",a.srcSet,a,null),l&&Ge(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var x=c=p=i=null,M=null,_=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":i=Y;break;case"type":p=Y;break;case"checked":M=Y;break;case"defaultChecked":_=Y;break;case"value":c=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,t));break;default:Ge(e,t,l,Y,a,null)}}Xo(e,c,x,M,_,p,i,!1);return;case"select":Se("invalid",e),l=p=c=null;for(i in a)if(a.hasOwnProperty(i)&&(x=a[i],x!=null))switch(i){case"value":c=x;break;case"defaultValue":p=x;break;case"multiple":l=x;default:Ge(e,t,i,x,a,null)}t=c,a=p,e.multiple=!!l,t!=null?nn(e,!!l,t,!1):a!=null&&nn(e,!!l,a,!0);return;case"textarea":Se("invalid",e),c=i=l=null;for(p in a)if(a.hasOwnProperty(p)&&(x=a[p],x!=null))switch(p){case"value":l=x;break;case"defaultValue":i=x;break;case"children":c=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ge(e,t,p,x,a,null)}Ko(e,l,i,c);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ge(e,t,M,l,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(l=0;l<As.length;l++)Se(As[l],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in a)if(a.hasOwnProperty(_)&&(l=a[_],l!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ge(e,t,_,l,a,null)}return;default:if(mc(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&eo(e,t,Y,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Ge(e,t,x,l,a,null))}function Jm(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,p=null,x=null,M=null,_=null,Y=null;for(z in a){var X=a[z];if(a.hasOwnProperty(z)&&X!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":M=X;default:l.hasOwnProperty(z)||Ge(e,t,z,null,l,X)}}for(var j in l){var z=l[j];if(X=a[j],l.hasOwnProperty(j)&&(z!=null||X!=null))switch(j){case"type":c=z;break;case"name":i=z;break;case"checked":_=z;break;case"defaultChecked":Y=z;break;case"value":p=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==X&&Ge(e,t,j,z,l,X)}}dc(e,p,x,M,_,Y,c,i);return;case"select":z=p=x=j=null;for(c in a)if(M=a[c],a.hasOwnProperty(c)&&M!=null)switch(c){case"value":break;case"multiple":z=M;default:l.hasOwnProperty(c)||Ge(e,t,c,null,l,M)}for(i in l)if(c=l[i],M=a[i],l.hasOwnProperty(i)&&(c!=null||M!=null))switch(i){case"value":j=c;break;case"defaultValue":x=c;break;case"multiple":p=c;default:c!==M&&Ge(e,t,i,c,l,M)}t=x,a=p,l=z,j!=null?nn(e,!!a,j,!1):!!l!=!!a&&(t!=null?nn(e,!!a,t,!0):nn(e,!!a,a?[]:"",!1));return;case"textarea":z=j=null;for(x in a)if(i=a[x],a.hasOwnProperty(x)&&i!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ge(e,t,x,null,l,i)}for(p in l)if(i=l[p],c=a[p],l.hasOwnProperty(p)&&(i!=null||c!=null))switch(p){case"value":j=i;break;case"defaultValue":z=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&Ge(e,t,p,i,l,c)}Vo(e,j,z);return;case"option":for(var te in a)if(j=a[te],a.hasOwnProperty(te)&&j!=null&&!l.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:Ge(e,t,te,null,l,j)}for(M in l)if(j=l[M],z=a[M],l.hasOwnProperty(M)&&j!==z&&(j!=null||z!=null))switch(M){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ge(e,t,M,j,l,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)j=a[ue],a.hasOwnProperty(ue)&&j!=null&&!l.hasOwnProperty(ue)&&Ge(e,t,ue,null,l,j);for(_ in l)if(j=l[_],z=a[_],l.hasOwnProperty(_)&&j!==z&&(j!=null||z!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,t));break;default:Ge(e,t,_,j,l,z)}return;default:if(mc(t)){for(var Ye in a)j=a[Ye],a.hasOwnProperty(Ye)&&j!==void 0&&!l.hasOwnProperty(Ye)&&eo(e,t,Ye,void 0,l,j);for(Y in l)j=l[Y],z=a[Y],!l.hasOwnProperty(Y)||j===z||j===void 0&&z===void 0||eo(e,t,Y,j,l,z);return}}for(var w in a)j=a[w],a.hasOwnProperty(w)&&j!=null&&!l.hasOwnProperty(w)&&Ge(e,t,w,null,l,j);for(X in l)j=l[X],z=a[X],!l.hasOwnProperty(X)||j===z||j==null&&z==null||Ge(e,t,X,j,l,z)}function Jd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var i=a[l],c=i.transferSize,p=i.initiatorType,x=i.duration;if(c&&x&&Jd(p)){for(p=0,x=i.responseEnd,l+=1;l<a.length;l++){var M=a[l],_=M.startTime;if(_>x)break;var Y=M.transferSize,X=M.initiatorType;Y&&Jd(X)&&(M=M.responseEnd,p+=Y*(M<x?1:(x-_)/(M-_)))}if(--l,t+=8*(c+p)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var to=null,ao=null;function Pi(e){return e.nodeType===9?e:e.ownerDocument}function Wd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $d(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var no=null;function $m(){var e=window.event;return e&&e.type==="popstate"?e===no?!1:(no=e,!0):(no=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,ep=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,tp=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(e){return t0.resolve(null).then(e).catch(ap)}:e0;function ap(e){setTimeout(function(){throw e})}function ml(e){return e==="head"}function a0(e,t){var a=t,l=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(i),Hn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Rs(a);for(var c=a.firstChild;c;){var p=c.nextSibling,x=c.nodeName;c[Qa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=p}}else a==="body"&&Rs(e.ownerDocument.body);a=i}while(a);Hn(t)}function l0(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function so(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":so(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lp(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function np(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ta(e.nextSibling),e===null))return null;return e}function n0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ta(e.nextSibling),e===null))return null;return e}function io(e){return e.data==="$?"||e.data==="$~"}function co(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ta(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ro=null;function s0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ta(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function i0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function c0(e,t,a){switch(t=Pi(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ca(e)}var aa=new Map,r0=new Set;function Xi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=K.d;K.d={f:ip,r:cp,D:rp,C:op,L:up,m:fp,X:hp,S:dp,M:mp};function ip(){var e=Ia.f(),t=Bi();return e||t}function cp(e){var t=ha(e);t!==null&&t.tag===5&&t.type==="form"?Tf(t):Ia.r(e)}var On=typeof document>"u"?null:document;function o0(e,t,a){var l=On;if(l&&typeof t=="string"&&t){var i=Zt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),r0.has(i)||(r0.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),bt(t,"link",e),nt(t),l.head.appendChild(t)))}}function rp(e){Ia.D(e),o0("dns-prefetch",e,null)}function op(e,t){Ia.C(e,t),o0("preconnect",e,t)}function up(e,t,a){Ia.L(e,t,a);var l=On;if(l&&e&&t){var i='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Zt(a.imageSizes)+'"]')):i+='[href="'+Zt(e)+'"]';var c=i;switch(t){case"style":c=Un(e);break;case"script":c=Bn(e)}aa.has(c)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),aa.set(c,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(Ns(c))||t==="script"&&l.querySelector(ws(c))||(t=l.createElement("link"),bt(t,"link",e),nt(t),l.head.appendChild(t)))}}function fp(e,t){Ia.m(e,t);var a=On;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Zt(l)+'"][href="'+Zt(e)+'"]',c=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Bn(e)}if(!aa.has(c)&&(e=v({rel:"modulepreload",href:e},t),aa.set(c,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ws(c)))return}l=a.createElement("link"),bt(l,"link",e),nt(l),a.head.appendChild(l)}}}function dp(e,t,a){Ia.S(e,t,a);var l=On;if(l&&e){var i=Fa(l).hoistableStyles,c=Un(e);t=t||"default";var p=i.get(c);if(!p){var x={loading:0,preload:null};if(p=l.querySelector(Ns(c)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=aa.get(c))&&oo(e,a);var M=p=l.createElement("link");nt(M),bt(M,"link",e),M._p=new Promise(function(_,Y){M.onload=_,M.onerror=Y}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Vi(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:x},i.set(c,p)}}}function hp(e,t){Ia.X(e,t);var a=On;if(a&&e){var l=Fa(a).hoistableScripts,i=Bn(e),c=l.get(i);c||(c=a.querySelector(ws(i)),c||(e=v({src:e,async:!0},t),(t=aa.get(i))&&uo(e,t),c=a.createElement("script"),nt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(i,c))}}function mp(e,t){Ia.M(e,t);var a=On;if(a&&e){var l=Fa(a).hoistableScripts,i=Bn(e),c=l.get(i);c||(c=a.querySelector(ws(i)),c||(e=v({src:e,async:!0,type:"module"},t),(t=aa.get(i))&&uo(e,t),c=a.createElement("script"),nt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(i,c))}}function u0(e,t,a,l){var i=(i=oe.current)?Xi(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Un(a.href),a=Fa(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Un(a.href);var c=Fa(i).hoistableStyles,p=c.get(e);if(p||(i=i.ownerDocument||i,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,p),(c=i.querySelector(Ns(e)))&&!c._p&&(p.instance=c,p.state.loading=5),aa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},aa.set(e,a),c||pp(i,e,a,p.state))),t&&l===null)throw Error(r(528,""));return p}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bn(a),a=Fa(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Un(e){return'href="'+Zt(e)+'"'}function Ns(e){return'link[rel="stylesheet"]['+e+"]"}function f0(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function pp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),bt(t,"link",a),nt(t),e.head.appendChild(t))}function Bn(e){return'[src="'+Zt(e)+'"]'}function ws(e){return"script[async]"+e}function d0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Zt(a.href)+'"]');if(l)return t.instance=l,nt(l),l;var i=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),nt(l),bt(l,"style",i),Vi(l,a.precedence,e),t.instance=l;case"stylesheet":i=Un(a.href);var c=e.querySelector(Ns(i));if(c)return t.state.loading|=4,t.instance=c,nt(c),c;l=f0(a),(i=aa.get(i))&&oo(l,i),c=(e.ownerDocument||e).createElement("link"),nt(c);var p=c;return p._p=new Promise(function(x,M){p.onload=x,p.onerror=M}),bt(c,"link",l),t.state.loading|=4,Vi(c,a.precedence,e),t.instance=c;case"script":return c=Bn(a.src),(i=e.querySelector(ws(c)))?(t.instance=i,nt(i),i):(l=a,(i=aa.get(c))&&(l=v({},a),uo(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),nt(i),bt(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Vi(l,a.precedence,e));return t.instance}function Vi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,c=i,p=0;p<l.length;p++){var x=l[p];if(x.dataset.precedence===t)c=x;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ki=null;function h0(e,t,a){if(Ki===null){var l=new Map,i=Ki=new Map;i.set(a,l)}else i=Ki,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var c=a[i];if(!(c[Qa]||c[Re]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var p=c.getAttribute(t)||"";p=e+p;var x=l.get(p);x?x.push(c):l.set(p,[c])}}return l}function m0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function gp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=Un(l.href),c=t.querySelector(Ns(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,nt(c);return}c=t.ownerDocument||t,l=f0(l),(i=aa.get(i))&&oo(l,i),c=c.createElement("link"),nt(c);var p=c;p._p=new Promise(function(x,M){p.onload=x,p.onerror=M}),bt(c,"link",l),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var fo=0;function vp(e,t){return e.stylesheets&&e.count===0&&Fi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fi(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&fo===0&&(fo=62500*Wm());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fi(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>fo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function Zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qi=null;function Fi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qi=new Map,t.forEach(bp,e),Qi=null,Zi.call(e))}function bp(e,t){if(!(t.state.loading&4)){var a=Qi.get(e);if(a)var l=a.get(null);else{a=new Map,Qi.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var p=i[c];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}i=t.instance,p=i.getAttribute("data-precedence"),c=a.get(p)||l,c===l&&a.set(null,i),a.set(p,i),this.count++,l=Zi.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ls={$$typeof:G,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function xp(e,t,a,l,i,c,p,x,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function g0(e,t,a,l,i,c,p,x,M,_,Y,X){return e=new xp(e,t,a,p,M,_,Y,X,x),t=1,c===!0&&(t|=24),c=kt(3,null,null,t),e.current=c,c.stateNode=e,t=Pc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:a,cache:t},Zc(c),e}function y0(e){return e?(e=hn,e):hn}function v0(e,t,a,l,i,c){i=y0(i),l.context===null?l.context=i:l.pendingContext=i,l=ll(t),l.payload={element:a},c=c===void 0?null:c,c!==null&&(l.callback=c),a=nl(e,l,t),a!==null&&(Ot(a,e,t),cs(a,e,t))}function b0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ho(e,t){b0(e,t),(e=e.alternate)&&b0(e,t)}function x0(e){if(e.tag===13||e.tag===31){var t=Ol(e,67108864);t!==null&&Ot(t,e,67108864),ho(e,67108864)}}function S0(e){if(e.tag===13||e.tag===31){var t=Pt();t=tn(t);var a=Ol(e,t);a!==null&&Ot(a,e,t),ho(e,t)}}var Ji=!0;function Sp(e,t,a,l){var i=C.T;C.T=null;var c=K.p;try{K.p=2,mo(e,t,a,l)}finally{K.p=c,C.T=i}}function Ep(e,t,a,l){var i=C.T;C.T=null;var c=K.p;try{K.p=8,mo(e,t,a,l)}finally{K.p=c,C.T=i}}function mo(e,t,a,l){if(Ji){var i=po(l);if(i===null)$r(e,t,l,Wi,a),M0(e,l);else if(Ap(i,e,t,a,l))l.stopPropagation();else if(M0(e,l),t&4&&-1<Mp.indexOf(e)){for(;i!==null;){var c=ha(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var p=St(c.pendingLanes);if(p!==0){var x=c;for(x.pendingLanes|=2,x.entangledLanes|=2;p;){var M=1<<31-ut(p);x.entanglements[1]|=M,p&=~M}va(c),(Oe&6)===0&&(Oi=Pe()+500,Ms(0))}}break;case 31:case 13:x=Ol(c,2),x!==null&&Ot(x,c,2),Bi(),ho(c,2)}if(c=po(l),c===null&&$r(e,t,l,Wi,a),c===i)break;i=c}i!==null&&l.stopPropagation()}else $r(e,t,l,null,a)}}function po(e){return e=gc(e),go(e)}var Wi=null;function go(e){if(Wi=null,e=Vt(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=m(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wi=e,null}function E0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Rt:return 2;case xt:return 8;case et:case Rl:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var yo=!1,pl=null,gl=null,yl=null,Cs=new Map,Ds=new Map,vl=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(e,t){switch(e){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function _s(e,t,a,l,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:c,targetContainers:[i]},t!==null&&(t=ha(t),t!==null&&x0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ap(e,t,a,l,i){switch(t){case"focusin":return pl=_s(pl,e,t,a,l,i),!0;case"dragenter":return gl=_s(gl,e,t,a,l,i),!0;case"mouseover":return yl=_s(yl,e,t,a,l,i),!0;case"pointerover":var c=i.pointerId;return Cs.set(c,_s(Cs.get(c)||null,e,t,a,l,i)),!0;case"gotpointercapture":return c=i.pointerId,Ds.set(c,_s(Ds.get(c)||null,e,t,a,l,i)),!0}return!1}function A0(e){var t=Vt(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=m(a),t!==null){e.blockedOn=t,fe(e.priority,function(){S0(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,fe(e.priority,function(){S0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=po(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);pc=l,a.target.dispatchEvent(l),pc=null}else return t=ha(a),t!==null&&x0(t),e.blockedOn=a,!1;t.shift()}return!0}function T0(e,t,a){$i(e)&&a.delete(t)}function Tp(){yo=!1,pl!==null&&$i(pl)&&(pl=null),gl!==null&&$i(gl)&&(gl=null),yl!==null&&$i(yl)&&(yl=null),Cs.forEach(T0),Ds.forEach(T0)}function ec(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Tp)))}var tc=null;function R0(e){tc!==e&&(tc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tc===e&&(tc=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(go(l||a)===null)continue;break}var c=ha(a);c!==null&&(e.splice(t,3),t-=3,mr(c,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function Hn(e){function t(M){return ec(M,e)}pl!==null&&ec(pl,e),gl!==null&&ec(gl,e),yl!==null&&ec(yl,e),Cs.forEach(t),Ds.forEach(t);for(var a=0;a<vl.length;a++){var l=vl[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vl.length&&(a=vl[0],a.blockedOn===null);)A0(a),a.blockedOn===null&&vl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],c=a[l+1],p=i[Ke]||null;if(typeof c=="function")p||R0(a);else if(p){var x=null;if(c&&c.hasAttribute("formAction")){if(i=c,p=c[Ke]||null)x=p.formAction;else if(go(i)!==null)continue}else x=p.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),R0(a)}}}function N0(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(p){return i=p})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function vo(e){this._internalRoot=e}ac.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Pt();v0(a,l,e,t,null,null)},ac.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;v0(e.current,2,null,e,null,null),Bi(),t[mt]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=se();e={blockedOn:null,target:e,priority:t};for(var a=0;a<vl.length&&t!==0&&t<vl[a].priority;a++);vl.splice(a,0,e),a===0&&A0(e)}};var w0=s.version;if(w0!=="19.2.3")throw Error(r(527,w0,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{ia=lc.inject(Rp),lt=lc}catch{}}return Os.createRoot=function(e,t){if(!f(e))throw Error(r(299));var a=!1,l="",i=Uf,c=Bf,p=Hf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=g0(e,1,!1,null,null,a,l,null,i,c,p,N0),e[mt]=t.current,Wr(e),new vo(t)},Os.hydrateRoot=function(e,t,a){if(!f(e))throw Error(r(299));var l=!1,i="",c=Uf,p=Bf,x=Hf,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),t=g0(e,1,!0,t,a??null,l,i,M,c,p,x,N0),t.context=y0(null),a=t.current,l=Pt(),l=tn(l),i=ll(l),i.callback=null,nl(a,i,l),a=l,t.current.lanes=a,wl(t,a),va(t),e[mt]=t.current,Wr(e),new ac(t)},Os.version="19.2.3",Os}var z0;function Bp(){if(z0)return So.exports;z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),So.exports=Up(),So.exports}var Hp=Bp();const zp=sh(Hp);var Ee=(n=>(n.PLAYER="PLAYER",n.ASTEROID="ASTEROID",n.BULLET="BULLET",n.PLAYER_BULLET="PLAYER_BULLET",n.ENEMY_BULLET="ENEMY_BULLET",n.XP_GEM="XP_GEM",n.POWERUP="POWERUP",n.CREDIT="CREDIT",n.EXPLOSION="EXPLOSION",n.DAMAGE_NUMBER="DAMAGE_NUMBER",n.SPAWN_FLASH="SPAWN_FLASH",n.LIGHTNING="LIGHTNING",n))(Ee||{}),B=(n=>(n.SCOUT="SCOUT",n.STRIKER="STRIKER",n.LASER_SCOUT="LASER_SCOUT",n.KAMIKAZE="KAMIKAZE",n.SHIELDER="SHIELDER",n.CARRIER="CARRIER",n.ASTEROID="ASTEROID",n.BOSS_DREADNOUGHT="BOSS_DREADNOUGHT",n.BOSS_DESTROYER="BOSS_DESTROYER",n))(B||{}),ie=(n=>(n.NORMAL="NORMAL",n.ELITE="ELITE",n.LEGENDARY="LEGENDARY",n.MINIBOSS="MINIBOSS",n))(ie||{}),xa=(n=>(n.ORBIT="ORBIT",n.CHASE="CHASE",n.KITE="KITE",n.CHARGE="CHARGE",n.DRIFT="DRIFT",n.SHIELDING="SHIELDING",n.BOSS_STANDARD="BOSS_STANDARD",n.BOSS_DESTROYER="BOSS_DESTROYER",n))(xa||{}),Sa=(n=>(n.NONE="NONE",n.SINGLE_SHOT="SINGLE_SHOT",n.CHARGED_BEAM="CHARGED_BEAM",n.TWIN_PLASMA="TWIN_PLASMA",n.MISSILE_SALVO="MISSILE_SALVO",n.BOSS_BEAM="BOSS_BEAM",n))(Sa||{}),ch=(n=>(n.PLAYER_BULLET="PLAYER_BULLET",n.ENEMY_BULLET="ENEMY_BULLET",n))(ch||{}),Be=(n=>(n.NONE="NONE",n.EXPLOSIVE="EXPLOSIVE",n.PIERCING="PIERCING",n.HOMING="HOMING",n.SPLIT="SPLIT",n.LASER="LASER",n.PULSING="PULSING",n.CHAIN="CHAIN",n))(Be||{}),_e=(n=>(n.START="START",n.PLAYING="PLAYING",n.LEVELING="LEVELING",n.DYING="DYING",n.GAMEOVER="GAMEOVER",n.GARAGE="GARAGE",n.DEBUG_MENU="DEBUG_MENU",n))(_e||{}),wt=(n=>(n.STANDARD="STANDARD",n.DEBUG="DEBUG",n))(wt||{}),Tt=(n=>(n.NORMAL="NORMAL",n.HARD="HARD",n.NIGHTMARE="NIGHTMARE",n.HELL="HELL",n))(Tt||{}),we=(n=>(n.NONE="NONE",n.AFTERBURNER="AFTERBURNER",n.SHIELD_BURST="SHIELD_BURST",n.PHASE_SHIFT="PHASE_SHIFT",n.TIME_WARP="TIME_WARP",n))(we||{}),je=(n=>(n.TWIN_STICK="TWIN_STICK",n.TAP_TO_AIM="TAP_TO_AIM",n.KEYBOARD_MOUSE="KEYBOARD_MOUSE",n))(je||{}),k=(n=>(n.PLASMA="PLASMA",n.MISSILE="MISSILE",n.LASER="LASER",n.SWARM_LAUNCHER="SWARM_LAUNCHER",n.RAILGUN="RAILGUN",n.FLAK_CANNON="FLAK_CANNON",n.ENERGY_ORB="ENERGY_ORB",n.ARC_CASTER="ARC_CASTER",n.FLAMETHROWER="FLAMETHROWER",n))(k||{}),Kl=(n=>(n.INTERCEPTOR="INTERCEPTOR",n.CRUISER="CRUISER",n.DREADNOUGHT="DREADNOUGHT",n.PHANTOM="PHANTOM",n))(Kl||{}),ot=(n=>(n.STAT="STAT",n.CONSUMABLE="CONSUMABLE",n))(ot||{});const k0={credits:0,metaLevels:{},unlockedShips:[Kl.INTERCEPTOR],equippedShip:Kl.INTERCEPTOR,equippedWeapon:k.PLASMA,unlockedWeapons:[k.PLASMA],equippedModules:[],unlockedModules:[],currentLevel:1,currentXp:0,xpToNextLevel:100,acquiredUpgradeIds:[],highScores:[],settings:{controlScheme:je.KEYBOARD_MOUSE,zoomLevel:1,autoShowLevelUp:!0,showDpsMeter:!1}},zs={[k.PLASMA]:{fireRate:4,damage:28,bulletSpeed:900,areaSize:0,duration:2e3},[k.MISSILE]:{fireRate:.8,damage:200,bulletSpeed:600,areaSize:195,duration:2e3},[k.LASER]:{fireRate:1,damage:200,bulletSpeed:0,areaSize:0,duration:0},[k.SWARM_LAUNCHER]:{fireRate:.6,damage:90,bulletSpeed:650,areaSize:150,duration:3e3},[k.RAILGUN]:{fireRate:.5,damage:350,bulletSpeed:2800,areaSize:0,duration:2e3},[k.FLAK_CANNON]:{fireRate:1.2,damage:40,bulletSpeed:700,areaSize:0,duration:600},[k.ENERGY_ORB]:{fireRate:.5,damage:60,bulletSpeed:150,areaSize:150,duration:5e3},[k.ARC_CASTER]:{fireRate:1.5,damage:35,bulletSpeed:1200,areaSize:0,duration:500},[k.FLAMETHROWER]:{fireRate:15,damage:12,bulletSpeed:450,areaSize:45,duration:650}},Ue=8e3,G0=.08,rh=450,ks=1800,_o=.65,kp=15,Gp=[{label:"Close",value:1,icon:"fa-magnifying-glass-plus"},{label:"Standard",value:.65,icon:"fa-eye"},{label:"Far",value:.45,icon:"fa-binoculars"},{label:"Ultra",value:.35,icon:"fa-earth-americas"}],nc={maxHealth:100,currentHealth:100,maxShield:20,currentShield:20,shieldRegen:3,lastShieldHitTime:0,speed:240,fireRate:zs[k.PLASMA].fireRate,damage:zs[k.PLASMA].damage,bulletSpeed:zs[k.PLASMA].bulletSpeed,bulletCount:1,magnetRange:200,xp:0,level:1,xpToNextLevel:250,pendingLevelUps:0,weaponType:k.PLASMA,pierceCount:1,hasShield:!0,credits:5e3,shipType:"INTERCEPTOR",acquiredUpgrades:[],invulnerableUntil:0,critChance:.05,critMultiplier:1.5,creditMultiplier:1,areaSize:0,duration:0,chainRange:250,laserDuration:.3,swarmCount:3,swarmAgility:1.5,moduleSlots:[],activeBuffs:{},combatLog:[]},Gn={[Tt.NORMAL]:{id:Tt.NORMAL,name:"CADET",description:"Standard Operations",minRank:1,enemyLevelBonus:0,statMultiplier:1,lootMultiplier:1,color:"#38bdf8"},[Tt.HARD]:{id:Tt.HARD,name:"VETERAN",description:"Enemies +LV 10 | Loot +50%",minRank:1,enemyLevelBonus:10,statMultiplier:2,lootMultiplier:1.5,color:"#fbbf24"},[Tt.NIGHTMARE]:{id:Tt.NIGHTMARE,name:"ELITE",description:"Enemies +LV 30 | Loot +150%",minRank:1,enemyLevelBonus:30,statMultiplier:5,lootMultiplier:2.5,color:"#ef4444"},[Tt.HELL]:{id:Tt.HELL,name:"VOIDWALKER",description:"Enemies +LV 60 | Loot +400%",minRank:1,enemyLevelBonus:60,statMultiplier:12,lootMultiplier:5,color:"#d946ef"}},zn={[B.SCOUT]:{type:B.SCOUT,baseHealth:45,baseRadius:22,baseSpeed:80,name:"Void Scout",role:"Swarm / Fodder",guideIcon:"fa-shuttle-space",description:"Basic fast unit. Colors vary by speed.",color:{hueMin:260,hueMax:290,saturation:80,lightness:60},movementBehavior:xa.ORBIT,attackPattern:Sa.SINGLE_SHOT,attackCooldown:2500,projectileSpeed:320,projectileRadius:7,projectileColor:"#f97316",xpValue:15,creditValue:5,powerUpChance:.02,attacks:{projectile:10}},[B.STRIKER]:{type:B.STRIKER,baseHealth:130,baseRadius:26,baseSpeed:110,name:"Crimson Striker",role:"Melee Rusher",guideIcon:"fa-jet-fighter",description:"Tries to ram the player. High damage collision.",color:{hueMin:340,hueMax:360,saturation:80,lightness:60},movementBehavior:xa.CHASE,attackPattern:Sa.SINGLE_SHOT,attackCooldown:2500,projectileSpeed:320,projectileRadius:7,projectileColor:"#f97316",xpValue:25,creditValue:10,powerUpChance:.03,attacks:{collision:15}},[B.LASER_SCOUT]:{type:B.LASER_SCOUT,baseHealth:90,baseRadius:24,baseSpeed:80,name:"Sniper Drone",role:"Ranged Support",guideIcon:"fa-satellite",description:"Orbits at distance. Charges a laser beam.",color:"#a855f7",movementBehavior:xa.KITE,attackPattern:Sa.CHARGED_BEAM,attackCooldown:4e3,xpValue:35,creditValue:15,powerUpChance:.04,attacks:{beam:12}},[B.KAMIKAZE]:{type:B.KAMIKAZE,baseHealth:25,baseRadius:18,baseSpeed:350,name:"Kamikaze Drone",role:"Suicide Bomber",guideIcon:"fa-bomb",description:"Drifts fast and explodes on contact. Elite has shield gate.",color:"#f97316",movementBehavior:xa.CHARGE,attackPattern:Sa.NONE,attackCooldown:0,xpValue:20,creditValue:8,powerUpChance:.02,attacks:{explosion:40}},[B.SHIELDER]:{type:B.SHIELDER,baseHealth:80,baseRadius:24,baseSpeed:60,name:"Shield Drone",role:"Support Unit",guideIcon:"fa-shield",description:"Creates protective shield bubble around nearby enemies. Priority target.",color:"#22d3ee",movementBehavior:xa.SHIELDING,attackPattern:Sa.NONE,attackCooldown:0,xpValue:50,creditValue:25,powerUpChance:.08,attacks:{}},[B.CARRIER]:{type:B.CARRIER,baseHealth:400,baseRadius:35,baseSpeed:50,name:"Drone Carrier",role:"Spawner",guideIcon:"fa-shuttle-space",description:"Slow, tanky unit that periodically deploys Scout drones.",color:"#64748b",movementBehavior:xa.KITE,attackPattern:Sa.NONE,attackCooldown:8e3,xpValue:80,creditValue:40,powerUpChance:.1,spawning:{spawnType:B.SCOUT,count:3,spread:Math.PI/3,maxWaves:9},attacks:{}},[B.ASTEROID]:{type:B.ASTEROID,baseHealth:120,baseRadius:40,baseSpeed:40,name:"Asteroid Field",role:"Environmental Hazard",guideIcon:"fa-meteor",description:"Drifting space debris. Rich in minerals (Credits).",color:"#475569",movementBehavior:xa.DRIFT,attackPattern:Sa.NONE,attackCooldown:0,xpValue:10,creditValue:20,powerUpChance:.05,attacks:{collision:10}},[B.BOSS_DREADNOUGHT]:{type:B.BOSS_DREADNOUGHT,baseHealth:4e3,baseRadius:70,baseSpeed:40,name:"Dreadnought Boss",role:"Capital Ship",guideIcon:"fa-skull",description:"Common Boss. Massive laser cannon.",color:"#4ade80",movementBehavior:xa.BOSS_STANDARD,attackPattern:Sa.BOSS_BEAM,attackCooldown:6e3,isBoss:!0,phases:[{healthPercent:100,abilities:["beam"]},{healthPercent:50,abilities:["beam","enrage"]}],xpValue:500,creditValue:1e3,powerUpChance:1,attacks:{beam:20}},[B.BOSS_DESTROYER]:{type:B.BOSS_DESTROYER,baseHealth:3500,baseRadius:75,baseSpeed:35,name:"Imperial Destroyer",role:"Heavy Carrier",guideIcon:"fa-shapes",description:"Rare Boss. Deploys Drones, Homing Missiles, and Twin Plasma.",color:"#334155",movementBehavior:xa.BOSS_DESTROYER,attackPattern:Sa.TWIN_PLASMA,attackCooldown:1200,isBoss:!0,projectileSpeed:480,projectileRadius:12,projectileColor:"#f43f5e",phases:[{healthPercent:100,abilities:["plasma","missiles","spawn_kamikaze"]},{healthPercent:30,abilities:["plasma","missiles","spawn_kamikaze","enrage"]}],xpValue:600,creditValue:1200,powerUpChance:1,attacks:{projectile:15,missile:25}}};function Bt(n){return zn[n]}function Yp(n,s){if(typeof n.color=="string")return n.color;const{hueMin:o,hueMax:r,saturation:f,lightness:d}=n.color;return`hsl(${o+s*(r-o)}, ${f}%, ${d}%)`}const Ip={[ie.NORMAL]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1},[ie.ELITE]:{healthMult:3,radiusMult:1.3,speedMult:.9,damageMult:1.5,xpMult:3,creditMult:2.5,colorOverride:"#d946ef",glowColor:"#f0abfc",hasShield:!0,shieldPercent:.5,specialAbilities:["hasDeathDefiance"]},[ie.LEGENDARY]:{healthMult:8,radiusMult:1.6,speedMult:.85,damageMult:2,xpMult:8,creditMult:6,colorOverride:"#fbbf24",glowColor:"#fef08a",hasShield:!0,shieldPercent:.6,specialAbilities:["hasDeathDefiance","enrage"]},[ie.MINIBOSS]:{healthMult:15,radiusMult:2,speedMult:.75,damageMult:2.5,xpMult:15,creditMult:10,colorOverride:"#ef4444",glowColor:"#fca5a5",hasShield:!0,shieldPercent:.4,specialAbilities:["enrage","summon"]}},qp={[ie.NORMAL]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1},[ie.ELITE]:{healthMult:2,radiusMult:1.15,speedMult:1.1,damageMult:1.5,xpMult:2.5,creditMult:2,colorOverride:"#d946ef",glowColor:"#f0abfc",hasShield:!0,shieldPercent:.7,specialAbilities:["enrage"]},[ie.LEGENDARY]:{healthMult:4,radiusMult:1.25,speedMult:1.2,damageMult:2,xpMult:5,creditMult:4,colorOverride:"#fbbf24",glowColor:"#fef08a",hasShield:!0,shieldPercent:.8,specialAbilities:["enrage","summon","berserk"]},[ie.MINIBOSS]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1}},To={elite:.08,legendary:.02,miniboss:.01},Y0={elite:.2,legendary:.05};function Pp(n){return Ip[n]}function Xp(n){return qp[n]}function Vp(n){const s=Math.min(2,1+n/10),o=Math.random();let r=0;return r+=To.miniboss*s,o<r&&n>2?ie.MINIBOSS:(r+=To.legendary*s,o<r&&n>1.5?ie.LEGENDARY:(r+=To.elite*s,o<r&&n>.5?ie.ELITE:ie.NORMAL))}function Kp(n){const s=1+n*.3,o=Math.random();let r=0;return r+=Y0.legendary*s,o<r&&n>=2?ie.LEGENDARY:(r+=Y0.elite*s,o<r&&n>=1?ie.ELITE:ie.NORMAL)}const oh=Object.values(B).filter(n=>!n.startsWith("BOSS_")&&n!==B.ASTEROID);function Zp(n){return oh.includes(n)}const Qp=[...oh.map(n=>({type:n,label:zn[n].name,icon:zn[n].guideIcon})),{type:B.BOSS_DREADNOUGHT,label:zn[B.BOSS_DREADNOUGHT].name,icon:"fa-skull"},{type:B.BOSS_DESTROYER,label:zn[B.BOSS_DESTROYER].name,icon:"fa-shapes"}],Sl=[{type:Kl.INTERCEPTOR,name:"Ghost-7",description:"Agile scout. Fast shield regen.",baseStats:{speed:260,maxHealth:80,maxShield:30,shieldRegen:4,critChance:.1},cost:0,color:"#22d3ee"},{type:Kl.CRUISER,name:"Valkyrie",description:"Heavy armor. High sustain.",baseStats:{speed:200,maxHealth:250,maxShield:50,shieldRegen:2},cost:5e4,color:"#a855f7"},{type:Kl.DREADNOUGHT,name:"Behemoth",description:"Mobile fortress. Huge firepower.",baseStats:{speed:175,maxHealth:500,maxShield:120,shieldRegen:1,bulletCount:2},cost:15e4,color:"#facc15"},{type:Kl.PHANTOM,name:"Phantom",description:"Glass cannon. Phase through danger.",baseStats:{speed:320,maxHealth:60,maxShield:10,shieldRegen:5,critChance:.2},cost:8e4,color:"#818cf8",intrinsicModule:we.PHASE_SHIFT}],I0={[we.NONE]:0,[we.AFTERBURNER]:5e3,[we.SHIELD_BURST]:12e3,[we.PHASE_SHIFT]:25e3,[we.TIME_WARP]:4e4},q0={[k.PLASMA]:0,[k.MISSILE]:15e3,[k.LASER]:3e4,[k.SWARM_LAUNCHER]:28e3,[k.RAILGUN]:45e3,[k.FLAK_CANNON]:25e3,[k.ENERGY_ORB]:4e4,[k.ARC_CASTER]:35e3,[k.FLAMETHROWER]:18e3},Ho=[{id:"titan_gen",type:ot.STAT,name:"Titan Generator",description:"+50 Max Shield (instant recharge).",icon:"fa-shield-halved",rarity:"LEGENDARY",maxStacks:1,weight:3,effects:[{stat:"maxShield",value:50,operation:"addFlat"},{stat:"currentShield",value:50,operation:"addFlat"}]},{id:"berserker_mod",type:ot.STAT,name:"Berserker Module",description:"+35% Damage, -20% Max HP.",icon:"fa-skull",rarity:"LEGENDARY",maxStacks:1,weight:3,effects:[{stat:"damage",value:.35,operation:"addPercent"},{stat:"maxHealth",value:.8,operation:"setMultiply"},{stat:"currentHealth",value:.8,operation:"setMultiply"}]},{id:"nano_repair",type:ot.STAT,name:"Nanite Weaver",description:"Triples Shield Regen.",icon:"fa-rotate",rarity:"RARE",maxStacks:1,weight:5,effects:[{stat:"shieldRegen",value:3,operation:"setMultiply"}]},{id:"hull_plate",type:ot.STAT,name:"Hull Plating",description:"+10 Max HP (heals 10).",icon:"fa-heart",rarity:"COMMON",maxStacks:20,weight:15,effects:[{stat:"maxHealth",value:10,operation:"addFlat"},{stat:"currentHealth",value:10,operation:"addFlat"}]},{id:"dmg_boost",type:ot.STAT,name:"Core Reactor",description:"+10% Damage.",icon:"fa-burst",rarity:"COMMON",maxStacks:99,weight:12,effects:[{stat:"damage",value:.1,operation:"addPercent"}]},{id:"fire_rate",type:ot.STAT,name:"Rapid Cycler",description:"+5% Fire Rate.",icon:"fa-bolt",rarity:"COMMON",maxStacks:99,weight:12,effects:[{stat:"fireRate",value:.05,operation:"addPercent"}]},{id:"speed_boost",type:ot.STAT,name:"Ion Thrusters",description:"+5% Movement Speed.",icon:"fa-forward",rarity:"COMMON",maxStacks:10,weight:12,effects:[{stat:"speed",value:.05,operation:"addPercent"}]},{id:"crit_mod",type:ot.STAT,name:"Lens Polish",description:"+5% Critical Chance.",icon:"fa-crosshairs",rarity:"RARE",maxStacks:10,weight:8,effects:[{stat:"critChance",value:.05,operation:"addFlat",cap:1}]},{id:"magnet_boost",type:ot.STAT,name:"Gravity Field",description:"+15% Pickup Range.",icon:"fa-magnet",rarity:"COMMON",maxStacks:5,weight:10,effects:[{stat:"magnetRange",value:.15,operation:"addPercent"}]},{id:"cons_heal",type:ot.CONSUMABLE,name:"Emergency Repair",description:"Instant: Restore 100% Hull Integrity.",icon:"fa-heart-pulse",rarity:"COMMON",maxStacks:999,weight:8},{id:"cons_shield",type:ot.CONSUMABLE,name:"Shield Reboot",description:"Instant: Fully Recharge Shields.",icon:"fa-shield-virus",rarity:"COMMON",maxStacks:999,weight:8},{id:"cons_emp",type:ot.CONSUMABLE,name:"EMP Blast",description:"Tactical: Destroy all active enemies and bullets on screen.",icon:"fa-car-battery",rarity:"RARE",maxStacks:999,weight:4},{id:"cons_nuke",type:ot.CONSUMABLE,name:"Tactical Nuke",description:"Tactical: Detonate a massive explosion around your ship.",icon:"fa-radiation",rarity:"RARE",maxStacks:999,weight:4},{id:"cons_score",type:ot.CONSUMABLE,name:"Data Cache",description:"Bonus: Instantly gain 2,500 Score.",icon:"fa-database",rarity:"COMMON",maxStacks:999,weight:10}],Yn=[{id:"meta_hp",name:"Titanium Hull",description:"+10% Max HP per level.",icon:"fa-shield-heart",maxLevel:50,costBase:100,costFactor:1.3,effects:[{stat:"maxHealth",perLevel:.1,operation:"addPercent"}]},{id:"meta_shield",name:"Shield Generator",description:"+15% Shield Capacity per level.",icon:"fa-shield-halved",maxLevel:30,costBase:150,costFactor:1.35,effects:[{stat:"maxShield",perLevel:.15,operation:"addPercent"}]},{id:"meta_regen",name:"Auto-Repair",description:"+10% Shield Regen per level.",icon:"fa-rotate",maxLevel:20,costBase:300,costFactor:1.4,effects:[{stat:"shieldRegen",perLevel:.1,operation:"addPercent"}]},{id:"meta_dmg",name:"Weapon Overclock",description:"+5% Base Damage per level.",icon:"fa-fire",maxLevel:100,costBase:200,costFactor:1.25,effects:[{stat:"baseDamage",perLevel:.05,operation:"addPercent"}]},{id:"meta_crit_chance",name:"Predictive Algo",description:"+1% Crit Chance per level.",icon:"fa-crosshairs",maxLevel:25,costBase:500,costFactor:1.5,effects:[{stat:"critChance",perLevel:.01,operation:"add"}]},{id:"meta_crit_dmg",name:"Lethal Frequency",description:"+5% Crit Damage per level.",icon:"fa-skull-crossbones",maxLevel:50,costBase:400,costFactor:1.3,effects:[{stat:"critDamage",perLevel:.05,operation:"addPercent"}]},{id:"meta_magnet",name:"Tractor Beam",description:"+5% Pickup Radius per level.",icon:"fa-magnet",maxLevel:20,costBase:100,costFactor:1.25,effects:[{stat:"magnetRange",perLevel:.05,operation:"addPercent"}]},{id:"meta_speed",name:"Thruster Tuning",description:"+2% Flight Speed per level.",icon:"fa-forward-fast",maxLevel:20,costBase:800,costFactor:1.4,effects:[{stat:"speed",perLevel:.02,operation:"addPercent"}]},{id:"meta_salvage",name:"Salvage Protocols",description:"+5% Credits per level.",icon:"fa-coins",maxLevel:50,costBase:500,costFactor:1.2,effects:[{stat:"salvageBonus",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_rate",name:"Plasma Cycler",description:"+5% Fire Rate per level.",icon:"fa-bolt",maxLevel:10,costBase:500,costFactor:1.2,weaponType:k.PLASMA,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_area",name:"Cryo-Plasma",description:"Plasma slows enemies effectively (Chill).",icon:"fa-snowflake",maxLevel:10,costBase:1e3,costFactor:1.6,weaponType:k.PLASMA},{id:"meta_plas_dmg",name:"Plasma Intensity",description:"+5% Damage per level.",icon:"fa-fire-burner",maxLevel:100,costBase:200,costFactor:1.12,weaponType:k.PLASMA,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_speed",name:"Velocity Coil",description:"+8% Projectile Speed per level.",icon:"fa-wind",maxLevel:30,costBase:400,costFactor:1.2,weaponType:k.PLASMA,effects:[{stat:"bulletSpeed",perLevel:.08,operation:"addPercent"}]},{id:"meta_plas_count",name:"Split Chamber",description:"+1 Projectile count.",icon:"fa-clone",maxLevel:2,costBase:5e3,costFactor:2.5,weaponType:k.PLASMA,effects:[{stat:"bulletCount",perLevel:1,operation:"add"}]},{id:"meta_msl_rad",name:"Warhead Yield",description:"+10% explosion radius per level.",icon:"fa-bomb",maxLevel:20,costBase:4e3,costFactor:1.6,weaponType:k.MISSILE,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_msl_dmg",name:"Payload Potency",description:"+5% Damage per level.",icon:"fa-explosion",maxLevel:100,costBase:500,costFactor:1.12,weaponType:k.MISSILE,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_msl_reload",name:"Auto-Loader",description:"+5% Fire Rate per level.",icon:"fa-repeat",maxLevel:40,costBase:1e3,costFactor:1.25,weaponType:k.MISSILE,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_lsr_recharge",name:"Capacitor Banks",description:"+8% Fire Rate per level.",icon:"fa-battery-full",maxLevel:20,costBase:2e3,costFactor:1.45,weaponType:k.LASER,effects:[{stat:"fireRate",perLevel:.08,operation:"addPercent"}]},{id:"meta_lsr_dmg",name:"Beam Focus",description:"+5% Damage per level.",icon:"fa-sun",maxLevel:100,costBase:800,costFactor:1.12,weaponType:k.LASER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_lsr_duration",name:"Heat Sinks",description:"+10% Beam Duration per level.",icon:"fa-hourglass-start",maxLevel:20,costBase:1500,costFactor:1.3,weaponType:k.LASER,effects:[{stat:"laserDuration",perLevel:.1,operation:"addPercent"}]},{id:"meta_swarm_count",name:"Extended Magazines",description:"+1 Rocket per salvo.",icon:"fa-layer-group",maxLevel:17,costBase:1e4,costFactor:1.55,weaponType:k.SWARM_LAUNCHER,effects:[{stat:"swarmCount",perLevel:1,operation:"add"}]},{id:"meta_swarm_agility",name:"Thrust Vectoring",description:"+15% homing turn rate.",icon:"fa-paper-plane",maxLevel:20,costBase:2e3,costFactor:1.3,weaponType:k.SWARM_LAUNCHER,effects:[{stat:"swarmAgility",perLevel:.15,operation:"addPercent"}]},{id:"meta_swarm_dmg",name:"Micro-Warheads",description:"+5% Damage per level.",icon:"fa-burst",maxLevel:100,costBase:600,costFactor:1.15,weaponType:k.SWARM_LAUNCHER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_swarm_cd",name:"Reloader Mechanism",description:"+5% Fire Rate per level.",icon:"fa-clock",maxLevel:50,costBase:3e3,costFactor:1.25,weaponType:k.SWARM_LAUNCHER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_ab_dur",name:"Fuel Injectors",description:"+1s Duration.",icon:"fa-stopwatch",maxLevel:10,costBase:2e3,costFactor:1.3,moduleType:we.AFTERBURNER,effects:[{stat:"duration",perLevel:1e3,operation:"add"}]},{id:"meta_ab_cd",name:"Coolant Flush",description:"-2s Cooldown.",icon:"fa-snowflake",maxLevel:15,costBase:3e3,costFactor:1.35,moduleType:we.AFTERBURNER,effects:[{stat:"cooldown",perLevel:-2e3,operation:"add"}]},{id:"meta_ab_spd",name:"Turbine Overclock",description:"+10% Speed Boost.",icon:"fa-forward",maxLevel:10,costBase:2500,costFactor:1.4,moduleType:we.AFTERBURNER,effects:[{stat:"power",perLevel:.1,operation:"addPercent"}]},{id:"meta_sb_dur",name:"Extended Barrier",description:"+0.25s Invulnerability.",icon:"fa-hourglass-half",maxLevel:6,costBase:2500,costFactor:1.35,moduleType:we.SHIELD_BURST,effects:[{stat:"duration",perLevel:250,operation:"add"}]},{id:"meta_sb_cd",name:"Rapid Recharge",description:"-0.2s Cooldown.",icon:"fa-bolt",maxLevel:8,costBase:3e3,costFactor:1.4,moduleType:we.SHIELD_BURST,effects:[{stat:"cooldown",perLevel:-200,operation:"add"}]},{id:"meta_rail_dmg",name:"Core Penetrator",description:"+5% Damage per level.",icon:"fa-bolt",maxLevel:100,costBase:800,costFactor:1.12,weaponType:k.RAILGUN,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_rail_rate",name:"Capacitor Array",description:"+5% Fire Rate per level.",icon:"fa-gauge-high",maxLevel:40,costBase:1500,costFactor:1.25,weaponType:k.RAILGUN,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_rail_speed",name:"Hypervelocity",description:"+10% Speed, +2% Damage.",icon:"fa-fighter-jet",maxLevel:20,costBase:1e3,costFactor:1.3,weaponType:k.RAILGUN,effects:[{stat:"bulletSpeed",perLevel:.1,operation:"addPercent"},{stat:"damageMult",perLevel:.02,operation:"addPercent"}]},{id:"meta_flak_dmg",name:"Frag Rounds",description:"+5% Damage per level.",icon:"fa-spray-can",maxLevel:100,costBase:600,costFactor:1.12,weaponType:k.FLAK_CANNON,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_flak_pellets",name:"Scattershot",description:"+2 Pellets per shot.",icon:"fa-ellipsis",maxLevel:4,costBase:8e3,costFactor:2,weaponType:k.FLAK_CANNON,effects:[{stat:"bulletCount",perLevel:2,operation:"add"}]},{id:"meta_flak_range",name:"Barrel Extension",description:"+8% Range per level.",icon:"fa-ruler-horizontal",maxLevel:20,costBase:1200,costFactor:1.25,weaponType:k.FLAK_CANNON,effects:[{stat:"bulletSpeed",perLevel:.08,operation:"addPercent"}]},{id:"meta_flak_rate",name:"Rapid Pump",description:"+3% Fire Rate per level.",icon:"fa-gauge-high",maxLevel:10,costBase:1500,costFactor:1.3,weaponType:k.FLAK_CANNON,effects:[{stat:"fireRate",perLevel:.03,operation:"addPercent"}]},{id:"meta_orb_dmg",name:"Core Instability",description:"+5% Damage per level.",icon:"fa-atom",maxLevel:100,costBase:800,costFactor:1.12,weaponType:k.ENERGY_ORB,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_orb_rad",name:"Event Horizon",description:"+10% Area Size per level.",icon:"fa-circle-dot",maxLevel:20,costBase:2500,costFactor:1.35,weaponType:k.ENERGY_ORB,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_orb_cd",name:"Gravitic Cycler",description:"+5% Fire Rate per level.",icon:"fa-clock",maxLevel:30,costBase:2e3,costFactor:1.25,weaponType:k.ENERGY_ORB,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_orb_dur",name:"Stable Field",description:"+15% Flight Duration.",icon:"fa-hourglass-half",maxLevel:10,costBase:3e3,costFactor:1.4,weaponType:k.ENERGY_ORB,effects:[{stat:"duration",perLevel:.15,operation:"addPercent"}]},{id:"meta_arc_dmg",name:"Voltage Step-Up",description:"+5% Damage per level.",icon:"fa-bolt-lightning",maxLevel:100,costBase:600,costFactor:1.12,weaponType:k.ARC_CASTER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_arc_jumps",name:"Conductive Nodes",description:"+1 Chain Jump count.",icon:"fa-share-nodes",maxLevel:5,costBase:8e3,costFactor:2.2,weaponType:k.ARC_CASTER,effects:[{stat:"pierceCount",perLevel:1,operation:"add"}]},{id:"meta_arc_range",name:"High Voltage",description:"+10% Chain Range.",icon:"fa-tower-broadcast",maxLevel:20,costBase:1500,costFactor:1.3,weaponType:k.ARC_CASTER,effects:[{stat:"chainRange",perLevel:.1,operation:"addPercent"}]},{id:"meta_arc_rate",name:"Discharge Rate",description:"+5% Fire Rate.",icon:"fa-stopwatch-20",maxLevel:40,costBase:1200,costFactor:1.25,weaponType:k.ARC_CASTER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_flame_dmg",name:"Napalm Mix",description:"+5% Damage per level.",icon:"fa-fire",maxLevel:100,costBase:600,costFactor:1.12,weaponType:k.FLAMETHROWER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_flame_dur",name:"Pressure Tank",description:"+10% Flame Range (Duration).",icon:"fa-ruler-horizontal",maxLevel:25,costBase:1200,costFactor:1.3,weaponType:k.FLAMETHROWER,effects:[{stat:"duration",perLevel:.1,operation:"addPercent"}]},{id:"meta_flame_area",name:"Wide Nozzle",description:"+10% Flame Width.",icon:"fa-vector-square",maxLevel:20,costBase:2e3,costFactor:1.4,weaponType:k.FLAMETHROWER,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_flame_rate",name:"Turbo Pump",description:"+5% Fire Rate.",icon:"fa-gauge-high",maxLevel:40,costBase:1500,costFactor:1.25,weaponType:k.FLAMETHROWER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_warp_dur",name:"Chronosphere",description:"+0.5s Duration.",icon:"fa-clock",maxLevel:6,costBase:3e3,costFactor:1.4,moduleType:we.TIME_WARP,effects:[{stat:"duration",perLevel:500,operation:"add"}]},{id:"meta_warp_slow",name:"Viscosity",description:"-5% Enemy Speed (Stronger Slow).",icon:"fa-hourglass",maxLevel:10,costBase:4e3,costFactor:1.5,moduleType:we.TIME_WARP,effects:[{stat:"power",perLevel:.05,operation:"add"}]},{id:"meta_warp_cd",name:"Flux Capacitor",description:"-2s Cooldown.",icon:"fa-rotate",maxLevel:10,costBase:3500,costFactor:1.35,moduleType:we.TIME_WARP,effects:[{stat:"cooldown",perLevel:-2e3,operation:"add"}]}],kn={OVERDRIVE:{id:"OVERDRIVE",name:"Overdrive",type:"DURATION",duration:8e3,weight:10,color:"#d946ef",icon:"fa-bolt-lightning",label:"F",description:"2x fire rate for 8 seconds"},OMNI:{id:"OMNI",name:"Omni Shot",type:"DURATION",duration:1e4,weight:8,color:"#fbbf24",icon:"fa-arrows-split-up-and-left",label:"M",description:"Fire in all directions for 10 seconds"},PIERCE:{id:"PIERCE",name:"Super Pierce",type:"DURATION",duration:7e3,weight:8,color:"#22d3ee",icon:"fa-ghost",label:"P",description:"Projectiles pierce through enemies for 7 seconds"},SPEED:{id:"SPEED",name:"Nitro Boost",type:"DURATION",duration:6e3,weight:12,color:"#34d399",icon:"fa-forward-fast",label:"S",description:"+50% movement speed for 6 seconds"},HEALTH:{id:"HEALTH",name:"Repair Kit",type:"INSTANT",weight:5,color:"#ef4444",icon:"fa-heart-pulse",label:"+",description:"Restore 35% health"},SHIELD:{id:"SHIELD",name:"Shield Battery",type:"INSTANT",weight:5,color:"#3b82f6",icon:"fa-shield-virus",label:"B",description:"Fully restore shield"}},Fp={[B.SCOUT]:1,[B.STRIKER]:3,[B.LASER_SCOUT]:5,[B.KAMIKAZE]:2,[B.ASTEROID]:.5,[B.BOSS_DESTROYER]:20,[B.BOSS_DREADNOUGHT]:20},Jp={[B.SCOUT]:30,[B.STRIKER]:60,[B.LASER_SCOUT]:150,[B.KAMIKAZE]:40,[B.ASTEROID]:300,[B.BOSS_DESTROYER]:1e3,[B.BOSS_DREADNOUGHT]:1e3},Wp={[B.SCOUT]:100,[B.STRIKER]:250,[B.LASER_SCOUT]:500,[B.KAMIKAZE]:150,[B.ASTEROID]:50,[B.BOSS_DESTROYER]:5e3,[B.BOSS_DREADNOUGHT]:5e3},Us={normal:1,elite:3,legendary:4,miniboss:6,boss:8},ba={credit:{base:.33,elite:1,miniboss:1,legendary:1,boss:1},powerUp:{base:.05,elite:.25,miniboss:.5,legendary:.75,boss:1}},Ro={xpPerLevel:.1,creditPerLevel:.2,scorePerLevel:.2},Bs={creditMin:300,creditMax:600,xpValue:10,score:50},Gs={waveDuration:45,lullDuration:10,rushHourDuration:15,bossInterval:180,destroyerChance:.35,bossCalmDuration:60,bossCalmDelayMultiplier:3,spawnRates:{base:2.2,min:.15,decayPerSecond:300,rushMultiplier:2.5},enemyTypeRolls:{laserScoutThreshold:.85,laserScoutUnlockTime:180,strikerThreshold:.7,shielderThreshold:.8,shielderUnlockTime:240,carrierThreshold:.78,carrierUnlockTime:360,kamikazeThreshold:.95,kamikazeUnlockTime:120,kamikazeCooldown:30,kamikazeMinCount:2,kamikazeMaxCount:5,eliteWaveChance:.1},lullSpawnDelay:3,lullSpawnChance:.5};Tt.HARD+"",{...Gs.spawnRates},Tt.NIGHTMARE+"",{...Gs.spawnRates},Tt.HELL+"",{...Gs.spawnRates};const P0=({onMove:n,className:s})=>{const[o,r]=O.useState(null),[f,d]=O.useState({x:0,y:0}),m=O.useRef(null),h=O.useRef(null),y=O.useCallback((v,S,E)=>{m.current=E,r({x:v,y:S}),d({x:0,y:0})},[]),g=O.useCallback((v,S)=>{if(!o)return;const E=v-o.x,A=S-o.y,T=Math.sqrt(E*E+A*A),U=60,L=Math.min(T,U),I=Math.atan2(A,E),G=Math.cos(I)*L,F=Math.sin(I)*L;d({x:G,y:F}),n({x:G/U,y:F/U})},[o,n]),b=O.useCallback(()=>{m.current=null,r(null),d({x:0,y:0}),n({x:0,y:0})},[n]);return O.useEffect(()=>{const v=h.current;if(!v)return;const S=T=>{if(T.cancelable&&T.preventDefault(),m.current===null&&T.changedTouches.length>0){const U=T.changedTouches[0];y(U.clientX,U.clientY,U.identifier)}},E=T=>{if(m.current!==null){for(let U=0;U<T.changedTouches.length;U++)if(T.changedTouches[U].identifier===m.current){T.cancelable&&T.preventDefault(),g(T.changedTouches[U].clientX,T.changedTouches[U].clientY);break}}},A=T=>{if(m.current!==null){for(let U=0;U<T.changedTouches.length;U++)if(T.changedTouches[U].identifier===m.current){T.cancelable&&T.preventDefault(),b();break}}};return v.addEventListener("touchstart",S,{passive:!1}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",A),window.addEventListener("touchcancel",A),()=>{v.removeEventListener("touchstart",S),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",A),window.removeEventListener("touchcancel",A)}},[y,g,b]),O.useEffect(()=>{const v=h.current;if(!v)return;const S=T=>{y(T.clientX,T.clientY,999)},E=T=>{m.current===999&&g(T.clientX,T.clientY)},A=()=>{m.current===999&&b()};return v.addEventListener("mousedown",S),window.addEventListener("mousemove",E),window.addEventListener("mouseup",A),()=>{v.removeEventListener("mousedown",S),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",A)}},[y,g,b]),u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:h,className:`${s} touch-none`}),o&&u.jsx("div",{className:"fixed z-[999] pointer-events-none",style:{left:o.x,top:o.y},children:u.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-4 border-cyan-400/20 rounded-full bg-cyan-900/10 backdrop-blur-sm flex items-center justify-center",children:u.jsx("div",{className:"w-14 h-14 bg-cyan-400 rounded-full shadow-[0_0_30px_rgba(34,211,238,0.8)] border-2 border-white/40",style:{transform:`translate(${f.x}px, ${f.y}px)`}})})})]})},X0=n=>n>=1e6?(n/1e6).toFixed(2)+"M":n>=1e3?(n/1e3).toFixed(1)+"k":Math.floor(n).toLocaleString(),$p=({until:n,maxDuration:s,color:o,icon:r})=>{const[f,d]=O.useState(0);if(O.useEffect(()=>{const S=setInterval(()=>{const E=performance.now(),A=Math.max(0,n-E);d(A),A<=0&&clearInterval(S)},50);return()=>clearInterval(S)},[n]),f<=0)return null;const m=48,h=4,y=m/2-h,g=y*2*Math.PI,b=f/s,v=g-b*g;return u.jsxs("div",{className:"flex flex-col items-center gap-1 animate-in zoom-in fade-in duration-300 pointer-events-none",children:[u.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center bg-slate-900/80 rounded-full border border-slate-700 shadow-lg",children:[u.jsxs("svg",{width:m,height:m,className:"absolute -rotate-90",children:[u.jsx("circle",{cx:m/2,cy:m/2,r:y,stroke:"rgba(255,255,255,0.1)",strokeWidth:h,fill:"none"}),u.jsx("circle",{cx:m/2,cy:m/2,r:y,stroke:o,strokeWidth:h,fill:"none",strokeDasharray:g,strokeDashoffset:v,strokeLinecap:"round",className:"transition-[stroke-dashoffset] duration-100 ease-linear"})]}),u.jsx("div",{className:"text-lg drop-shadow-lg",style:{color:o},children:u.jsx("i",{className:`fa-solid ${r}`})})]}),u.jsxs("span",{className:"text-[9px] font-black uppercase text-white tracking-widest drop-shadow-md bg-slate-900/60 px-1 rounded",children:[(f/1e3).toFixed(1),"s"]})]})},eg={[we.NONE]:"fa-circle",[we.AFTERBURNER]:"fa-forward-fast",[we.SHIELD_BURST]:"fa-shield-heart",[we.PHASE_SHIFT]:"fa-ghost",[we.TIME_WARP]:"fa-clock"},tg=({slot:n,slotIndex:s,onActivate:o})=>{const[r,f]=O.useState({ready:!1,progress:0,active:!1,timeLeft:0});O.useEffect(()=>{const h=()=>{const g=performance.now(),b=g<n.activeUntil,v=g>=n.readyTime;let S=0,E=0;if(b){const A=n.activeUntil-g;S=A/n.duration,E=A}else v?S=1:S=1-(n.readyTime-g)/n.cooldownMax;f({ready:v,progress:S,active:b,timeLeft:E})},y=setInterval(h,50);return h(),()=>clearInterval(y)},[n.readyTime,n.activeUntil,n.duration,n.cooldownMax]);const d=h=>{h.stopPropagation(),(r.ready||r.active)&&o(s)},m=eg[n.type]||"fa-puzzle-piece";return u.jsxs("div",{className:"flex flex-col items-center relative",children:[u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-slate-950 text-[10px] font-black rounded-full flex items-center justify-center shadow-md z-20",style:{fontFamily:"system-ui, sans-serif",fontVariantNumeric:"tabular-nums"},children:s+1}),u.jsxs("button",{onPointerDown:d,className:`relative w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all
          ${r.ready||r.active?"active:scale-95 cursor-pointer":"cursor-not-allowed opacity-80"}
          ${r.active?"bg-fuchsia-600 animate-pulse ring-2 ring-white":r.ready?"bg-slate-900 border-2 border-fuchsia-500 text-fuchsia-400":"bg-slate-900 border-2 border-slate-700 text-slate-600"}`,children:[u.jsx("i",{className:`fa-solid ${m} text-xl z-10 ${r.ready||r.active?"text-white":"text-slate-600"}`}),!r.ready&&!r.active&&u.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",viewBox:"0 0 56 56",children:[u.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"3"}),u.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"#d946ef",strokeWidth:"3",strokeOpacity:"0.5",strokeDasharray:157,strokeDashoffset:157*(1-r.progress),strokeLinecap:"round"})]}),r.active&&u.jsx("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",viewBox:"0 0 56 56",children:u.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",strokeDasharray:157,strokeDashoffset:157*(1-r.progress),strokeLinecap:"round"})})]}),u.jsx("span",{className:"mt-1 bg-slate-900/80 text-[8px] font-black uppercase text-fuchsia-400 px-1.5 py-0.5 rounded border border-fuchsia-500/30 shadow-lg",children:r.active?`${(r.timeLeft/1e3).toFixed(1)}s`:r.ready?"READY":"WAIT"})]})},ag=({stats:n,score:s,autoAttack:o,setAutoAttack:r,totalCredits:f,onPause:d,onShowUpgrades:m,onOpenGarage:h,onLevelClick:y,onActivateModule:g})=>{var V;const b=Math.max(0,n.currentHealth/n.maxHealth*100),v=Math.max(0,n.currentShield/n.maxShield*100),S=Math.max(0,Math.min(100,n.xp/n.xpToNextLevel*100)),E=performance.now()<n.invulnerableUntil,A=n.pendingLevelUps>0,T=((V=Sl.find(q=>q.type===n.shipType))==null?void 0:V.name)||"Vessel",[U,L]=O.useState([]),I=O.useRef(n.currentHealth),G=O.useRef(n.currentShield);O.useEffect(()=>{if(n.currentHealth<I.current){const q=Math.floor(I.current-n.currentHealth);q>0&&F(q,"HULL")}if(I.current=n.currentHealth,n.currentShield<G.current){const q=Math.floor(G.current-n.currentShield);q>0&&F(q,"SHIELD")}G.current=n.currentShield},[n.currentHealth,n.currentShield]);const F=(q,J)=>{const Q=Date.now()+Math.random();L(ee=>[...ee,{id:Q,value:q,type:J}]),setTimeout(()=>{L(ee=>ee.filter(ae=>ae.id!==Q))},800)},W=(q,J)=>{q.stopPropagation(),J()};return u.jsxs(u.Fragment,{children:[u.jsx("style",{children:`
      @keyframes floatUp {
        0% { transform: translateY(0) scale(1); opacity: 1; }
        50% { transform: translateY(-20px) scale(1.2); opacity: 1; }
        100% { transform: translateY(-40px) scale(1); opacity: 0; }
      }
    `}),u.jsxs("div",{className:"fixed top-0 left-0 w-full p-2 pointer-events-none z-50 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex justify-between items-start w-full",children:[u.jsxs("div",{className:"flex flex-col gap-2 pointer-events-auto max-w-[45%]",children:[u.jsxs("button",{onPointerDown:q=>A&&y?W(q,y):void 0,className:`bg-slate-900/80 backdrop-blur-md border border-cyan-500/40 rounded-xl p-2 flex flex-col shadow-2xl min-w-[110px] transition-all 
                ${A?"animate-pulse ring-2 ring-cyan-400 cursor-pointer active:scale-95":""}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"text-cyan-400/70 text-[9px] font-black uppercase tracking-widest truncate",children:T}),u.jsx("div",{className:`bg-cyan-500 text-slate-950 px-1.5 rounded text-[9px] font-black shrink-0 ${A?"bg-white":""}`,children:A?"UPGRADE!":`LV ${n.level}`})]}),u.jsx("div",{className:"w-full h-1.5 bg-slate-950 rounded-full overflow-hidden border border-slate-700/50 mb-1",children:u.jsx("div",{className:"h-full bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.8)] transition-all duration-700",style:{width:`${S}%`}})})]}),u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-amber-500/40 rounded-xl p-2 flex flex-col gap-0.5 shadow-2xl min-w-[110px] w-fit",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-coins text-amber-400 text-xs"}),u.jsx("span",{className:"text-amber-400 font-black text-sm leading-none",children:X0(n.credits)}),u.jsx("span",{className:"text-[9px] text-amber-500/60 font-bold uppercase",children:"EARNED"})]}),u.jsxs("div",{className:"flex items-center gap-2 border-t border-amber-500/20 pt-0.5 mt-0.5",children:[u.jsx("i",{className:"fa-solid fa-wallet text-slate-500 text-[10px]"}),u.jsx("span",{className:"text-slate-400 font-bold text-xs leading-none",children:X0(f)}),u.jsx("span",{className:"text-[8px] text-slate-600 font-bold uppercase",children:"TOTAL"})]})]}),u.jsx("div",{className:"flex flex-col gap-2 mt-2 items-start",children:Object.entries(n.activeBuffs).map(([q,J])=>{if(J<=performance.now())return null;const Q=kn[q];return!Q||Q.type==="INSTANT"?null:u.jsx($p,{label:Q.name,until:J,maxDuration:Q.duration||1e3,color:Q.color,icon:Q.icon},q)})})]}),u.jsxs("div",{className:"flex flex-col items-end gap-3 pointer-events-auto",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onPointerDown:q=>W(q,()=>r(!o)),className:`w-12 h-12 bg-slate-900/90 border-2 rounded-xl flex items-center justify-center transition-all shadow-2xl active:scale-90 ${o?"border-emerald-500 text-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"border-slate-700 text-slate-500 opacity-60"}`,children:u.jsx("i",{className:`fa-solid ${o?"fa-crosshairs":"fa-slash"} text-lg`})}),u.jsx("button",{onPointerDown:q=>W(q,d),className:"w-12 h-12 bg-slate-900/90 border-2 border-slate-700 rounded-xl flex items-center justify-center text-white active:scale-90 transition-all shadow-2xl",children:u.jsx("i",{className:"fa-solid fa-pause text-lg"})})]}),u.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-white/10 flex flex-col items-end shadow-xl",children:[u.jsx("span",{className:"text-white/40 text-[9px] font-black uppercase tracking-widest",children:"SCORE"}),u.jsx("span",{className:"text-white text-lg font-black italic leading-none tabular-nums",children:s.toLocaleString()})]})]})]}),n.moduleSlots.length>0&&u.jsx("div",{className:"fixed bottom-32 left-6 pointer-events-auto z-[60] flex gap-3",children:n.moduleSlots.map((q,J)=>u.jsx(tg,{slot:q,slotIndex:J,onActivate:Q=>g&&g(Q)},`module-${J}-${q.type}`))}),u.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-lg flex flex-col gap-3 pointer-events-none",children:[u.jsxs("div",{className:"flex flex-col gap-1 relative",children:[u.jsx("div",{className:"absolute bottom-full right-0 mb-2 flex flex-col items-end pointer-events-none",children:U.filter(q=>q.type==="HULL").map(q=>u.jsxs("div",{className:"text-red-500 font-black text-xl drop-shadow-md",style:{animation:"floatUp 0.8s ease-out forwards"},children:["-",q.value]},q.id))}),u.jsxs("div",{className:"flex justify-between items-end px-1",children:[u.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${b<30?"text-red-500 animate-pulse":"text-emerald-400"}`,children:[u.jsx("i",{className:"fa-solid fa-shield-heart mr-2"}),"HULL"]}),u.jsxs("span",{className:"text-white text-[10px] font-black tabular-nums drop-shadow-md",children:[Math.round(n.currentHealth),"/",Math.round(n.maxHealth)]})]}),u.jsx("div",{className:"w-full h-4 bg-slate-950/90 rounded-lg border border-slate-800 overflow-hidden relative shadow-2xl",children:u.jsx("div",{className:`h-full transition-all duration-300 ${E?"bg-white opacity-40":b<30?"bg-gradient-to-r from-red-600 to-red-400":"bg-gradient-to-r from-emerald-600 to-emerald-400"}`,style:{width:`${b}%`},children:u.jsx("div",{className:"w-full h-full opacity-30 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"})})})]}),u.jsxs("div",{className:"flex flex-col gap-1 relative",children:[u.jsx("div",{className:"absolute bottom-full right-0 mb-2 flex flex-col items-end pointer-events-none",children:U.filter(q=>q.type==="SHIELD").map(q=>u.jsxs("div",{className:"text-cyan-300 font-black text-lg drop-shadow-md",style:{animation:"floatUp 0.8s ease-out forwards"},children:["-",q.value]},q.id))}),u.jsxs("div",{className:"flex justify-between items-end px-1",children:[u.jsxs("span",{className:"text-blue-400 text-[9px] font-black uppercase tracking-widest",children:[u.jsx("i",{className:"fa-solid fa-shield-halved mr-2"}),"SHIELD"]}),u.jsxs("span",{className:"text-blue-200 text-[9px] font-black tabular-nums",children:[Math.round(n.currentShield),"/",Math.round(n.maxShield)]})]}),u.jsx("div",{className:"w-full h-2 bg-slate-950/90 rounded-full border border-slate-800 overflow-hidden shadow-2xl",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 to-blue-400 transition-all duration-200 relative",style:{width:`${v}%`},children:u.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]})]})]})]})},V0={LEGENDARY:{bg:"bg-amber-900/30",border:"border-amber-500",text:"text-amber-400",glow:"shadow-[0_0_20px_rgba(251,191,36,0.3)]"},RARE:{bg:"bg-purple-900/30",border:"border-purple-500",text:"text-purple-400",glow:"shadow-[0_0_15px_rgba(168,85,247,0.2)]"},COMMON:{bg:"bg-slate-800",border:"border-slate-600",text:"text-slate-400",glow:""}},lg=({upgrades:n,onSelect:s})=>u.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center z-[500] p-4 sm:p-6",children:u.jsxs("div",{className:"max-w-md w-full flex flex-col gap-6 animate-in fade-in zoom-in duration-300",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-cyan-400 text-2xl sm:text-3xl font-black italic tracking-tighter uppercase",children:"Level Up!"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Select an enhancement for your vessel"})]}),u.jsx("div",{className:"flex flex-col gap-3",children:n.map((o,r)=>{const f=o.rarity||"COMMON",d=V0[f]||V0.COMMON;return u.jsxs("button",{onClick:()=>s(o),className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all group text-left
                                    ${d.bg} ${d.border} ${d.glow}
                                    hover:scale-[1.02] active:scale-[0.98]`,children:[u.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border 
                                    ${d.bg} ${d.border} group-hover:brightness-125 transition-all`,children:u.jsx("i",{className:`fa-solid ${o.icon} ${d.text} text-xl`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[u.jsx("h3",{className:"text-white font-bold text-base sm:text-lg truncate",children:o.name}),u.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${d.text} ${d.bg} border ${d.border}`,children:f})]}),u.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-snug",children:o.description})]}),u.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:u.jsx("i",{className:`fa-solid fa-chevron-right ${d.text}`})})]},`${o.id}-${r}`)})})]})}),uh=O.createContext(null),Ys=()=>{const n=O.useContext(uh);if(!n)throw new Error("useGarage must be used within GarageProvider");return n},ng=n=>n>=1e6?(n/1e6).toFixed(2)+"M":n>=1e3?(n/1e3).toFixed(1)+"k":Math.floor(n).toLocaleString(),sg=({data:n,sessionCredits:s,onUpdate:o,onApplyEffect:r,children:f})=>{const d=O.useMemo(()=>n.credits+s,[n.credits,s]),m=(g,b)=>Math.floor(g.costBase*Math.pow(g.costFactor,b)),y={data:n,totalCredits:d,sessionCredits:s,onUpdate:o,onApplyEffect:r,getUpgradeCost:m,buyMeta:g=>{const b=n.metaLevels[g.id]||0;if(b>=g.maxLevel)return;const v=m(g,b);if(d>=v){const S=Math.min(s,v),E=n.credits-(v-S);o({...n,credits:E,metaLevels:{...n.metaLevels,[g.id]:b+1}},S)}},formatCredits:ng};return u.jsx(uh.Provider,{value:y,children:f})},ig=({onClose:n})=>{const{formatCredits:s,totalCredits:o}=Ys();return u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("h2",{className:"text-cyan-400 text-2xl sm:text-3xl font-black italic uppercase tracking-tighter",children:"Command Garage"}),u.jsx("div",{className:"flex items-center gap-4 mt-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-amber-400 font-bold text-sm bg-amber-400/10 px-4 py-1.5 rounded-lg border border-amber-400/20 shadow-[0_0_15px_rgba(251,191,36,0.2)]",children:[u.jsx("i",{className:"fa-solid fa-coins"}),u.jsxs("span",{children:[s(o)," CREDITS"]})]})})]}),u.jsx("button",{onClick:n,className:"bg-cyan-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-2xl font-black uppercase shadow-lg shadow-cyan-600/30 active:scale-95 transition-all hover:bg-cyan-500 text-sm sm:text-base",children:"Resume"})]})},cg=[{id:"SHIPS",label:"Vessels",icon:"fa-shuttle-space"},{id:"WEAPONS",label:"Armory",icon:"fa-crosshairs"},{id:"MODULES",label:"Modules",icon:"fa-puzzle-piece"},{id:"CORE",label:"Avionics",icon:"fa-microchip"}],rg={SHIPS:"text-cyan-400",WEAPONS:"text-amber-400",MODULES:"text-fuchsia-400",CORE:"text-emerald-400"},og=({activeTab:n,onTabChange:s})=>u.jsxs("div",{className:"flex gap-1 mt-6",children:[cg.map(o=>{const r=n===o.id;return u.jsxs("button",{onClick:()=>s(o.id),className:`px-4 sm:px-6 py-3 rounded-t-xl font-bold text-xs sm:text-sm uppercase tracking-wider whitespace-nowrap
                            ${r?`bg-slate-950 ${rg[o.id]} border-t-2 border-x border-t-current border-x-slate-700/50`:"text-slate-500 hover:text-white hover:bg-slate-800/50 border-b border-slate-700/50"}`,children:[u.jsx("i",{className:`fa-solid ${o.icon} mr-2`}),u.jsx("span",{className:"hidden sm:inline",children:o.label})]},o.id)}),u.jsx("div",{className:"flex-1 border-b border-slate-700/50"})]}),ug=()=>{const{data:n,totalCredits:s,sessionCredits:o,onUpdate:r,formatCredits:f}=Ys(),d=m=>{const h=n.equippedModules||[],y=Sl.find(v=>v.type===n.equippedShip),g=y==null?void 0:y.intrinsicModule,b=()=>{let v=g?h.filter(E=>E!==g):h;if(!m.intrinsicModule)return v;const S=m.intrinsicModule;return v=v.filter(E=>E!==S),[S,...v.slice(0,2)]};if(n.unlockedShips.includes(m.type)){r({...n,equippedShip:m.type,equippedModules:b()},0);return}if(s>=m.cost){const v=Math.min(o,m.cost),S=n.credits-(m.cost-v);r({...n,credits:S,unlockedShips:[...n.unlockedShips,m.type],equippedShip:m.type,equippedModules:b()},v)}};return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:Sl.map(m=>{const h=n.unlockedShips.includes(m.type),y=n.equippedShip===m.type,g=s>=m.cost;return u.jsxs("div",{className:`p-6 bg-slate-900/40 border rounded-3xl flex flex-col gap-4 transition-all 
                            ${y?"border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)] bg-cyan-900/10":"border-slate-800 opacity-90 hover:opacity-100"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-white text-xl sm:text-2xl font-black italic uppercase leading-tight",children:m.name}),u.jsxs("div",{className:"text-cyan-400 text-xs font-bold uppercase tracking-widest mt-1",children:["Class: ",m.type]})]}),u.jsx("div",{className:"w-10 h-10 rounded-full shrink-0 shadow-lg border-2 border-white/20",style:{backgroundColor:m.color}})]}),u.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:m.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs font-bold text-slate-400 uppercase",children:[u.jsxs("div",{children:[u.jsx("i",{className:"fa-solid fa-heart mr-1 text-red-400"})," HP: ",m.baseStats.maxHealth]}),u.jsxs("div",{children:[u.jsx("i",{className:"fa-solid fa-shield mr-1 text-cyan-400"})," SH: ",m.baseStats.maxShield]}),u.jsxs("div",{children:[u.jsx("i",{className:"fa-solid fa-bolt mr-1 text-yellow-400"})," SPD: ",m.baseStats.speed]}),m.baseStats.bulletCount&&m.baseStats.bulletCount>1&&u.jsxs("div",{children:[u.jsx("i",{className:"fa-solid fa-clone mr-1 text-purple-400"})," x",m.baseStats.bulletCount]})]}),u.jsxs("div",{className:"mt-auto pt-2",children:[!h&&u.jsxs("div",{className:"text-amber-400 text-sm font-bold mb-2 text-center",children:[u.jsx("i",{className:"fa-solid fa-coins mr-1"}),f(m.cost)," C"]}),u.jsx("button",{disabled:!h&&!g,onClick:()=>d(m),className:`w-full py-3 rounded-xl font-bold text-sm shadow-md active:scale-95 transition-all uppercase tracking-wide
                                    ${y?"bg-cyan-500 text-slate-950":h?"bg-slate-700 text-white hover:bg-slate-600":g?"bg-amber-600 text-white hover:bg-amber-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:y?"SYSTEMS ONLINE":h?"DEPLOY VESSEL":g?"PURCHASE":`NEED ${f(m.cost-s)} MORE`})]})]},m.type)})})},zo=({upgrade:n,accentColor:s="emerald"})=>{const{data:o,totalCredits:r,getUpgradeCost:f,buyMeta:d,formatCredits:m}=Ys(),h=o.metaLevels[n.id]||0,y=f(n,h),g=h>=n.maxLevel,b=r>=y,v=Math.min(100,h/n.maxLevel*100),E={amber:{icon:"text-amber-400",bar:"bg-amber-500",button:"text-amber-400 border-amber-400/20 hover:bg-amber-400/10",glow:"shadow-[0_0_15px_rgba(251,191,36,0.1)]"},fuchsia:{icon:"text-fuchsia-400",bar:"bg-fuchsia-500",button:"text-fuchsia-400 border-fuchsia-400/20 hover:bg-fuchsia-400/10",glow:"shadow-[0_0_15px_rgba(217,70,239,0.1)]"},emerald:{icon:"text-emerald-400",bar:"bg-emerald-500",button:"text-white bg-emerald-600 hover:bg-emerald-500",glow:"shadow-[0_0_15px_rgba(16,185,129,0.1)]"},cyan:{icon:"text-cyan-400",bar:"bg-cyan-500",button:"text-cyan-400 border-cyan-400/20 hover:bg-cyan-400/10",glow:"shadow-[0_0_15px_rgba(6,182,212,0.1)]"}}[s];return u.jsxs("div",{className:"p-4 bg-slate-900/60 border border-slate-800 rounded-2xl flex flex-col gap-3 hover:border-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center ${E.icon} ${E.glow} border border-slate-700`,children:u.jsx("i",{className:`fa-solid ${n.icon}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[u.jsx("h4",{className:"text-white font-bold text-xs uppercase truncate tracking-tight",children:n.name}),u.jsxs("div",{className:"text-slate-400 text-[10px] font-bold ml-2",children:["LV ",h,"/",n.maxLevel]})]}),u.jsx("div",{className:"w-full h-1.5 bg-slate-950 rounded-full overflow-hidden border border-slate-800/50",children:u.jsx("div",{className:`h-full ${E.bar} transition-all duration-300`,style:{width:`${v}%`}})})]})]}),u.jsx("p",{className:"text-slate-400 text-[11px] leading-snug min-h-[2.5em]",children:n.description}),u.jsx("button",{disabled:g||!b,onClick:()=>d(n),className:`w-full py-2.5 rounded-xl flex items-center justify-center font-bold text-xs transition-all uppercase tracking-wide
                    ${g?"bg-slate-950 text-emerald-500 cursor-default border border-emerald-900/20":b?`bg-slate-800 ${E.button} border active:scale-95`:"bg-slate-950 text-slate-500 cursor-not-allowed border border-slate-800"}`,children:g?"MAXED":`${m(y)} C`})]})},fg=[{type:k.PLASMA,name:"Plasma Cannon",icon:"fa-fire-burner",description:"Fast fire rate, moderate damage"},{type:k.MISSILE,name:"Missile Launcher",icon:"fa-rocket",description:"Slow but powerful AOE explosions"},{type:k.LASER,name:"Beam Laser",icon:"fa-sun",description:"Charge to unleash devastating beam"},{type:k.SWARM_LAUNCHER,name:"Swarm Launcher",icon:"fa-hive",description:"Homing rockets, scales late game"},{type:k.RAILGUN,name:"Railgun",icon:"fa-bolt",description:"Pierces all enemies. Charge, aim, devastate."},{type:k.FLAK_CANNON,name:"Flak Cannon",icon:"fa-spray-can",description:"Shotgun spread. 8 pellets, short range destruction."},{type:k.ENERGY_ORB,name:"Energy Orb",icon:"fa-atom",description:"Slow pulsating orb. Area damage + final explosion."},{type:k.ARC_CASTER,name:"Arc Caster",icon:"fa-bolt-lightning",description:"Chain lightning. Zaps multiple targets."},{type:k.FLAMETHROWER,name:"Flamethrower",icon:"fa-fire",description:"Short range cone of fire. Infinite pierce, rapid damage."}],dg=()=>{const{data:n,totalCredits:s,sessionCredits:o,onUpdate:r,formatCredits:f}=Ys(),[d,m]=O.useState(n.equippedWeapon||k.PLASMA),h=y=>{const g=(n.unlockedWeapons||[k.PLASMA]).includes(y),b=q0[y]||0;if(g)r({...n,equippedWeapon:y},0),m(y);else if(s>=b){const v=Math.min(o,b),S=n.credits-(b-v);r({...n,credits:S,unlockedWeapons:[...n.unlockedWeapons||[k.PLASMA],y],equippedWeapon:y},v),m(y)}};return u.jsx("div",{className:"flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:fg.map(y=>{const g=(n.unlockedWeapons||[k.PLASMA]).includes(y.type),b=(n.equippedWeapon||k.PLASMA)===y.type,v=q0[y.type],S=s>=v,E=Yn.filter(T=>T.weaponType===y.type),A=d===y.type;return u.jsxs("div",{className:`p-5 sm:p-6 border rounded-2xl flex flex-col gap-4 transition-all 
                            ${b?"border-amber-500 bg-amber-500/5":"border-slate-800 bg-slate-900/40"}`,children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-4 ${g?"cursor-pointer":""}`,onClick:()=>g&&m(A?null:y.type),children:[u.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center text-xl sm:text-2xl border 
                                    ${b?"bg-amber-500 text-slate-950 border-amber-400":"bg-slate-800 text-slate-400 border-slate-700"}`,children:u.jsx("i",{className:`fa-solid ${y.icon}`})}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-white text-lg sm:text-xl font-black uppercase tracking-tight",children:y.name}),g&&u.jsx("i",{className:`fa-solid fa-chevron-${A?"up":"down"} text-slate-500 text-sm`})]}),u.jsx("div",{className:"text-slate-400 text-xs",children:y.description})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!g&&u.jsxs("div",{className:"text-amber-400 text-sm font-bold",children:[u.jsx("i",{className:"fa-solid fa-coins mr-1"}),f(v)," C"]}),u.jsx("button",{disabled:!g&&!S,onClick:()=>h(y.type),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all uppercase tracking-wider
                                        ${b?"bg-amber-500 text-slate-950 cursor-default":g?"bg-slate-700 text-white hover:bg-slate-600":S?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:b?"EQUIPPED":g?"EQUIP":S?"UNLOCK":"LOCKED"})]})]}),g&&A&&E.length>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-slate-800/50 animate-in fade-in slide-in-from-top-2 duration-200",children:E.map(T=>u.jsx(zo,{upgrade:T,accentColor:"amber"},T.id))})]},y.type)})})},K0=3,hg=[{type:we.AFTERBURNER,name:"Afterburner",icon:"fa-forward-fast",description:"Temporary speed boost. Dodge attacks and reposition quickly."},{type:we.SHIELD_BURST,name:"Shield Burst",icon:"fa-shield-heart",description:"Instantly restores shield and grants brief invulnerability."},{type:we.PHASE_SHIFT,name:"Phase Shift",icon:"fa-ghost",description:"Phase through attacks. Pure invulnerability, no healing."},{type:we.TIME_WARP,name:"Time Warp",icon:"fa-clock",description:"Slows time for all enemies and projectiles by 50%."}],mg=()=>{const{data:n,totalCredits:s,sessionCredits:o,onUpdate:r,formatCredits:f}=Ys(),d=n.equippedModules||[],[m,h]=O.useState(d[0]||null),y=Sl.find(A=>A.type===n.equippedShip);y==null||y.intrinsicModule;const g=Sl.map(A=>A.intrinsicModule).filter(A=>A!==void 0),b=hg.filter(A=>!g.includes(A.type)),v=A=>d.includes(A),S=d.length<K0,E=A=>{const T=(n.unlockedModules||[]).includes(A),U=I0[A]||0;if(T){let L;if(v(A))L=d.filter(I=>I!==A);else if(S)L=[...d,A],h(A);else return;r({...n,equippedModules:L},0)}else if(s>=U){const L=Math.min(o,U),I=n.credits-(U-L),G=S?[...d,A]:d;r({...n,credits:I,unlockedModules:[...n.unlockedModules||[],A],equippedModules:G},L),h(A)}};return u.jsxs("div",{className:"flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[u.jsx("i",{className:"fa-solid fa-puzzle-piece text-fuchsia-400"}),u.jsxs("span",{children:["Module Slots: ",u.jsxs("strong",{className:"text-white",children:[d.length,"/",K0]})]})]}),b.map(A=>{const T=(n.unlockedModules||[]).includes(A.type),U=v(A.type),L=I0[A.type],I=s>=L,G=Yn.filter(V=>V.moduleType===A.type),F=m===A.type,W=U?d.indexOf(A.type)+1:null;return u.jsxs("div",{className:`p-5 sm:p-6 border rounded-2xl flex flex-col gap-4 transition-all 
                            ${U?"border-fuchsia-500 bg-fuchsia-500/5":"border-slate-800 bg-slate-900/40"}`,children:[u.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[u.jsxs("div",{className:`flex items-center gap-4 ${T?"cursor-pointer":""}`,onClick:()=>T&&h(F?null:A.type),children:[u.jsxs("div",{className:`relative w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center text-xl sm:text-2xl border 
                                    ${U?"bg-fuchsia-500 text-slate-950 border-fuchsia-400":"bg-slate-800 text-slate-400 border-slate-700"}`,children:[u.jsx("i",{className:`fa-solid ${A.icon}`}),W&&u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-amber-500 text-slate-950 text-xs font-black rounded-full flex items-center justify-center",children:W})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-white text-lg sm:text-xl font-black uppercase tracking-tight",children:A.name}),T&&u.jsx("i",{className:`fa-solid fa-chevron-${F?"up":"down"} text-slate-500 text-sm`})]}),u.jsx("div",{className:"text-slate-400 text-xs",children:A.description})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!T&&u.jsxs("div",{className:"text-fuchsia-400 text-sm font-bold",children:[u.jsx("i",{className:"fa-solid fa-coins mr-1"}),f(L)," C"]}),u.jsx("button",{disabled:!T&&!I,onClick:()=>E(A.type),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all uppercase tracking-wider
                                        ${U?"bg-slate-700 text-fuchsia-400 border border-fuchsia-500 hover:bg-red-900/30 hover:text-red-400 hover:border-red-500":T?S?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed":I?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:U?"UNEQUIP":T?S?"EQUIP":"SLOTS FULL":I?"UNLOCK":"LOCKED"})]})]}),T&&F&&G.length>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-slate-800/50 animate-in fade-in slide-in-from-top-2 duration-200",children:G.map(V=>u.jsx(zo,{upgrade:V,accentColor:"fuchsia"},V.id))})]},A.type)})]})},pg=()=>{const n=Yn.filter(s=>!s.weaponType&&!s.moduleType);return u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in slide-in-from-bottom-4 duration-300",children:n.map(s=>u.jsx(zo,{upgrade:s,accentColor:"emerald"},s.id))})},gg=({data:n,sessionCredits:s,onClose:o,onUpdate:r,onApplyEffect:f})=>{const[d,m]=O.useState("SHIPS");return u.jsx("div",{className:"garage-container fixed inset-0 bg-slate-950 flex flex-col z-[300] overflow-hidden",children:u.jsxs(sg,{data:n,sessionCredits:s,onUpdate:r,onApplyEffect:f,children:[u.jsx("div",{className:"shrink-0 p-4 sm:p-6 bg-slate-900 border-b border-slate-800",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx(ig,{onClose:o}),u.jsx(og,{activeTab:d,onTabChange:m})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-slate-950",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[d==="SHIPS"&&u.jsx(ug,{}),d==="WEAPONS"&&u.jsx(dg,{}),d==="MODULES"&&u.jsx(mg,{}),d==="CORE"&&u.jsx(pg,{})]})})]})})},yg=({acquired:n,onClose:s})=>u.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-6 shadow-2xl max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-cyan-400 text-2xl font-black italic uppercase",children:"System Manifest"}),u.jsx("button",{onClick:s,className:"text-slate-500 hover:text-white transition-colors",children:u.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:n.length===0?u.jsx("div",{className:"text-center py-12 text-slate-500 font-bold uppercase tracking-widest",children:"No upgrades acquired"}):u.jsx("div",{className:"flex flex-col gap-3",children:n.map((o,r)=>u.jsxs("div",{className:"flex items-center gap-4 p-3 bg-slate-950/50 border border-slate-800 rounded-xl",children:[u.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-lg flex items-center justify-center text-cyan-400 border border-slate-800",children:u.jsx("i",{className:`fa-solid ${o.icon}`})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-bold text-sm uppercase tracking-tight",children:o.name}),u.jsx("p",{className:"text-slate-500 text-[10px]",children:o.description})]})]},`${o.id}-${r}`))})}),u.jsx("button",{onClick:s,className:"mt-6 w-full py-4 bg-cyan-600 text-white font-black rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Close Manifest"})]})}),vg=({data:n,onUpdate:s,onReset:o,onClose:r})=>{var A,T,U,L;const[f,d]=O.useState(!1),m=((A=n.settings)==null?void 0:A.controlScheme)||je.TWIN_STICK,h=((T=n.settings)==null?void 0:T.zoomLevel)||_o,y=((U=n.settings)==null?void 0:U.autoShowLevelUp)??!0,g=((L=n.settings)==null?void 0:L.showDpsMeter)??!1,b=I=>{s({...n,settings:{...n.settings,controlScheme:I}})},v=I=>{s({...n,settings:{...n.settings,zoomLevel:I}})},S=()=>{s({...n,settings:{...n.settings,autoShowLevelUp:!y}})},E=()=>{f?o():(d(!0),setTimeout(()=>d(!1),3e3))};return u.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[300] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col gap-8 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h2",{className:"text-cyan-400 text-3xl font-black italic uppercase tracking-tighter",children:"System Config"})}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest px-1",children:"Fire Control Systems"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("button",{onClick:()=>b(je.TWIN_STICK),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${m===je.TWIN_STICK?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${m===je.TWIN_STICK?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:u.jsx("i",{className:"fa-solid fa-gamepad text-xl"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-black uppercase text-sm ${m===je.TWIN_STICK?"text-white":"text-slate-400"}`,children:"Twin Stick"}),u.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Left Stick: Aim & Fire",u.jsx("br",{}),"Right Stick: Movement"]})]})]}),u.jsxs("button",{onClick:()=>b(je.TAP_TO_AIM),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${m===je.TAP_TO_AIM?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${m===je.TAP_TO_AIM?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:u.jsx("i",{className:"fa-solid fa-fingerprint text-xl"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-black uppercase text-sm ${m===je.TAP_TO_AIM?"text-white":"text-slate-400"}`,children:"Touch Targeting"}),u.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Tap/Hold Screen: Aim & Fire",u.jsx("br",{}),"Right Stick: Movement"]})]})]}),u.jsxs("button",{onClick:()=>b(je.KEYBOARD_MOUSE),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${m===je.KEYBOARD_MOUSE?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${m===je.KEYBOARD_MOUSE?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:u.jsx("i",{className:"fa-solid fa-computer-mouse text-xl"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-black uppercase text-sm ${m===je.KEYBOARD_MOUSE?"text-white":"text-slate-400"}`,children:"Keyboard & Mouse"}),u.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Mouse: Aim (Click/Toggle to Fire)",u.jsx("br",{}),"WASD/Arrows: Movement"]})]})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest px-1",children:"Interface"}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Gp.map(I=>{const G=Math.abs(h-I.value)<.01;return u.jsxs("button",{onClick:()=>v(I.value),className:`p-3 rounded-xl border transition-all flex flex-col items-center gap-2
                             ${G?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[u.jsx("i",{className:`fa-solid ${I.icon} text-lg ${G?"text-cyan-400":"text-slate-500"}`}),u.jsx("span",{className:`text-[10px] font-bold uppercase ${G?"text-white":"text-slate-500"}`,children:I.label})]},I.value)})}),u.jsxs("button",{onClick:S,className:`p-4 rounded-xl border transition-all flex justify-between items-center
                  ${y?"bg-slate-900 border-emerald-500/50":"bg-slate-950 border-slate-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border ${y?"bg-emerald-900/30 border-emerald-500 text-emerald-400":"bg-slate-900 border-slate-700 text-slate-600"}`,children:u.jsx("i",{className:"fa-solid fa-layer-group"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-bold text-xs uppercase ${y?"text-white":"text-slate-400"}`,children:"Auto-Open Level Up"}),u.jsx("div",{className:"text-[9px] text-slate-500",children:"Show selection menu immediately"})]})]}),u.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${y?"bg-emerald-500":"bg-slate-700"}`,children:u.jsx("div",{className:`absolute top-1 bottom-1 w-3 rounded-full bg-white transition-all ${y?"left-6":"left-1"}`})})]}),u.jsxs("button",{onClick:()=>s({...n,settings:{...n.settings,showDpsMeter:!g}}),className:`p-4 rounded-xl border transition-all flex justify-between items-center
                  ${g?"bg-slate-900 border-cyan-500/50":"bg-slate-950 border-slate-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border ${g?"bg-cyan-900/30 border-cyan-500 text-cyan-400":"bg-slate-900 border-slate-700 text-slate-600"}`,children:u.jsx("i",{className:"fa-solid fa-chart-line"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:`font-bold text-xs uppercase ${g?"text-white":"text-slate-400"}`,children:"DPS Meter"}),u.jsx("div",{className:"text-[9px] text-slate-500",children:"Show damage per second overlay"})]})]}),u.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${g?"bg-cyan-500":"bg-slate-700"}`,children:u.jsx("div",{className:`absolute top-1 bottom-1 w-3 rounded-full bg-white transition-all ${g?"left-6":"left-1"}`})})]})]}),u.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-800 pt-6",children:[u.jsx("h3",{className:"text-red-500 text-xs font-bold uppercase tracking-widest px-1",children:"Danger Zone"}),u.jsxs("button",{onClick:E,className:`p-4 rounded-xl border transition-all flex items-center justify-center gap-2 font-black uppercase text-xs 
               ${f?"bg-red-600 text-white border-red-500 scale-105 shadow-xl animate-pulse":"bg-red-950/20 text-red-500 border-red-900/50 hover:bg-red-900/40 hover:border-red-500/50"}`,children:[u.jsx("i",{className:`fa-solid ${f?"fa-exclamation-circle":"fa-trash"}`}),f?"CONFIRM RESET? (TAP AGAIN)":"RESET PROGRESS"]})]}),u.jsx("button",{onClick:r,className:"w-full py-4 bg-white text-slate-950 font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Close"})]})})},bg=({onClose:n})=>{const[s,o]=O.useState("UPGRADES"),[r,f]=O.useState(1),d=h=>{switch(h){case k.PLASMA:return"fa-fire-burner";case k.MISSILE:return"fa-rocket";case k.LASER:return"fa-sun";case k.SWARM_LAUNCHER:return"fa-hive";case k.ENERGY_ORB:return"fa-atom";case k.ARC_CASTER:return"fa-bolt-lightning";case k.FLAMETHROWER:return"fa-fire";default:return"fa-gun"}},m=h=>{switch(h){case k.PLASMA:return"Plasma Cannon";case k.MISSILE:return"Havoc Missile";case k.LASER:return"Phase Laser";case k.SWARM_LAUNCHER:return"Swarm Launcher";case k.ENERGY_ORB:return"Energy Orb";case k.ARC_CASTER:return"Arc Caster";case k.FLAMETHROWER:return"Flamethrower";default:return h}};return u.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[400] p-4 md:p-8 animate-in fade-in zoom-in duration-200",children:u.jsxs("div",{className:"max-w-4xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-6 md:p-10 shadow-2xl flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-cyan-400 text-3xl md:text-4xl font-black italic uppercase tracking-tighter",children:"Database"}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:[{id:"UPGRADES",label:"Upgrades",icon:"fa-microchip"},{id:"WEAPONS",label:"Arsenal",icon:"fa-crosshairs"},{id:"ENEMIES",label:"Intel",icon:"fa-eye"},{id:"HELP",label:"Help",icon:"fa-circle-question"}].map(h=>u.jsxs("button",{onClick:()=>o(h.id),className:`px-4 py-2 rounded-lg font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2
                        ${s===h.id?"bg-cyan-500 text-slate-950 shadow-[0_0_15px_rgba(6,182,212,0.4)]":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:[u.jsx("i",{className:`fa-solid ${h.icon}`}),h.label]},h.id))})]}),u.jsx("button",{onClick:n,className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-red-500 transition-colors shrink-0",children:u.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[s==="UPGRADES"&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{className:"col-span-full text-slate-500 text-xs font-bold uppercase tracking-widest mb-2 px-1",children:"Available System Enhancements"}),Ho.map(h=>u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-950/50 border border-slate-800 rounded-2xl group hover:border-cyan-500/50 transition-all",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center text-cyan-400 border border-slate-800 group-hover:bg-cyan-400 group-hover:text-slate-950 transition-all",children:u.jsx("i",{className:`fa-solid ${h.icon} text-xl`})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-tight",children:h.name}),u.jsx("p",{className:"text-slate-400 text-xs leading-snug",children:h.description})]})]},h.id))]}),s==="WEAPONS"&&u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(k).map(h=>{const y=zs[h];let g=[];return h===k.SWARM_LAUNCHER?(g.push({label:"Burst Count",val:"3 - 9"}),g.push({label:"Blast Radius",val:"150px"}),g.push({label:"Homing",val:"Active"})):h===k.MISSILE?(g.push({label:"Blast Radius",val:"195px"}),g.push({label:"Pierce",val:"No"})):h===k.LASER?(g.push({label:"Beam Duration",val:"0.3s"}),g.push({label:"Tick Rate",val:"10/sec"}),g.push({label:"Pierce",val:"Infinite"})):h===k.PLASMA?g.push({label:"Effect",val:"Slows Enemies"}):h===k.RAILGUN?(g.push({label:"Pierce",val:"Infinite"}),g.push({label:"Charge Time",val:"0.5s"})):h===k.FLAK_CANNON?(g.push({label:"Pellets",val:"8"}),g.push({label:"Spread",val:"45"})):h===k.ENERGY_ORB?(g.push({label:"Pierce",val:"Infinite"}),g.push({label:"Duration",val:"5.0s"})):h===k.ARC_CASTER?(g.push({label:"Chain",val:"Yes"}),g.push({label:"Range",val:"250px"})):h===k.FLAMETHROWER&&(g.push({label:"Pierce",val:"Infinite"}),g.push({label:"Range",val:"Short"})),u.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-amber-500/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4 border-b border-slate-800 pb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center text-amber-400 border border-slate-800",children:u.jsx("i",{className:`fa-solid ${d(h)} text-xl`})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-black text-lg uppercase tracking-tight",children:m(h)}),u.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[h," CLASS"]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-6",children:[u.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[u.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Base Damage"}),u.jsx("span",{className:"text-white font-black text-sm",children:y.damage})]}),u.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[u.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Fire Rate"}),u.jsxs("span",{className:"text-white font-black text-sm",children:[y.fireRate,"/s"]})]}),u.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[u.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Velocity"}),u.jsx("span",{className:"text-white font-black text-sm",children:y.bulletSpeed})]}),g.map((b,v)=>u.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[u.jsx("span",{className:"text-amber-500/80 text-xs font-bold uppercase",children:b.label}),u.jsx("span",{className:"text-white font-black text-sm",children:b.val})]},v))]})]},h)})}),s==="ENEMIES"&&u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl sticky top-0 z-10 shadow-xl",children:[u.jsxs("div",{className:"flex justify-between items-end mb-4",children:[u.jsxs("label",{className:"text-cyan-400 font-black uppercase text-sm tracking-widest",children:[u.jsx("i",{className:"fa-solid fa-calculator mr-2"}),"Threat Level Simulator"]}),u.jsxs("span",{className:"text-3xl font-black text-white tabular-nums",children:["LV ",r]})]}),u.jsx("input",{type:"range",min:"1",max:"100",value:r,onChange:h=>f(parseInt(h.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),u.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 font-bold uppercase mt-2",children:[u.jsx("span",{children:"Rank 1 (Cadet)"}),u.jsx("span",{children:"Rank 50 (Elite)"}),u.jsx("span",{children:"Rank 100 (Voidwalker)"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B.SCOUT,B.STRIKER,B.LASER_SCOUT,B.KAMIKAZE,B.SHIELDER,B.BOSS_DREADNOUGHT,B.BOSS_DESTROYER].map(h=>{const y=zn[h];let g="#fff";return typeof y.color=="string"?g=y.color:g=`hsl(${y.color.hueMin}, ${y.color.saturation}%, ${y.color.lightness}%)`,u.jsx(xg,{name:y.name,role:y.role,baseHp:y.baseHealth*r,speed:h===B.STRIKER?"V. Fast":h===B.KAMIKAZE?"Extreme":h===B.BOSS_DESTROYER?"Very Slow":"Normal",desc:y.description,icon:y.guideIcon,color:g,isBoss:y.isBoss},h)})})]}),s==="HELP"&&u.jsxs("div",{className:"flex flex-col gap-8 text-slate-300",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Controls"}),u.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-2 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-white font-bold",children:"Movement:"})," Use Right Stick / WASD / Arrows"]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-white font-bold",children:"Aiming:"})," Use Left Stick / Mouse / Touch Screen"]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-white font-bold",children:"Firing:"})," Automatic when aiming at enemies, or hold Trigger/Mouse Click"]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Gameplay"}),u.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-3 text-sm",children:[u.jsxs("p",{children:["Survive endless waves of enemies in deep space. Collect ",u.jsx("span",{className:"text-cyan-400 font-bold italic",children:"Neural XP Sync"})," gems to level up and acquire random upgrades."]}),u.jsxs("p",{children:["Collect ",u.jsx("span",{className:"text-amber-400 font-bold italic",children:"Credits"})," during missions to unlock permanent ship upgrades in the ",u.jsx("span",{className:"text-white font-bold",children:"Command Garage"}),"."]}),u.jsxs("p",{children:["Watch out for ",u.jsx("span",{className:"text-red-500 font-bold italic",children:"Elite Enemies"})," marked with a magenta glowthey are tougher but drop better loot."]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Ship Systems"}),u.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-3 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-emerald-400 font-bold",children:"Integrity Hull:"})," Your primary health. If this reaches zero, mission ends."]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-blue-400 font-bold",children:"Plasma Shields:"})," Recharges after not taking damage for 3 seconds."]})]})]})]})]}),u.jsx("button",{onClick:n,className:"mt-6 w-full py-4 bg-slate-800 text-white font-black text-xl rounded-2xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-slate-700 shrink-0",children:"Close Database"})]})})},xg=({name:n,role:s,baseHp:o,speed:r,desc:f,icon:d,color:m,isBoss:h})=>u.jsxs("div",{className:`p-4 rounded-2xl border bg-slate-950/40 flex flex-col gap-3 ${h?"border-emerald-500/50 bg-emerald-900/10 col-span-1 md:col-span-2":"border-slate-800"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-slate-900 border border-slate-700",style:{color:m},children:u.jsx("i",{className:`fa-solid ${d} text-lg`})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-white font-black uppercase text-sm",style:{color:h?m:void 0},children:n}),u.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase",children:s})]})]}),h&&u.jsx("div",{className:"px-2 py-1 bg-slate-950 text-[10px] font-black uppercase rounded",style:{color:m,border:`1px solid ${m}`},children:"Boss Class"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 bg-slate-900/50 p-2 rounded-lg border border-slate-800/50",children:[u.jsxs("div",{className:"text-center border-r border-slate-800",children:[u.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-bold",children:"Normal HP"}),u.jsx("div",{className:"text-white font-bold text-xs",children:o.toLocaleString()})]}),u.jsxs("div",{className:"text-center border-r border-slate-800",children:[u.jsx("div",{className:"text-[9px] text-fuchsia-400 uppercase font-bold",children:"Elite HP"}),u.jsx("div",{className:"text-fuchsia-200 font-bold text-xs",children:(o*3).toLocaleString()})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[9px] text-red-500 uppercase font-bold",children:h?"Shield":"MiniBoss"}),u.jsx("div",{className:"text-red-300 font-bold text-xs",children:h?(o*(n.includes("Destroyer")?.4:.25)).toLocaleString():(o*12).toLocaleString()})]})]}),u.jsx("p",{className:"text-slate-400 text-xs italic",children:f})]}),Sg=({data:n,onUpdate:s,onClose:o})=>{const r=h=>{s({...n,credits:n.credits+h})},[f,d]=ih.useState(1e6),m=h=>h>=1e9?(h/1e9).toFixed(1)+"B":h>=1e6?(h/1e6).toFixed(0)+"M":h.toLocaleString();return u.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-red-900/50 rounded-3xl p-8 shadow-2xl flex flex-col gap-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-red-500 text-3xl font-black italic uppercase tracking-tighter",children:"Debug Console"}),u.jsx("button",{onClick:o,className:"text-slate-500 hover:text-white",children:u.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("p",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest text-center",children:"Authorization Level: OMNI"}),u.jsx("button",{onClick:()=>r(1e5),className:"group relative overflow-hidden py-4 bg-slate-950 border border-red-500/30 rounded-2xl text-red-500 font-black text-xl uppercase transition-all active:scale-95 hover:bg-red-500/10 hover:border-red-500",children:u.jsx("div",{className:"relative z-10 flex flex-col items-center",children:u.jsx("span",{children:"Add 100,000 Credits"})})}),u.jsxs("div",{className:"flex flex-col gap-4 bg-slate-950 p-4 rounded-xl border border-emerald-500/30",children:[u.jsxs("label",{className:"text-emerald-500 text-[10px] font-bold uppercase tracking-widest",children:["Custom Amount: ",f.toLocaleString()," C"]}),u.jsx("input",{type:"range",min:"1000000",max:"1000000000",step:"1000000",value:f,onChange:h=>d(parseInt(h.target.value)),className:"w-full h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),u.jsxs("button",{onClick:()=>r(f),className:"w-full py-3 bg-emerald-900/50 text-emerald-400 font-bold uppercase text-sm rounded-lg border border-emerald-500/50 hover:bg-emerald-500 hover:text-slate-950 transition-colors",children:["Add ",m(f)]})]})]}),u.jsxs("div",{className:"p-4 bg-slate-950 rounded-xl border border-slate-800 text-center",children:[u.jsx("div",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Current Bank"}),u.jsxs("div",{className:"text-white font-black text-2xl tabular-nums",children:[n.credits.toLocaleString()," C"]})]}),u.jsx("button",{onClick:o,className:"w-full py-4 bg-red-600 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Exit Debug"})]})})},Eg=({scores:n,onClose:s})=>{const[o,r]=O.useState(Tt.NORMAL),f=n.filter(m=>m.difficulty===o||!m.difficulty&&o===Tt.NORMAL).slice(0,50),d=m=>{if(!m)return"-";const h=Math.floor(m/60),y=Math.floor(m%60);return`${h}:${y.toString().padStart(2,"0")}`};return u.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in zoom-in duration-200",children:u.jsxs("div",{className:"max-w-3xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col gap-6 max-h-[90vh]",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-amber-400 text-3xl font-black italic uppercase tracking-tighter",children:"Hall of Fame"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Top commanders per operational tier"})]}),u.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:u.jsx("i",{className:"fa-solid fa-times"})})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b border-slate-800 custom-scrollbar",children:Object.values(Gn).map(m=>{const h=o===m.id;return u.jsx("button",{onClick:()=>r(m.id),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-widest transition-all whitespace-nowrap border
                            ${h?"bg-slate-800 border-slate-600 text-white shadow-lg":"bg-transparent border-transparent text-slate-500 hover:text-slate-300"}`,style:{color:h?m.color:void 0,borderColor:h?m.color:void 0},children:m.name},m.id)})}),u.jsx("div",{className:"bg-slate-950/50 rounded-2xl border border-slate-800 flex-1 w-full min-h-0 overflow-hidden flex flex-col",children:u.jsx("div",{className:"overflow-x-auto overflow-y-hidden flex-1 w-full custom-scrollbar",children:u.jsxs("div",{className:"min-w-[600px] h-full flex flex-col",children:[u.jsxs("div",{className:"grid grid-cols-11 bg-slate-900/80 p-3 text-[10px] font-black uppercase text-slate-500 tracking-widest border-b border-slate-800 shrink-0",children:[u.jsx("div",{className:"col-span-1 text-center",children:"#"}),u.jsx("div",{className:"col-span-3",children:"Pilot"}),u.jsx("div",{className:"col-span-1 text-center",children:"Time"}),u.jsx("div",{className:"col-span-1 text-center",children:"Acc"}),u.jsx("div",{className:"col-span-2 text-center",children:"Kills"}),u.jsx("div",{className:"col-span-1 text-center",children:"Credits"}),u.jsx("div",{className:"col-span-2 text-right",children:"Score"})]}),u.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:f.length===0?u.jsxs("div",{className:"p-12 text-center flex flex-col items-center gap-3",children:[u.jsx("i",{className:"fa-solid fa-ghost text-4xl text-slate-800"}),u.jsxs("div",{className:"text-slate-600 font-bold uppercase text-xs",children:["No Records Found for ",Gn[o].name," Tier"]})]}):f.map((m,h)=>u.jsxs("div",{className:`grid grid-cols-11 p-3 border-b border-slate-800/50 items-center hover:bg-slate-800/30 transition-colors ${h===0?"bg-amber-400/5":""}`,children:[u.jsx("div",{className:"col-span-1 text-center font-black text-slate-600",children:h===0?u.jsx("i",{className:"fa-solid fa-crown text-amber-400"}):h+1}),u.jsxs("div",{className:"col-span-3 truncate pr-2",children:[u.jsx("div",{className:`font-bold truncate ${h===0?"text-amber-200":"text-white"}`,children:m.name||"Unknown Pilot"}),u.jsx("div",{className:"text-[9px] text-slate-500",children:new Date(m.date).toLocaleDateString()})]}),u.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-slate-300",children:d(m.survivalTime)}),u.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-slate-400",children:m.accuracy!==void 0?`${m.accuracy.toFixed(0)}%`:"-"}),u.jsx("div",{className:"col-span-2 text-center text-xs font-bold text-slate-400",children:m.enemiesKilled!==void 0?m.enemiesKilled.toLocaleString():"-"}),u.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-amber-400/70",children:m.creditsEarned!==void 0?(m.creditsEarned/1e3).toFixed(1)+"k":"-"}),u.jsx("div",{className:"col-span-2 text-right font-black text-cyan-400 tabular-nums",children:m.score.toLocaleString()})]},h))})]})})}),u.jsx("button",{onClick:s,className:"w-full py-4 bg-slate-800 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-slate-700 shrink-0",children:"Close"})]})})};class Is{constructor(s=""){this.counter=0,this.prefix=s}next(){return this.prefix?`${this.prefix}-${this.counter++}`:`${this.counter++}`}reset(){this.counter=0}}const No=new Is("p"),fh=new Is("b"),wo=new Is("e"),Lo=new Is("PU"),Mg=new Is("g");class Ag{applyBuff(s,o,r){const f=kn[o];return!f||f.type!=="DURATION"||!f.duration?s:{...s,activeBuffs:{...s.activeBuffs,[o]:r+f.duration}}}isBuffActive(s,o,r){const f=s.activeBuffs[o];return f!==void 0&&f>r}getActiveBuffs(s,o){const r=[];for(const[f,d]of Object.entries(s.activeBuffs))d>o&&r.push(f);return r}applyPickupEffect(s,o,r){const f=kn[s];if(!f)return o;if(f.type==="DURATION")return this.applyBuff(o,s,r);switch(s){case"HEALTH":return{...o,currentHealth:Math.min(o.maxHealth,o.currentHealth+o.maxHealth*.35)};case"SHIELD":return{...o,currentShield:o.maxShield};default:return o}}getWeightedRandomPowerUp(){const s=Object.values(kn),o=s.reduce((f,d)=>f+d.weight,0);let r=Math.random()*o;for(const f of s){if(r<f.weight)return f.id;r-=f.weight}return"OVERDRIVE"}calculateDrops(s,o){const r=[],f=s.enemyType;if(f===B.ASTEROID)return this.calculateAsteroidDrops(s);const d=s.level||1,m=o.lootMultiplier,h=this.getRewardMultiplier(s),y=1+d*Ro.scorePerLevel,g=Wp[f]||100,b=Math.floor(g*y*h),v=Fp[f]||1,S=Math.ceil(kp*v*(1+d*Ro.xpPerLevel)*h*m);r.push(this.createXpGem(s.pos,S));const E=this.getCreditDropChance(s);if(Math.random()<E){const T=Jp[f]||30,U=Math.floor(T*(1+d*Ro.creditPerLevel)*h*m);r.push(this.createCredit(s.pos,U))}const A=this.getPowerUpDropChance(s);if(Math.random()<A){const T=this.getWeightedRandomPowerUp();r.push(this.createPowerUp(s.pos,T))}return{drops:r,score:b}}getRewardMultiplier(s){return s.isBoss?Us.boss:s.isLegendary?Us.legendary:s.isMiniboss?Us.miniboss:s.isElite?Us.elite:Us.normal}getCreditDropChance(s){return s.isBoss?ba.credit.boss:s.isLegendary?ba.credit.legendary:s.isMiniboss?ba.credit.miniboss:s.isElite?ba.credit.elite:ba.credit.base}getPowerUpDropChance(s){return s.isBoss?ba.powerUp.boss:s.isLegendary?ba.powerUp.legendary:s.isMiniboss?ba.powerUp.miniboss:s.isElite?ba.powerUp.elite:ba.powerUp.base}calculateAsteroidDrops(s){const o=[],r=Bs.creditMin+Math.floor(Math.random()*(Bs.creditMax-Bs.creditMin));return o.push(this.createCredit(s.pos,r,22)),o.push(this.createXpGem({x:s.pos.x+(Math.random()-.5)*30,y:s.pos.y+(Math.random()-.5)*30},Bs.xpValue)),{drops:o,score:Bs.score}}createXpGem(s,o){return{id:Lo.next(),type:Ee.XP_GEM,pos:{...s},vel:{x:0,y:0},radius:14,health:1,maxHealth:1,color:"#06b6d4",value:o,isAlive:!0}}createCredit(s,o,r=15){return{id:Lo.next(),type:Ee.CREDIT,pos:{...s},vel:{x:0,y:0},radius:r,health:1,maxHealth:1,color:"#fbbf24",value:o,isAlive:!0}}createPowerUp(s,o){const r=kn[o];return{id:Lo.next(),type:Ee.POWERUP,pos:{...s},vel:{x:0,y:0},radius:24,health:1,maxHealth:1,color:r.color,powerUpId:o,isAlive:!0}}}const xl=new Ag,dt=({label:n,value:s,subValue:o,icon:r,highlight:f})=>u.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl border ${f?"bg-emerald-900/20 border-emerald-500/50":"bg-slate-900/50 border-slate-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center bg-slate-900 border border-slate-700 ${f?"text-emerald-400":"text-slate-400"}`,children:u.jsx("i",{className:`fa-solid ${r}`})}),u.jsx("span",{className:"text-slate-300 text-xs font-bold uppercase tracking-wide",children:n})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`font-black text-lg ${f?"text-emerald-400":"text-white"}`,children:s}),o&&u.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:o})]})]}),Tg=({stats:n,onClose:s,gameTime:o=performance.now()})=>{const r=xl.isBuffActive(n,"SPEED",o),f=xl.isBuffActive(n,"OVERDRIVE",o),d=n.speed*(r?1.5:1),m=n.fireRate*(f?2.5:1),h=Math.round(n.damage*m*n.bulletCount);return u.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[450] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"max-w-2xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col max-h-[90vh]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-cyan-400 text-3xl font-black italic uppercase tracking-tighter",children:"System Diagnostic"}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Real-time vessel performance telemetry"})]}),u.jsx("button",{onClick:s,className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:u.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-2",children:"Integrity Systems"}),u.jsx(dt,{label:"Hull Integrity",value:`${Math.round(n.currentHealth)} / ${Math.round(n.maxHealth)}`,icon:"fa-heart-pulse"}),u.jsx(dt,{label:"Plasma Shield",value:`${Math.round(n.currentShield)} / ${Math.round(n.maxShield)}`,subValue:`Regen: ${n.shieldRegen.toFixed(1)}/sec`,icon:"fa-shield-halved"}),u.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:"Weapons Systems"}),u.jsx(dt,{label:"Damage Output",value:Math.round(n.damage),subValue:`~${h} DPS (Est.)`,icon:"fa-burst"}),u.jsx(dt,{label:"Fire Cycle",value:`${m.toFixed(2)} /s`,subValue:f?"OVERDRIVE ACTIVE":"Standard Cycle",icon:"fa-bolt",highlight:f}),u.jsx(dt,{label:"Critical Hit",value:`${(n.critChance*100).toFixed(0)}%`,subValue:`Multiplier: x${n.critMultiplier.toFixed(1)}`,icon:"fa-crosshairs"}),u.jsx(dt,{label:"Projectiles",value:n.bulletCount,subValue:n.weaponType===k.LASER?"Beam Emitters":"Per Shot",icon:"fa-clone"}),u.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:"Navigation & Utility"}),u.jsx(dt,{label:"Thruster Output",value:Math.round(d),subValue:r?"NITRO INJECTION":"Standard Cruise",icon:"fa-gauge-high",highlight:r}),u.jsx(dt,{label:"Magnet Field",value:`${Math.round(n.magnetRange)}m`,icon:"fa-magnet"}),u.jsx(dt,{label:"Salvage Efficiency",value:`x${n.creditMultiplier.toFixed(2)}`,icon:"fa-coins"}),n.weaponType!==k.PLASMA&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:["Class Specifics (",n.weaponType,")"]}),n.weaponType===k.MISSILE&&u.jsx(dt,{label:"Blast Radius",value:`${Math.round(n.areaSize)}px`,icon:"fa-bomb"}),n.weaponType===k.ENERGY_ORB&&u.jsxs(u.Fragment,{children:[u.jsx(dt,{label:"Pulse Radius",value:`${Math.round(n.areaSize)}px`,icon:"fa-circle-dot"}),u.jsx(dt,{label:"Flight Time",value:`${(n.duration/1e3).toFixed(1)}s`,icon:"fa-hourglass-half"})]}),n.weaponType===k.FLAMETHROWER&&u.jsxs(u.Fragment,{children:[u.jsx(dt,{label:"Flame Width",value:`${Math.round(n.areaSize)}px`,icon:"fa-ruler-vertical"}),u.jsx(dt,{label:"Flame Range",value:`${(n.duration/1e3).toFixed(1)}s`,icon:"fa-ruler-horizontal"})]}),n.weaponType===k.ARC_CASTER&&u.jsxs(u.Fragment,{children:[u.jsx(dt,{label:"Chain Range",value:`${Math.round(n.chainRange)}px`,icon:"fa-share-nodes"}),u.jsx(dt,{label:"Jump Count",value:n.pierceCount,icon:"fa-bolt"})]}),n.weaponType===k.SWARM_LAUNCHER&&u.jsxs(u.Fragment,{children:[u.jsx(dt,{label:"Burst Count",value:n.swarmCount,icon:"fa-layer-group"}),u.jsx(dt,{label:"Homing Agility",value:n.swarmAgility.toFixed(1),icon:"fa-paper-plane"})]}),n.weaponType===k.LASER&&u.jsx(dt,{label:"Beam Duration",value:`${n.laserDuration.toFixed(2)}s`,icon:"fa-stopwatch"})]})]})})]})})},Rg=({onStart:n,onClose:s})=>{const[o,r]=O.useState(B.SCOUT),[f,d]=O.useState(1),[m,h]=O.useState(5),[y,g]=O.useState("NORMAL"),b=Qp,v=o===B.BOSS_DREADNOUGHT||o===B.BOSS_DESTROYER,S=[{tier:"NORMAL",label:"Normal",color:"slate"},{tier:"ELITE",label:"Elite",color:"fuchsia"},{tier:"LEGENDARY",label:"Legendary",color:"amber"},{tier:"MINIBOSS",label:"Miniboss",color:"red",enemyOnly:!0}],E=v?S.filter(T=>!T.enemyOnly):S,A=()=>{n({enemyType:o,level:f,count:m,tier:y})};return u.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[500] p-6 animate-in fade-in duration-200",children:u.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-emerald-500/30 rounded-3xl p-8 shadow-2xl flex flex-col gap-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-emerald-400 text-3xl font-black italic uppercase tracking-tighter",children:"Combat Sim"}),u.jsx("p",{className:"text-slate-400 text-xs uppercase tracking-widest font-bold",children:"Laboratory Mode"})]}),u.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:u.jsx("i",{className:"fa-solid fa-times"})})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Target Entity"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map(T=>u.jsxs("button",{onClick:()=>r(T.type),className:`flex items-center gap-2 p-3 rounded-xl border text-left transition-all
                  ${o===T.type?"bg-emerald-900/40 border-emerald-500 text-emerald-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[u.jsx("i",{className:`fa-solid ${T.icon} w-5 text-center`}),u.jsx("span",{className:"text-xs font-bold uppercase",children:T.label})]},T.type))})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Tier (Rarity)"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(T=>{const U=y===T.tier,L={slate:"border-slate-500 bg-slate-800/40 text-slate-300",fuchsia:"border-fuchsia-500 bg-fuchsia-900/40 text-fuchsia-400",amber:"border-amber-500 bg-amber-900/40 text-amber-400",red:"border-red-500 bg-red-900/40 text-red-400"};return u.jsx("button",{onClick:()=>g(T.tier),className:`p-2 rounded-xl border text-center transition-all text-[10px] font-bold uppercase
                    ${U?L[T.color]:"bg-slate-950 border-slate-800 text-slate-500 hover:border-slate-600"}`,children:T.label},T.tier)})})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Enemy Rank"}),u.jsxs("span",{className:"text-emerald-400 font-black text-xl",children:["LV ",f]})]}),u.jsx("input",{type:"range",min:"1",max:"100",value:f,onChange:T=>d(parseInt(T.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex justify-between items-end",children:[u.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Spawn Count"}),u.jsxs("span",{className:"text-emerald-400 font-black text-xl",children:["x",m]})]}),u.jsx("input",{type:"range",min:"1",max:"25",value:m,onChange:T=>h(parseInt(T.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),u.jsx("p",{className:"text-slate-600 text-[9px] font-bold",children:"Note: Targets will auto-respawn upon destruction."})]}),u.jsx("button",{onClick:A,className:"w-full py-4 bg-emerald-600 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-emerald-500 mt-2",children:"Initiate Simulation"})]})})},Ng=5,sc=500;let ic=0;function wg(n){ic+=n}function Lg(){ic=0}const dh=({enabled:n})=>{const[s,o]=O.useState(0),[r,f]=O.useState(0),d=O.useRef([]),m=O.useRef(0),h=O.useCallback(()=>{const y=performance.now();if(y-m.current<sc)return;m.current=y,d.current.push(ic),ic=0;const g=Math.ceil(Ng*1e3/sc);for(;d.current.length>g;)d.current.shift();const b=d.current.reduce((E,A)=>E+A,0),v=d.current.length*sc/1e3,S=v>0?b/v:0;o(Math.round(S)),f(E=>Math.max(E,Math.round(S)))},[]);return O.useEffect(()=>{if(!n)return;const y=setInterval(h,sc);return()=>clearInterval(y)},[n,h]),n?u.jsx("div",{className:"fixed top-40 right-2 z-50 pointer-events-none",children:u.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-sm border border-slate-800 rounded-xl px-4 py-2 min-w-[100px]",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-bold",children:"DPS"}),u.jsx("div",{className:"text-2xl font-black text-cyan-400 tabular-nums",children:s.toLocaleString()}),u.jsxs("div",{className:"text-[9px] text-slate-500 mt-1",children:["Peak: ",u.jsx("span",{className:"text-orange-400 font-bold",children:r.toLocaleString()})]})]})}):null},Cg=Object.freeze(Object.defineProperty({__proto__:null,default:dh,recordDamage:wg,resetDamageMeter:Lg},Symbol.toStringTag,{value:"Module"})),Dg=({isOpen:n,selectedDifficulty:s,currentRank:o,onSelect:r,onClose:f})=>{if(!n)return null;const d=Gn[s];return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[250] flex items-center justify-center p-4",onClick:f,children:u.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:m=>m.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-white text-xl font-black uppercase tracking-wider",children:"Select Difficulty"}),u.jsx("button",{onClick:f,className:"text-slate-500 hover:text-white transition-colors",children:u.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),u.jsx("div",{className:"flex flex-col gap-3",children:Object.values(Gn).map(m=>{const h=o>=m.minRank,y=s===m.id;return u.jsx("button",{disabled:!h,onClick:()=>{r(m.id),f()},className:`p-4 rounded-xl border-2 text-left transition-all
                                    ${y?"bg-slate-800 shadow-lg":"bg-slate-900/50 hover:bg-slate-800/50"}
                                    ${h?"":"opacity-40 cursor-not-allowed grayscale"}`,style:{borderColor:y?m.color:"transparent"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-black text-lg uppercase tracking-wide",style:{color:m.color},children:m.name}),u.jsx("div",{className:"text-slate-400 text-sm mt-1",children:m.description})]}),y&&u.jsx("i",{className:"fa-solid fa-check text-xl",style:{color:m.color}}),!h&&u.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[u.jsx("i",{className:"fa-solid fa-lock"}),u.jsxs("span",{children:["Rank ",m.minRank]})]})]})},m.id)})}),u.jsxs("div",{className:"mt-6 p-4 bg-slate-950 rounded-xl border border-slate-800",children:[u.jsx("div",{className:"text-slate-500 text-xs uppercase tracking-wider mb-2",children:"Active Mission Parameters"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"text-2xl font-black",style:{color:d.color},children:d.name}),u.jsxs("div",{className:"text-slate-400 text-sm",children:["Loot ",d.lootMultiplier.toFixed(1)]})]})]})]})})},_g=({bestScore:n,credits:s,currentRank:o,selectedDifficulty:r,onSelectDifficulty:f,onStartMission:d,onOpenGarage:m,onOpenDebug:h,onOpenSettings:y,onOpenGuide:g,onOpenCheats:b,onOpenLeaderboard:v})=>{const[S,E]=O.useState(!1),A=Gn[r];return u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 backdrop-blur-lg z-[200]",children:[u.jsx("h1",{className:"text-cyan-400 text-4xl sm:text-5xl font-black italic uppercase mb-2 drop-shadow-[0_0_40px_rgba(6,182,212,0.9)] text-center px-4",children:"Void Arena"}),n>0&&u.jsxs("div",{className:"mb-6 px-4 py-1 rounded bg-slate-900/50 border border-slate-700 text-amber-400 font-bold uppercase tracking-widest text-sm shadow-[0_0_15px_rgba(251,191,36,0.3)]",children:["Best Score: ",n.toLocaleString()]}),u.jsx("button",{onClick:v,className:"absolute top-6 right-6 w-12 h-12 sm:w-14 sm:h-14 bg-slate-800 rounded-full border border-slate-700 text-amber-400 shadow-xl flex items-center justify-center hover:bg-slate-700 transition-all active:scale-95 z-[210]",children:u.jsx("i",{className:"fa-solid fa-trophy text-xl sm:text-2xl"})}),u.jsxs("button",{onClick:()=>E(!0),className:"mb-6 px-6 py-3 bg-slate-800/80 border rounded-xl flex items-center gap-4 hover:bg-slate-700 transition-all active:scale-95",style:{borderColor:A.color},children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Mission Difficulty"}),u.jsx("div",{className:"font-black text-lg uppercase tracking-wide",style:{color:A.color},children:A.name})]}),u.jsx("i",{className:"fa-solid fa-chevron-down text-slate-500"})]}),u.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs px-4",children:[u.jsx("button",{onClick:d,className:"py-5 sm:py-6 bg-cyan-500 text-slate-950 font-black text-xl sm:text-2xl rounded-2xl active:scale-95 transition-all shadow-lg shadow-cyan-500/20",children:"START MISSION"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:m,className:"py-3 sm:py-4 bg-slate-800 text-white font-black text-lg sm:text-xl rounded-2xl border border-slate-700 active:scale-95 transition-all",children:"GARAGE"}),u.jsxs("button",{onClick:h,className:"py-3 sm:py-4 bg-slate-900 text-emerald-400 font-black text-lg sm:text-xl rounded-2xl border border-emerald-500/30 active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-slate-800",children:[u.jsx("i",{className:"fa-solid fa-flask"})," SIM"]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:y,className:"py-2.5 sm:py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-gear"})," SETTINGS"]}),u.jsxs("button",{onClick:g,className:"py-2.5 sm:py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-book"})," MANUAL"]})]}),u.jsxs("button",{onClick:b,className:"py-2 bg-transparent text-red-900/50 font-bold text-xs uppercase tracking-widest hover:text-red-500 hover:bg-slate-900 rounded-lg transition-all",children:[u.jsx("i",{className:"fa-solid fa-code mr-2"}),"Access Cheats"]})]}),u.jsxs("div",{className:"mt-10 sm:mt-12 text-amber-400 font-black text-lg sm:text-xl flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-coins"}),u.jsxs("span",{children:[s.toLocaleString()," CREDITS"]})]}),u.jsxs("div",{className:"mt-2 text-cyan-400/60 font-bold text-sm uppercase tracking-widest",children:["RANK: LV ",o]}),u.jsx("div",{className:"absolute bottom-8 sm:bottom-10 left-0 w-full text-center text-slate-600 font-bold text-xs tracking-widest opacity-50 z-[210] pointer-events-none",children:"v0.6.0"}),u.jsx(Dg,{isOpen:S,selectedDifficulty:r,currentRank:o,onSelect:f,onClose:()=>E(!1)})]})},jg=({onResume:n,onOpenGarage:s,onOpenStats:o,onOpenManifest:r,onOpenGuide:f,onOpenSettings:d,onOpenCheats:m,onSaveAndExit:h})=>u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 backdrop-blur-2xl z-[250]",children:[u.jsx("h2",{className:"text-white text-5xl font-black italic uppercase mb-12",children:"Paused"}),u.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs px-6",children:[u.jsx("button",{onClick:n,className:"py-6 bg-cyan-500 text-slate-950 font-black text-2xl rounded-2xl active:scale-95 shadow-xl",children:"RESUME"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("button",{onClick:s,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"GARAGE"}),u.jsx("button",{onClick:o,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"STATUS"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("button",{onClick:r,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"MANIFEST"}),u.jsx("button",{onClick:f,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"MANUAL"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:d,className:"py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-gear"})," SETTINGS"]}),u.jsxs("button",{onClick:m,className:"py-3 bg-slate-950 text-red-900 font-bold text-sm rounded-xl border border-red-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[u.jsx("i",{className:"fa-solid fa-code"})," CHEATS"]})]}),u.jsx("button",{onClick:h,className:"py-4 bg-red-900/50 text-white font-black text-xl rounded-2xl border border-red-500/30 active:scale-95 mt-4",children:"SAVE & EXIT"})]})]});function Og(n){const s=Math.floor(n/60),o=Math.floor(n%60);return`${s}:${o.toString().padStart(2,"0")}`}const Ug=({score:n,gameMode:s,pendingHighScore:o,hasSubmittedScore:r,newHighScoreName:f,onNameChange:d,onSubmitScore:m,runMetrics:h,gameTime:y,stats:g,onReturnToBase:b})=>u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-950/90 backdrop-blur-2xl z-[200] p-6 animate-in fade-in duration-500",children:[u.jsx("h2",{className:"text-white text-5xl font-black uppercase mb-6 italic tracking-tighter text-center",children:"Mission Failed"}),u.jsxs("div",{className:"flex gap-8 w-full max-w-4xl justify-center items-start",children:[u.jsxs("div",{className:"flex-1 flex flex-col items-center max-w-md",children:[!r&&o&&s===wt.STANDARD?u.jsxs("div",{className:"w-full bg-slate-900 border border-amber-500 rounded-2xl p-6 mb-6 flex flex-col gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-amber-400 font-black text-xl uppercase tracking-widest mb-1",children:"New High Score!"}),u.jsx("div",{className:"text-white text-4xl font-black tabular-nums",children:o.score.toLocaleString()}),u.jsxs("div",{className:"text-slate-400 text-xs font-bold uppercase mt-1",children:["Rank #",o.rank]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Enter Pilot Name"}),u.jsx("input",{type:"text",value:f,onChange:v=>d(v.target.value),maxLength:12,className:"bg-slate-950 border border-slate-700 rounded-xl p-3 text-white font-bold text-center uppercase focus:border-cyan-500 outline-none"})]}),u.jsx("button",{onClick:m,className:"w-full py-4 bg-amber-500 text-slate-950 font-black uppercase tracking-widest rounded-xl hover:bg-amber-400 active:scale-95 transition-all",children:"Register Score"})]}):u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s===wt.DEBUG&&u.jsx("div",{className:"mb-4 px-4 py-1 bg-emerald-900/50 border border-emerald-500/50 rounded text-emerald-400 font-bold uppercase tracking-widest text-xs",children:"Simulation Mode"}),u.jsx("div",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Total Score"}),u.jsx("div",{className:"text-5xl font-black text-white drop-shadow-[0_0_20px_rgba(255,255,255,0.4)]",children:n.toLocaleString()})]}),u.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 mb-6",children:[u.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center",children:[u.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Accuracy"}),u.jsxs("div",{className:"text-cyan-400 font-black text-lg",children:[(h.shotsFired>0?h.shotsHit/h.shotsFired*100:0).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center",children:[u.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Enemies Killed"}),u.jsx("div",{className:"text-red-500 font-black text-lg",children:h.enemiesKilled.toLocaleString()})]}),u.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center col-span-2",children:[u.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Survival Time"}),u.jsx("div",{className:"text-white font-black text-lg",children:Og(y)})]})]}),s===wt.STANDARD&&u.jsxs("div",{className:"bg-amber-400/10 border border-amber-400/30 px-8 py-3 rounded-xl text-amber-400 font-black text-xl mb-8 flex items-center gap-3 w-full justify-center",children:[u.jsx("i",{className:"fa-solid fa-coins"}),u.jsxs("span",{children:["Salvage: +",Math.floor(g.credits)," C"]})]}),u.jsx("button",{onClick:b,className:"w-full py-5 bg-white text-red-900 font-black text-2xl rounded-full shadow-2xl active:scale-95 transition-all hover:bg-slate-200",children:"RETURN TO BASE"})]}),u.jsxs("div",{className:"w-full max-w-xs bg-slate-900/50 border border-red-900/30 rounded-2xl p-4 flex flex-col gap-2 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-500 border-b border-red-900/30 pb-2",children:[u.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),u.jsx("span",{className:"font-black uppercase text-sm tracking-widest",children:"System Failure Log"})]}),g.combatLog.length===0?u.jsx("div",{className:"text-slate-500 text-xs italic text-center py-4",children:"No damage recorded."}):g.combatLog.slice().reverse().map((v,S)=>u.jsxs("div",{className:`p-2 rounded flex justify-between items-center text-xs ${v.isFatal?"bg-red-500/20 border border-red-500":"bg-slate-950/50 border border-slate-800"}`,children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-bold text-slate-300",children:[v.source," ",v.enemyLevel?`(LV ${v.enemyLevel})`:""]}),v.isFatal&&u.jsx("div",{className:"text-[9px] text-red-400 font-black uppercase tracking-wider",children:"CRITICAL FAILURE"})]}),u.jsxs("div",{className:"font-black text-red-400",children:["-",v.damage," HP"]})]},S))]})]})]});function Z0(){return{movement:{x:0,y:0},aim:{x:0,y:0},fire:!1}}class Bg{constructor(){this.state=Z0()}getMovement(){return this.state.movement}getAim(){return this.state.aim}isFiring(){return this.state.fire}getState(){return this.state}setMovement(s){this.state.movement={...s}}setAim(s){this.state.aim={...s}}setFire(s){this.state.fire=s}reset(){this.state=Z0()}resetMovement(){this.state.movement={x:0,y:0}}resetAim(){this.state.aim={x:0,y:0}}}const Ut=new Bg,Hg={damageMult:1,fireRate:1,bulletSpeed:1,bulletCount:0,pierceCount:1,explosionRadius:1,swarmCount:0,swarmAgility:1,laserDuration:1,chainRange:1,duration:1};function ko(n,s,o){const r=o*s.perLevel;switch(s.operation){case"add":n[s.stat]+=r;break;case"multiply":n[s.stat]*=r;break;case"addPercent":n[s.stat]*=1+r;break}}function zg(n,s){const o={...Hg},r=Yn.filter(f=>{var d;return f.weaponType===n&&((d=f.effects)==null?void 0:d.length)});for(const f of r){const d=s[f.id]||0;if(!(d===0||!f.effects))for(const m of f.effects)ko(o,m,d)}return o}const kg={duration:0,cooldown:0,power:1};function Gg(n,s){const o={...kg},r=Yn.filter(f=>{var d;return f.moduleType===n&&((d=f.effects)==null?void 0:d.length)});for(const f of r){const d=s[f.id]||0;if(!(d===0||!f.effects))for(const m of f.effects)ko(o,m,d)}return o}const Yg={maxHealth:1,maxShield:1,shieldRegen:1,speed:1,baseDamage:1,critChance:0,critDamage:1,magnetRange:1,salvageBonus:1};function Ig(n){const s={...Yg},o=Yn.filter(r=>{var f;return!r.weaponType&&!r.moduleType&&((f=r.effects)==null?void 0:f.length)});for(const r of o){const f=n[r.id]||0;if(!(f===0||!r.effects))for(const d of r.effects)ko(s,d,f)}return s}function qg(n,s){const o=n[s.stat]??0;let r;switch(s.operation){case"addFlat":r=o+s.value;break;case"addPercent":r=o*(1+s.value);break;case"setMultiply":r=o*s.value;break;default:r=o}return s.cap!==void 0&&(r=Math.min(r,s.cap)),{...n,[s.stat]:r}}function Q0(n,s){if(!s.effects||s.effects.length===0)return n;let o={...n};for(const r of s.effects)o=qg(o,r);return o}const Pg=(n,s,o)=>{const[r,f]=O.useState(nc),d=O.useRef({x:Ue/2,y:Ue/2}),m=O.useRef({x:Ue/2,y:Ue/2}),h=O.useRef(nc),y=O.useRef(0);O.useEffect(()=>{h.current=r},[r]);const g=O.useCallback(L=>{const I=Sl.find(le=>le.type===L.equippedShip)||Sl[0],G=L.equippedWeapon||k.PLASMA,F=L.equippedModules||[],W=zs[G],V=Ig(L.metaLevels),q=zg(G,L.metaLevels);let J=(I.baseStats.bulletCount||1)+q.bulletCount,Q=W.bulletSpeed*q.bulletSpeed,ee=q.damageMult,ae=q.pierceCount,de=W.fireRate*q.fireRate,ve=W.areaSize*q.explosionRadius,Ie=(W.duration||2e3)*q.duration,Je=.3*q.laserDuration;const C=250*q.chainRange;let K=3+q.swarmCount,ce=1.5*q.swarmAgility;G===k.LASER||G===k.RAILGUN?ae=999:G===k.FLAK_CANNON&&(J=8+q.bulletCount);const Te=le=>{const oe=Gg(le,L.metaLevels);let pe=0,qe=0,Le=0;return le===we.AFTERBURNER?(pe=1e4+oe.duration,qe=Math.max(5e3,6e4+oe.cooldown),Le=2*oe.power):le===we.SHIELD_BURST?(pe=500+oe.duration,qe=Math.max(15e3,2e4+oe.cooldown),Le=0):le===we.PHASE_SHIFT?(pe=2e3,qe=25e3,Le=0):le===we.TIME_WARP&&(pe=4e3+oe.duration,qe=Math.max(15e3,4e4+oe.cooldown),Le=.5+oe.power),{type:le,cooldownMax:qe,duration:pe,power:Le,readyTime:0,activeUntil:0}},be=F.filter(le=>le!==we.NONE).map(Te),R=(I.baseStats.maxHealth||100)*V.maxHealth,H=(I.baseStats.maxShield||20)*V.maxShield,Z=(I.baseStats.shieldRegen||3)*V.shieldRegen;return{...nc,...I.baseStats,shipType:L.equippedShip,weaponType:G,maxHealth:R,currentHealth:R,maxShield:H,currentShield:H,shieldRegen:Z,speed:(I.baseStats.speed||240)*V.speed,damage:W.damage*V.baseDamage*ee,fireRate:de,magnetRange:nc.magnetRange*V.magnetRange,bulletCount:J,bulletSpeed:Q,pierceCount:ae,chainRange:C,areaSize:ve,duration:Ie,laserDuration:Je,swarmCount:K,swarmAgility:ce,moduleSlots:be,critChance:(I.baseStats.critChance||.05)+V.critChance,critMultiplier:1.5*V.critDamage,creditMultiplier:V.salvageBonus,level:L.currentLevel||1,xp:L.currentXp||0,xpToNextLevel:L.xpToNextLevel||250,credits:0,invulnerableUntil:0,activeBuffs:{},acquiredUpgrades:[],combatLog:[]}},[]),b=O.useCallback(()=>{let L=g(s);const I=s.acquiredUpgradeIds||[],G=[];I.forEach(F=>{const W=Ho.find(V=>V.id===F);W&&W.type===ot.STAT&&W.effects&&(L=Q0(L,W),G.push(W))}),L.acquiredUpgrades=G,d.current={x:Ue/2,y:Ue/2},m.current={x:Ue/2,y:Ue/2},L.currentHealth=L.maxHealth,L.currentShield=L.maxShield,f(L),y.current=0},[s,g]),v=O.useCallback(L=>{f(I=>{const G=performance.now(),F=I.moduleSlots[L];if(!F||F.type===we.NONE||G<F.readyTime||G<F.activeUntil)return I;const W=[...I.moduleSlots];W[L]={...F,activeUntil:G+F.duration,readyTime:G+F.cooldownMax};let V={...I,moduleSlots:W};return F.type===we.SHIELD_BURST?(V.currentShield=V.maxShield,V.invulnerableUntil=G+F.duration):F.type===we.PHASE_SHIFT&&(V.invulnerableUntil=G+F.duration),V})},[]),S=O.useCallback((L,I)=>{const G=Ut.getMovement();if(n!==_e.PLAYING||o){n===_e.DYING&&(d.current.x+=G.x*20*L,d.current.y+=G.y*20*L);return}const F=h.current;let W=F.speed;xl.isBuffActive(F,"SPEED",I)&&(W*=1.5);const V=F.moduleSlots.find(q=>q.type===we.AFTERBURNER);V&&I<V.activeUntil&&(W*=V.power),d.current.x+=G.x*W*L,d.current.y+=G.y*W*L,d.current.x=Math.max(30,Math.min(Ue-30,d.current.x)),d.current.y=Math.max(30,Math.min(Ue-30,d.current.y)),m.current.x+=(d.current.x-m.current.x)*G0,m.current.y+=(d.current.y-m.current.y)*G0},[n,o]),E=O.useCallback((L,I)=>{const G=h.current;if(I-G.lastShieldHitTime>3e3&&G.currentShield<G.maxShield){const F=Math.min(G.maxShield,G.currentShield+G.shieldRegen*L);f(W=>({...W,currentShield:F}))}},[]),A=O.useCallback(L=>{f(I=>{let G={...I};return L.type===ot.STAT&&L.effects&&(G=Q0(G,L),G.acquiredUpgrades=[...I.acquiredUpgrades,L]),{...G,pendingLevelUps:Math.max(0,I.pendingLevelUps-1)}})},[]),T=O.useCallback((L,I,G)=>{const F=h.current;L<F.invulnerableUntil||(y.current=L,typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50),f(W=>{let V=I,q=W.currentShield,J=W.currentHealth;if(q>0){const ve=Math.min(q,V);q-=ve,V-=ve}V>0&&(J=Math.max(0,J-V));let Q="Unknown Hazard",ee;if(typeof G=="string")Q=G;else{const ve="enemyType"in G?G.enemyType:void 0;ve?ve===B.SCOUT?Q="Void Scout":ve===B.STRIKER?Q="Crimson Striker":ve===B.LASER_SCOUT?Q="Sniper Drone":ve===B.KAMIKAZE?Q="Kamikaze Drone":ve===B.BOSS_DREADNOUGHT?Q="Dreadnought":ve===B.BOSS_DESTROYER?Q="Imperial Destroyer":Q="Enemy Fire":G.type===Ee.ENEMY_BULLET?Q="Enemy Fire":G.id==="environment"&&(Q="Environment"),G.isLegendary?Q=`Legendary ${Q}`:G.isElite&&(Q=`Elite ${Q}`),G.isMiniboss&&(Q=`Giant ${Q}`),G.level&&(ee=G.level)}const ae={timestamp:Date.now(),damage:I,source:Q,isFatal:J<=0,enemyLevel:ee},de=[...W.combatLog,ae].slice(-6);return{...W,currentShield:q,currentHealth:J,lastShieldHitTime:L,invulnerableUntil:L+300,combatLog:de}}))},[]),U=O.useCallback(L=>{const I=g(L);f(G=>{const F=G.maxHealth>0?G.currentHealth/G.maxHealth:1,W=G.maxShield>0?G.currentShield/G.maxShield:1;let V={...I};return G.acquiredUpgrades&&G.acquiredUpgrades.length>0&&(G.acquiredUpgrades.forEach(q=>{q.effect&&(V=q.effect(V))}),V.acquiredUpgrades=G.acquiredUpgrades),V.level=G.level,V.xp=G.xp,V.xpToNextLevel=G.xpToNextLevel,V.pendingLevelUps=G.pendingLevelUps,V.credits=G.credits,V.activeBuffs=G.activeBuffs,V.combatLog=G.combatLog,V.moduleReadyTime=G.moduleReadyTime,V.moduleActiveUntil=G.moduleActiveUntil,V.currentHealth=Math.min(V.maxHealth,V.maxHealth*F),V.currentShield=Math.min(V.maxShield,V.maxShield*W),V})},[g]);return{stats:r,setStats:f,statsRef:h,playerPosRef:d,cameraPosRef:m,lastPlayerHitTimeRef:y,initPlayer:b,updatePlayer:S,handleShieldRegen:E,addUpgrade:A,triggerPlayerHit:T,syncWithPersistentData:U,activateModule:v}};class El{constructor(s,o,r,f,d,m,h,y,g,b){this.lastHitTime=0,this.lastShieldHitTime=0,this.lastShotTime=0,this.slowUntil=0,this.slowFactor=0,this.isShielded=!1,this.isCharging=!1,this.isFiring=!1,this.chargeProgress=0,this.angle=0,this.id=s,this.pos={...o},this.vel={x:0,y:0},this.tier=f,this.radius=m,this.health=d,this.maxHealth=d,this.shield=h,this.maxShield=h,this.color=y,this.level=g,this.isElite=f===ie.ELITE,this.isLegendary=f===ie.LEGENDARY,this.isMiniboss=f===ie.MINIBOSS,this.isBoss=r.isBoss??!1,this.aiPhase=Math.random()*Math.PI*2,this.aiSeed=Math.random(),this.damageMult=b}get isAlive(){return this.health>0}takeDamage(s,o){let d=this.isShielded?s*.5:s,m=0,h=0;this.shield>0&&(m=Math.min(this.shield,d),this.shield-=m,d-=m,this.lastShieldHitTime=o),d>0&&(h=Math.min(this.health,d),this.health-=h,d-=h,this.lastHitTime=o);const y=this.health<=0;return{actualDamage:m+h,shieldDamage:m,healthDamage:h,isKilled:y,overkill:d}}applySlowEffect(s,o){this.slowFactor=s,this.slowUntil=o}getSpeedMultiplier(s){return this.slowUntil&&this.slowUntil>s?1-this.slowFactor:1}calculateEffectiveSpeed(s,o,r,f=.2){const d=this.getSpeedMultiplier(o),m=1+r/600*f;return s*m*d}calculateSeparation(s){let o=0,r=0;for(const f of s){if(f.id===this.id||Math.abs(f.pos.x-this.pos.x)>this.radius+f.radius+50)continue;const d=this.pos.x-f.pos.x,m=this.pos.y-f.pos.y,h=Math.hypot(d,m);h<this.radius+f.radius+10&&(o+=d/h*150,r+=m/h*150)}return{x:o,y:r}}emptyResult(){return{bulletsToSpawn:[],enemiesToSpawn:[]}}createProjectile(s,o,r,f,d,m=0,h=0){return{pos:{x:this.pos.x+m,y:this.pos.y+h},vel:{x:Math.cos(s)*o,y:Math.sin(s)*o},radius:r,color:f,damage:d*this.damageMult,level:this.level,isElite:this.isElite,isLegendary:this.isLegendary}}}class Xg{constructor(s={}){this.config={baseRadius:s.baseRadius??320,radiusVariance:s.radiusVariance??100,orbitSpeed:s.orbitSpeed??3e-4}}calculateVelocity(s){const{enemy:o,playerPos:r,time:f}=s,d=this.config.baseRadius+o.aiSeed*this.config.radiusVariance,m=o.aiSeed*Math.PI*2+f*this.config.orbitSpeed,h=r.x+Math.cos(m)*d,y=r.y+Math.sin(m)*d,g=h-o.pos.x,b=y-o.pos.y,v=Math.hypot(g,b);return v<1?{x:0,y:0}:{x:g/v,y:b/v}}}class Vg{constructor(s={}){this.config={pulseEnabled:s.pulseEnabled??!0,pulseAmount:s.pulseAmount??.2,pulseSpeed:s.pulseSpeed??.005}}calculateVelocity(s){const{enemy:o,playerPos:r,time:f}=s,d=r.x-o.pos.x,m=r.y-o.pos.y,h=Math.hypot(d,m);if(h<1)return{x:0,y:0};let y=d/h,g=m/h,b=1;return this.config.pulseEnabled&&(b=1+Math.sin(f*this.config.pulseSpeed+o.aiPhase)*this.config.pulseAmount),{x:y*b,y:g*b}}}class Kg{constructor(s={}){this.config={turnRate:s.turnRate??2.5,acceleration:s.acceleration??250,minSpeed:s.minSpeed??100}}calculateVelocity(s){const{enemy:o,playerPos:r,dt:f}=s,d=r.x-o.pos.x,m=r.y-o.pos.y,h=Math.hypot(d,m);if(h<1)return o.vel;const y=d/h,g=m/h,b=Math.hypot(o.vel.x,o.vel.y);let v=y,S=g;if(b>50){const E=o.vel.x/b,A=o.vel.y/b,T=this.config.turnRate*f;v=E+(y-E)*T,S=A+(g-A)*T;const U=Math.hypot(v,S);U>0&&(v/=U,S/=U)}return{x:v,y:S}}calculateSpeedMultiplier(s){const{enemy:o,playerPos:r}=s,f=r.x-o.pos.x,d=r.y-o.pos.y,m=Math.hypot(f,d);if(m<1)return 1;const h=f/m,y=d/m,g=Math.hypot(o.vel.x,o.vel.y);if(g<50)return 1;const b=o.vel.x/g,v=o.vel.y/g;return b*h+v*y>.9?1:.7}}class hh{constructor(s={}){this.config={optimalRange:s.optimalRange??600,retreatSpeed:s.retreatSpeed??1.2,strafeAmount:s.strafeAmount??.8}}calculateVelocity(s){const{enemy:o,playerPos:r}=s,f=r.x-o.pos.x,d=r.y-o.pos.y,m=Math.hypot(f,d);if(m<1)return{x:0,y:0};const h=o.aiSeed>.5?1:-1;let y=0,g=0;m>this.config.optimalRange?(y=f/m,g=d/m):(y=-f/m*this.config.retreatSpeed,g=-d/m*this.config.retreatSpeed),y+=-d/m*this.config.strafeAmount*h,g+=f/m*this.config.strafeAmount*h;const b=Math.hypot(y,g);return b>0&&(y/=b,g/=b),{x:y,y:g}}}class Zg{constructor(s={}){this.config={preferredDistance:s.preferredDistance??80,searchRadius:s.searchRadius??300,playerAvoidance:s.playerAvoidance??250}}calculateVelocity(s){const{enemy:o,playerPos:r,enemies:f}=s;let d=null;if(f)for(const g of f){if(g.id===o.id||g.enemyType==="SHIELDER"||!g.isAlive)continue;const b=g.pos.x-o.pos.x,v=g.pos.y-o.pos.y,S=Math.hypot(b,v);S<this.config.searchRadius&&(!d||S<d.dist)&&(d={pos:g.pos,dist:S})}let m,h;if(d){const g=d.pos.x-o.pos.x,b=d.pos.y-o.pos.y;if(d.dist>this.config.preferredDistance)m=g,h=b;else{const v=Math.atan2(b,g)+.3;m=Math.cos(v)*20,h=Math.sin(v)*20}}else{const g=r.x-o.pos.x,b=r.y-o.pos.y;Math.hypot(g,b)>this.config.playerAvoidance?(m=g,h=b):(m=-g*.3,h=-b*.3)}const y=Math.hypot(m,h);return y<1?{x:0,y:0}:{x:m/y,y:h/y}}}class Qg{constructor(s={}){this.config={cooldown:s.cooldown??1500,cooldownVariance:s.cooldownVariance??500,range:s.range??600,projectileSpeed:s.projectileSpeed??320,projectileRadius:s.projectileRadius??7,projectileColor:s.projectileColor??"#f97316",baseDamage:s.baseDamage??10,aimSpread:s.aimSpread??.25}}shouldAttack(s){const{enemy:o,playerPos:r,time:f}=s,d=r.x-o.pos.x,m=r.y-o.pos.y;if(Math.hypot(d,m)>this.config.range)return!1;const y=this.config.cooldown+o.aiSeed*this.config.cooldownVariance;return f-o.lastShotTime>y}execute(s){const{enemy:o,playerPos:r,time:f}=s;o.lastShotTime=f;const d=r.x-o.pos.x,m=r.y-o.pos.y,h=Math.atan2(m,d)+(Math.random()-.5)*this.config.aimSpread;let y=this.config.projectileRadius,g=this.config.projectileColor,b=this.config.projectileSpeed;return o.isMiniboss?(y=14,g="#ef4444",b=400):o.isLegendary?(y=12,g="#fbbf24",b=380):o.isElite&&(y=9,g="#d946ef",b=350),[{pos:{x:o.pos.x,y:o.pos.y},vel:{x:Math.cos(h)*b,y:Math.sin(h)*b},radius:y,color:g,damage:this.config.baseDamage*o.damageMult,level:o.level,isElite:o.isElite,isLegendary:o.isLegendary}]}}class Fg{constructor(s={}){this.config={cooldown:s.cooldown??3e3,chargeTime:s.chargeTime??2,fireTime:s.fireTime??1.25,range:s.range??850,trackingFactor:s.trackingFactor??.1}}shouldAttack(s){const{enemy:o,playerPos:r,time:f}=s;if(o.isCharging||o.isFiring)return!1;const d=r.x-o.pos.x,m=r.y-o.pos.y;return Math.hypot(d,m)>this.config.range?!1:f-o.lastShotTime>this.config.cooldown}startCharge(s){const{enemy:o,playerPos:r}=s,f=r.x-o.pos.x,d=r.y-o.pos.y;o.isCharging=!0,o.chargeProgress=0,o.angle=Math.atan2(d,f)}updateState(s){const{enemy:o,playerPos:r,dt:f,time:d}=s;if(o.isCharging){if(o.chargeProgress<.5){const m=r.x-o.pos.x,h=r.y-o.pos.y;let g=Math.atan2(h,m)-o.angle;for(;g>Math.PI;)g-=Math.PI*2;for(;g<-Math.PI;)g+=Math.PI*2;o.angle+=g*this.config.trackingFactor}o.chargeProgress+=f/this.config.chargeTime,o.chargeProgress>=1&&(o.isCharging=!1,o.isFiring=!0,o.chargeProgress=0,o.lastShotTime=d)}o.isFiring&&(o.chargeProgress+=f/this.config.fireTime,o.chargeProgress>=1&&(o.isFiring=!1,o.chargeProgress=0))}execute(s){return[]}}const mh=150;class Jg extends El{constructor(s,o,r,f,d,m,h,y,g,b){const v=Bt(B.SHIELDER);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.SHIELDER,this.auraPulse=0,this.definition=v,this.baseSpeed=g,this.movement=new Zg({preferredDistance:80,searchRadius:300,playerAvoidance:250})}getAuraPulse(){return this.auraPulse}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m,enemies:h}=s;this.auraPulse=.7+Math.sin(f*.003)*.3;const y={enemy:this,playerPos:d,enemies:h,dt:r,time:f,gameTime:m},g=this.calculateEffectiveSpeed(this.baseSpeed,f,m,.3),b=this.movement.calculateVelocity(y);return this.vel.x=b.x*g,this.vel.y=b.y*g,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}isInAura(s){const o=s.x-this.pos.x,r=s.y-this.pos.y;return Math.hypot(o,r)<=mh}}class Wg{constructor(s=Gs,o){this.lastBossWave=0,this.lastBossSpawnTime=-999,this.lastKamikazeTime=0,this.config=s,this.difficulty=o}reset(){this.lastBossWave=0,this.lastBossSpawnTime=-999,this.lastKamikazeTime=0}getWaveState(s){const{waveDuration:o,lullDuration:r,rushHourDuration:f}=this.config,d=o+r,m=Math.floor(s/d),h=s%d,y=h>o,g=!y&&h>o-f,b=this.calculateSpawnDelay(s,g);return{currentWave:m,timeInCycle:h,isLull:y,isRushHour:g,spawnDelay:b}}getDifficultyMultiplier(s){const o=s/60,r=.35+(this.difficulty.statMultiplier-1)*.03,f=o*r,d=3+(this.difficulty.statMultiplier-1)*.5,m=Math.log10(1+o*.2)*d;return(1+f+m)*this.difficulty.statMultiplier}getCreditMultiplier(s){const o=s/60;return 1+o*.1+Math.log10(1+o*.15)}getSpawnDecision(s,o,r=0,f=0){const d=this.getWaveState(s),m=this.checkBossSpawn(s);if(m)return m;if(d.isLull)return this.getLullSpawnDecision(s,o);if(o<d.spawnDelay)return{shouldSpawn:!1,type:"none"};const h=this.checkKamikazeWave(s);return h||this.getNormalEnemyDecision(s,r,f)}markBossSpawned(s,o){this.lastBossWave=s,this.lastBossSpawnTime=o}markKamikazeSpawned(s){this.lastKamikazeTime=s}calculateSpawnDelay(s,o){const{base:r,min:f,decayPerSecond:d,rushMultiplier:m}=this.config.spawnRates,h=s-this.lastBossSpawnTime,y=h>=0&&h<this.config.bossCalmDuration;let g=Math.max(f,r-s/d);return o&&!y&&(g/=m),g/=1+(this.difficulty.statMultiplier-1)*.2,y&&(g*=this.config.bossCalmDelayMultiplier),g}checkBossSpawn(s){const{bossInterval:o,destroyerChance:r}=this.config,f=Math.floor(s/o);return f>this.lastBossWave?{shouldSpawn:!0,type:"boss",bossType:Math.random()<r?B.BOSS_DESTROYER:B.BOSS_DREADNOUGHT,waveIndex:f}:null}checkKamikazeWave(s){const{kamikazeThreshold:o,kamikazeUnlockTime:r,kamikazeCooldown:f,kamikazeMinCount:d,kamikazeMaxCount:m,eliteWaveChance:h}=this.config.enemyTypeRolls,y=Math.random();if(s>r&&y>o&&s-this.lastKamikazeTime>f){const g=d+Math.floor(Math.random()*(m-d+1)),b=Math.random()<h;return{shouldSpawn:!0,type:"kamikaze_wave",enemyType:B.KAMIKAZE,count:b?1:g,isEliteWave:b}}return null}getNormalEnemyDecision(s,o=0,r=0){const{laserScoutThreshold:f,laserScoutUnlockTime:d,strikerThreshold:m,shielderThreshold:h,shielderUnlockTime:y,carrierThreshold:g,carrierUnlockTime:b}=this.config.enemyTypeRolls,v=Math.random();let S=B.SCOUT;const A=o<2&&s>y,U=r<3&&s>b;return v>f&&s>d?S=B.LASER_SCOUT:v>h&&A?S=B.SHIELDER:v>g&&U?S=B.CARRIER:v>m&&(S=B.STRIKER),{shouldSpawn:!0,type:"enemy",enemyType:S}}getLullSpawnDecision(s,o){const{lullSpawnDelay:r,lullSpawnChance:f}=this.config;return o>r&&Math.random()<f?{shouldSpawn:!0,type:"lull_enemy",enemyType:B.SCOUT}:{shouldSpawn:!1,type:"none"}}}class $g extends El{constructor(s,o,r,f,d,m,h,y,g,b){var S;const v=Bt(B.SCOUT);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.SCOUT,this.definition=v,this.baseSpeed=g,this.movement=new Xg({baseRadius:320,radiusVariance:100,orbitSpeed:3e-4}),this.attack=new Qg({cooldown:v.attackCooldown,cooldownVariance:500,range:600,projectileSpeed:v.projectileSpeed??320,projectileRadius:v.projectileRadius??7,projectileColor:v.projectileColor??"#f97316",baseDamage:((S=v.attacks)==null?void 0:S.projectile)??10,aimSpread:.25})}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s,h={enemy:this,playerPos:d,dt:r,time:f,gameTime:m},y=this.calculateEffectiveSpeed(this.baseSpeed,f,m),g=this.movement.calculateVelocity(h);return this.vel.x=g.x*y,this.vel.y=g.y*y,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.attack.shouldAttack(h)&&o.bulletsToSpawn.push(...this.attack.execute(h)),o}}class ey extends El{constructor(s,o,r,f,d,m,h,y,g,b){const v=Bt(B.STRIKER);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.STRIKER,this.isDashing=!1,this.dashUntil=0,this.definition=v,this.baseSpeed=g,this.movement=new Vg({pulseEnabled:!0,pulseAmount:.2,pulseSpeed:.005})}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s,h={enemy:this,playerPos:d,dt:r,time:f,gameTime:m},y=this.calculateEffectiveSpeed(this.baseSpeed,f,m),g=d.x-this.pos.x,b=d.y-this.pos.y,v=Math.hypot(g,b);if(v<250&&!this.isDashing&&f-this.lastShotTime>5e3&&(this.isDashing=!0,this.dashUntil=f+800,this.lastShotTime=f,this.vel.x=g/v*y*4,this.vel.y=b/v*y*4),this.isDashing)f>this.dashUntil&&(this.isDashing=!1);else{const S=this.movement.calculateVelocity(h);this.vel.x=S.x*y,this.vel.y=S.y*y}return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class ty extends El{constructor(s,o,r,f,d,m,h,y,g,b){const v=Bt(B.LASER_SCOUT);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.LASER_SCOUT,this.definition=v,this.baseSpeed=g,this.movement=new hh({optimalRange:600,retreatSpeed:1.2,strafeAmount:.8}),this.attack=new Fg({cooldown:v.attackCooldown,chargeTime:2,fireTime:1.25,range:850,trackingFactor:.1})}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s,h={enemy:this,playerPos:d,dt:r,time:f,gameTime:m},y=this.calculateEffectiveSpeed(this.baseSpeed,f,m);if(this.isFiring||this.isCharging)this.vel.x=0,this.vel.y=0;else{const g=this.movement.calculateVelocity(h);this.vel.x=g.x*y,this.vel.y=g.y*y}return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.attack.shouldAttack(h)&&this.attack.startCharge(h),this.attack.updateState(h),o}}class ay extends El{constructor(s,o,r,f,d,m,h,y,g,b){const v=Bt(B.KAMIKAZE);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.KAMIKAZE,this.definition=v,this.baseSpeed=g,this.hasDeathDefiance=r!==ie.NORMAL,this.movement=new Kg({turnRate:2.5,acceleration:250,minSpeed:100})}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s,h={enemy:this,playerPos:d,dt:r,time:f,gameTime:m},y=this.calculateEffectiveSpeed(this.baseSpeed,f,m),g=this.movement.calculateVelocity(h),b=Math.hypot(this.vel.x,this.vel.y);let v=y;if(b>50)if(this.movement.calculateSpeedMultiplier(h)>.9){const E=250*r;v=Math.min(y,b+E)}else v=Math.max(100,b*.97);return this.vel.x=g.x*v,this.vel.y=g.y*v,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class ly extends El{constructor(s,o,r,f,d,m,h,y,g,b){const v=Bt(B.CARRIER);super(s,o,v,r,f,d,m,h,y,b),this.enemyType=B.CARRIER,this.lastSpawnTime=0,this.definition=v,this.baseSpeed=g,this.spawnCooldown=v.attackCooldown,this.spawning=v.spawning,this.spawnWavesRemaining=this.spawning.maxWaves,this.movement=new hh({optimalRange:500,retreatSpeed:1,strafeAmount:.4})}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s,h={enemy:this,playerPos:d,dt:r,time:f,gameTime:m},y=this.calculateEffectiveSpeed(this.baseSpeed,f,m,.15),g=this.movement.calculateVelocity(h);this.vel.x=g.x*y,this.vel.y=g.y*y,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;const{count:b,spread:v,spawnType:S}=this.spawning;if(this.spawnWavesRemaining>0&&f-this.lastSpawnTime>this.spawnCooldown){this.lastSpawnTime=f,this.spawnWavesRemaining--;const E=Math.atan2(d.y-this.pos.y,d.x-this.pos.x);for(let A=0;A<b;A++){const T=E-v/2+v*A/(b-1||1),U=this.radius+30,L={type:S,pos:{x:this.pos.x+Math.cos(T)*U,y:this.pos.y+Math.sin(T)*U},parentStats:{tier:this.tier===ie.MINIBOSS?ie.ELITE:this.tier,level:this.level,difficultyMult:1}};o.enemiesToSpawn.push(L)}}return o}}class ny extends El{constructor(s,o,r,f,d,m,h){const y=Bt(B.ASTEROID);super(s,o,y,ie.NORMAL,f,r,0,d,1,1),this.enemyType=B.ASTEROID,this.definition=y,this.vel={...m},this.seed=h}update(s){const o=this.emptyResult(),{dt:r}=s;return(this.pos.x<this.radius||this.pos.x>Ue-this.radius)&&(this.vel.x*=-1),(this.pos.y<this.radius||this.pos.y>Ue-this.radius)&&(this.vel.y*=-1),this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class ph extends El{constructor(s,o,r,f,d,m,h,y,g,b=ie.NORMAL){super(s,o,r,b,f,d,m,h,y,g),this.currentPhaseIndex=0,this.lastMissileTime=0,this.lastSpawnTime=0,this.isBoss=!0,this.phases=r.phases??[]}updatePhase(){const s=this.health/this.maxHealth*100;for(let o=this.phases.length-1;o>=0;o--)if(s<=this.phases[o].healthPercent){this.currentPhaseIndex!==o&&(this.currentPhaseIndex=o,this.onPhaseChange(o));break}}onPhaseChange(s){}hasAbility(s){return this.currentPhaseIndex>=this.phases.length?!1:this.phases[this.currentPhaseIndex].abilities.includes(s)}}class sy{constructor(s={}){this.name="ChargedBeam",this.config={cooldown:s.cooldown??3e3,chargeSpeed:s.chargeSpeed??.4,fireSpeed:s.fireSpeed??.25}}shouldExecute(s,o){const{time:r}=s;return o.isCharging||o.isFiring?!0:r-o.lastShotTime>this.config.cooldown}execute(s,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{dt:f,time:d}=s;return!o.isCharging&&!o.isFiring&&(o.isCharging=!0,o.chargeProgress=0),o.isCharging&&(o.chargeProgress+=f*this.config.chargeSpeed,o.chargeProgress>=1&&(o.isCharging=!1,o.isFiring=!0,o.chargeProgress=0,o.lastShotTime=d)),o.isFiring&&(o.chargeProgress+=f*this.config.fireSpeed,o.chargeProgress>=1&&(o.isFiring=!1,o.chargeProgress=0)),r}}class iy{constructor(s={}){this.name="TwinPlasma",this.config={cooldown:s.cooldown??1200,projectileSpeed:s.projectileSpeed??480,projectileRadius:s.projectileRadius??12,baseDamage:s.baseDamage??15,cannonOffset:s.cannonOffset??25}}shouldExecute(s,o){const{time:r}=s;return r-o.lastShotTime>this.config.cooldown}execute(s,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:f}=s;o.lastShotTime=f;const d=o.angle,m=this.config.cannonOffset,h=o.tier===ie.NORMAL?"#f43f5e":o.color,y=this.config.baseDamage*o.damageMult;return r.bulletsToSpawn.push({pos:{x:o.pos.x+Math.cos(d+Math.PI/2)*m,y:o.pos.y+Math.sin(d+Math.PI/2)*m},vel:{x:Math.cos(d)*this.config.projectileSpeed,y:Math.sin(d)*this.config.projectileSpeed},radius:this.config.projectileRadius,color:h,damage:y,isElite:!0,level:o.level}),r.bulletsToSpawn.push({pos:{x:o.pos.x+Math.cos(d-Math.PI/2)*m,y:o.pos.y+Math.sin(d-Math.PI/2)*m},vel:{x:Math.cos(d)*this.config.projectileSpeed,y:Math.sin(d)*this.config.projectileSpeed},radius:this.config.projectileRadius,color:h,damage:y,isElite:!0,level:o.level}),r}}class cy{constructor(s={}){this.name="MissileSalvo",this.config={cooldown:s.cooldown??4e3,minMissiles:s.minMissiles??4,maxMissiles:s.maxMissiles??6,baseDamage:s.baseDamage??25,missileSpeed:s.missileSpeed??200,turnRate:s.turnRate??.6,duration:s.duration??4}}shouldExecute(s,o){const{time:r}=s;return r-o.lastMissileTime>this.config.cooldown}execute(s,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:f}=s;o.lastMissileTime=f;const d=this.config.minMissiles+Math.floor(Math.random()*(this.config.maxMissiles-this.config.minMissiles+1)),m=this.config.baseDamage*o.damageMult;for(let h=0;h<d;h++){const y=(Math.random()-.5)*1.5,g=o.angle+y;r.bulletsToSpawn.push({pos:{x:o.pos.x,y:o.pos.y},vel:{x:Math.cos(g)*this.config.missileSpeed,y:Math.sin(g)*this.config.missileSpeed},radius:10,color:"#f97316",damage:m,isHoming:!0,turnRate:this.config.turnRate,maxDuration:this.config.duration,isElite:!0,level:o.level})}return r}}class ry{constructor(s={}){this.name="DroneSpawn",this.config={cooldown:s.cooldown??8e3,minDrones:s.minDrones??2,maxDrones:s.maxDrones??4,ejectSpeed:s.ejectSpeed??300,droneType:s.droneType??B.KAMIKAZE}}shouldExecute(s,o){const{time:r}=s;return r-o.lastSpawnTime>this.config.cooldown}execute(s,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:f}=s;o.lastSpawnTime=f;const d=this.config.minDrones+Math.floor(Math.random()*(this.config.maxDrones-this.config.minDrones+1));for(let m=0;m<d;m++){const h=o.angle+Math.PI+(Math.random()-.5);r.enemiesToSpawn.push({type:this.config.droneType,pos:{x:o.pos.x+(Math.random()-.5)*50,y:o.pos.y+(Math.random()-.5)*50},vel:{x:Math.cos(h)*this.config.ejectSpeed,y:Math.sin(h)*this.config.ejectSpeed},parentStats:{tier:o.tier,level:o.level,difficultyMult:Math.max(.5,o.level*.2)}})}return r}}class F0 extends ph{constructor(s,o,r,f,d,m,h,y,g,b=ie.NORMAL){const v=Bt(B.BOSS_DREADNOUGHT);super(s,o,v,r,f,d,m,h,g,b),this.enemyType=B.BOSS_DREADNOUGHT,this.definition=v,this.baseSpeed=v.baseSpeed,this.attackPhases=[new sy({cooldown:v.attackCooldown,chargeSpeed:.4,fireSpeed:.25})],this.lastShotTime=y+2e3}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s;this.updatePhase();const h=this.getSpeedMultiplier(f),y=this.baseSpeed*h,g=d.x-this.pos.x,b=d.y-this.pos.y,v=Math.hypot(g,b);v>400&&!this.isFiring?(this.vel.x=g/v*y,this.vel.y=b/v*y):(this.vel.x*=.95,this.vel.y*=.95),this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;let E=Math.atan2(b,g)-this.angle;for(;E>Math.PI;)E-=Math.PI*2;for(;E<-Math.PI;)E+=Math.PI*2;const T=.3*r;Math.abs(E)>T?this.angle+=Math.sign(E)*T:this.angle+=E;const U={enemy:this,playerPos:d,dt:r,time:f,gameTime:m};for(const L of this.attackPhases)if(L.shouldExecute(U,this)){const I=L.execute(U,this);o.bulletsToSpawn.push(...I.bulletsToSpawn),o.enemiesToSpawn.push(...I.enemiesToSpawn)}return o}}class J0 extends ph{constructor(s,o,r,f,d,m,h,y,g,b=ie.NORMAL){var S,E;const v=Bt(B.BOSS_DESTROYER);super(s,o,v,r,f,d,m,h,g,b),this.enemyType=B.BOSS_DESTROYER,this.desiredDist=600,this.definition=v,this.baseSpeed=v.baseSpeed,this.attackPhases=[new iy({cooldown:1200,projectileRadius:v.projectileRadius??12,projectileSpeed:v.projectileSpeed??480,baseDamage:((S=v.attacks)==null?void 0:S.projectile)??15}),new cy({cooldown:4e3,baseDamage:((E=v.attacks)==null?void 0:E.missile)??25,turnRate:1.2}),new ry({cooldown:8e3,droneType:B.KAMIKAZE})],this.lastShotTime=y+2e3,this.lastMissileTime=y+5e3,this.lastSpawnTime=y+8e3}update(s){const o=this.emptyResult(),{dt:r,time:f,playerPos:d,gameTime:m}=s;this.updatePhase();const h=this.getSpeedMultiplier(f),y=this.baseSpeed*h,g=d.x-this.pos.x,b=d.y-this.pos.y,v=Math.hypot(g,b);let S=0,E=0;v>this.desiredDist+100?(S=g/v*y,E=b/v*y):v<this.desiredDist-100?(S=-(g/v)*y*.5,E=-(b/v)*y*.5):(S=-(b/v)*y*.5,E=g/v*y*.5),this.vel.x=S,this.vel.y=E,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;let T=Math.atan2(b,g)-this.angle;for(;T>Math.PI;)T-=Math.PI*2;for(;T<-Math.PI;)T+=Math.PI*2;this.angle+=T*1.5*r;const U={enemy:this,playerPos:d,dt:r,time:f,gameTime:m};for(const L of this.attackPhases)if(L.shouldExecute(U,this)){const I=L.execute(U,this);o.bulletsToSpawn.push(...I.bulletsToSpawn),o.enemiesToSpawn.push(...I.enemiesToSpawn)}return o}}class oy{generateId(s){return`${s}-${wo.next()}`}determineTier(s,o){return s.isMinibossOverride?ie.MINIBOSS:s.isLegendaryOverride?ie.LEGENDARY:s.isEliteOverride?ie.ELITE:s.tier?s.tier:Vp(o)}create(s,o,r=0){const f=Bt(s),d=(o.difficultyMult??1)/.4,m=this.determineTier(o,d),h=Pp(m),y=o.difficultyMult??1,g=o.levelBonus??0,b=f.baseHealth*y*h.healthMult,v=f.baseRadius*h.radiusMult,S=f.baseSpeed*h.speedMult;let E=0;h.hasShield&&h.shieldPercent?E=b*h.shieldPercent:d>5&&Math.random()>.7&&(E=b*.5);const A=Math.random();let T=h.colorOverride??Yp(f,A);const U=Math.floor(y)+g,L={x:o.x,y:o.y},I=this.generateId(s);switch(s){case B.SCOUT:return new $g(I,L,m,b,v,E,T,U,S,h.damageMult);case B.STRIKER:return new ey(I,L,m,b,v,E,T,U,S,h.damageMult);case B.LASER_SCOUT:return new ty(I,L,m,b,v,E,T,U,S,h.damageMult);case B.KAMIKAZE:return new ay(I,L,m,b,v,E,T,U,S,h.damageMult);case B.SHIELDER:return new Jg(I,L,m,b,v,E,T,U,S,h.damageMult);case B.CARRIER:return new ly(I,L,m,b,v,E,T,U,S,h.damageMult);case B.BOSS_DREADNOUGHT:return new F0(I,L,b,v,E,T,U,r,h.damageMult);case B.BOSS_DESTROYER:return new J0(I,L,b,v,E,T,U,r,h.damageMult);default:throw new Error(`Unknown enemy type: ${s}`)}}createAsteroid(s,o,r){const f=40+Math.random()*40,d=f*3*r,m=Math.random(),h={x:(Math.random()-.5)*40,y:(Math.random()-.5)*40};return new ny(this.generateId(B.ASTEROID),{x:s,y:o},f,d,"#475569",h,m)}createBoss(s,o,r,f,d,m,h=0,y){const g=Bt(s);let b=Kp(h);y&&(b=ie[y]);const v=Xp(b),S=1+h*.8+Math.pow(h,2)*.5,E=g.baseHealth*f*S*v.healthMult,A=g.baseRadius*v.radiusMult,T=s===B.BOSS_DESTROYER?.6:.4,U=v.shieldPercent??T,L=E*U,I=Math.floor(f)+5+d,G=v.colorOverride??g.color,F=s===B.BOSS_DESTROYER?`BOSS-DEST-${b}-${wo.next()}`:`BOSS-${b}-${wo.next()}`,W=b;return s===B.BOSS_DESTROYER?new J0(F,{x:o,y:r},E,A,L,G,I,m,v.damageMult,W):new F0(F,{x:o,y:r},E,A,L,G,I,m,v.damageMult,W)}}const jo=new oy,uy=(n,s)=>{const o=O.useCallback((f,d,m,h,y,g,b,v,S)=>{if(!Zp(f))return console.warn(`createEnemy called with invalid type: ${f}. Use spawnBoss for boss types.`),null;let E;S?E=ie.MINIBOSS:v?E=ie.LEGENDARY:b&&(E=ie.ELITE);const A=jo.create(f,{x:d,y:m,tier:E,difficultyMult:y,levelBonus:g,isEliteOverride:b,isLegendaryOverride:v,isMinibossOverride:S});return Math.hypot(d-n.current.x,m-n.current.y)<1300&&s({x:d,y:m}),A},[n,s]),r=O.useCallback((f,d,m,h,y=0,g)=>{const b=Math.random()*Math.PI*2,v=1100,S=Math.max(100,Math.min(Ue-100,n.current.x+Math.cos(b)*v)),E=Math.max(100,Math.min(Ue-100,n.current.y+Math.sin(b)*v)),A=jo.createBoss(f,S,E,d,m,h,y,g);return s({x:S,y:E}),A},[n,s]);return{createEnemy:o,spawnBoss:r}},fy=(n,s,o,r,f)=>{const d=O.useRef([]),m=O.useRef(0),h=O.useRef(0),{createEnemy:y,spawnBoss:g}=f,b=O.useCallback(S=>{const E=S??o;if(d.current=[],m.current=0,h.current=0,r.reset(),E===wt.STANDARD)for(let A=0;A<35;A++){const T=jo.createAsteroid(Math.random()*Ue,Math.random()*Ue,s.statMultiplier);d.current.push(T)}},[s,o,r]),v=O.useCallback((S,E,A)=>{const T=r.getDifficultyMultiplier(E),U=s.enemyLevelBonus,L=E/60;switch(S.type){case"boss":if(S.bossType&&S.waveIndex!==void 0){r.markBossSpawned(S.waveIndex,E);const V=S.bossType,q=g(V,T,U,A,S.waveIndex);d.current.push(q)}break;case"kamikaze_wave":r.markKamikazeSpawned(E);const I=Math.random()*Math.PI*2,G=1200+Math.random()*400,F=Math.max(40,Math.min(Ue-40,n.current.x+Math.cos(I)*G)),W=Math.max(40,Math.min(Ue-40,n.current.y+Math.sin(I)*G));if(S.isEliteWave){const V=y(B.KAMIKAZE,F,W,L,T,U,!0);V&&d.current.push(V)}else for(let V=0;V<(S.count||3);V++){const q=(Math.random()-.5)*100,J=(Math.random()-.5)*100,Q=y(B.KAMIKAZE,F+q,W+J,L,T,U);Q&&d.current.push(Q)}break;case"enemy":case"lull_enemy":if(S.enemyType){const V=Math.random()*Math.PI*2,q=S.type==="lull_enemy"?1200:1e3+Math.random()*400,J=Math.max(40,Math.min(Ue-40,n.current.x+Math.cos(V)*q)),Q=Math.max(40,Math.min(Ue-40,n.current.y+Math.sin(V)*q)),ee=y(S.enemyType,J,Q,L,T,U);ee&&d.current.push(ee)}break}},[r,s,n,y,g]);return{enemiesRef:d,spawnTimerRef:m,debugRespawnTimerRef:h,waveManager:r,initEnemies:b,processSpawnDecision:v}},dy=(n,s,o,r=wt.STANDARD,f=null)=>{const d=O.useMemo(()=>new Wg(Gs,s),[s]),m=uy(n,o),{createEnemy:h,spawnBoss:y}=m,g=fy(n,s,r,d,m),{enemiesRef:b,spawnTimerRef:v,debugRespawnTimerRef:S,initEnemies:E,processSpawnDecision:A}=g,T=O.useCallback((U,L,I)=>{if(r===wt.STANDARD){v.current+=U;const J=b.current.filter(ae=>ae.isAlive&&ae.enemyType===B.SHIELDER).length,Q=b.current.filter(ae=>ae.isAlive&&ae.enemyType===B.CARRIER).length,ee=d.getSpawnDecision(I,v.current,J,Q);ee.shouldSpawn&&(A(ee,I,L),v.current=0)}else if(r===wt.DEBUG&&f){const J=b.current.filter(Q=>Q.enemyType!==B.ASTEROID).length;if(S.current>0&&(S.current-=U),J<f.count&&S.current<=0){const Q=f.tier==="ELITE",ee=f.tier==="LEGENDARY",ae=f.tier==="MINIBOSS";if(f.enemyType===B.BOSS_DREADNOUGHT||f.enemyType===B.BOSS_DESTROYER){const de=f.enemyType,ve=y(de,f.level*.2,f.level,L,0,f.tier!=="MINIBOSS"?f.tier:"NORMAL");b.current.push(ve)}else{const de=Math.random()*Math.PI*2,ve=900,Ie=Math.max(100,Math.min(Ue-100,n.current.x+Math.cos(de)*ve)),Je=Math.max(100,Math.min(Ue-100,n.current.y+Math.sin(de)*ve)),C=f.level*.2,K=h(f.enemyType,Ie,Je,0,C,f.level,Q,ee,ae);K&&b.current.push(K)}S.current=.2}}const G=[],F=[],W=[],V={dt:U,time:L,gameTime:I,playerPos:n.current,enemies:b.current},q=b.current.filter(J=>J.isAlive&&J.enemyType===B.SHIELDER);for(const J of b.current){if(!J.isAlive)continue;let Q=!1;for(const ee of q){const ae=J.pos.x-ee.pos.x,de=J.pos.y-ee.pos.y;if(Math.hypot(ae,de)<=mh){Q=!0;break}}J.isShielded=Q}for(const J of b.current){const Q=J.update(V);for(const ee of Q.bulletsToSpawn)F.push({id:fh.next(),type:Ee.ENEMY_BULLET,pos:{...ee.pos},vel:{...ee.vel},radius:ee.radius,health:1,maxHealth:1,color:ee.color,damage:ee.damage,level:ee.level,isElite:ee.isElite,isLegendary:ee.isLegendary,isHoming:ee.isHoming,turnRate:ee.turnRate,duration:0,maxDuration:ee.maxDuration,isAlive:!0});for(const ee of Q.enemiesToSpawn){const ae=ee.parentStats,de=h(ee.type,ee.pos.x,ee.pos.y,I/60,(ae==null?void 0:ae.difficultyMult)??1,(ae==null?void 0:ae.level)??s.enemyLevelBonus,(ae==null?void 0:ae.tier)===ie.ELITE,(ae==null?void 0:ae.tier)===ie.LEGENDARY,(ae==null?void 0:ae.tier)===ie.MINIBOSS);de&&(ee.vel&&(de.vel.x=ee.vel.x,de.vel.y=ee.vel.y),W.push(de))}J.isAlive&&G.push(J)}return G.push(...W),b.current=G,{enemyBulletsToSpawn:F}},[A,d,n,s,h,y,r,f,b,v,S]);return{enemiesRef:b,initEnemies:E,updateEnemies:T}};class Oo{constructor(s,o){this.isAlive=!0,this.health=1,this.elapsedTime=0,this.effects=[],this.hitEntities=new Set,this.id=fh.next(),this.pos={...s.pos},this.direction={...s.dir},this.speed=s.speed??0,this.vel={x:this.direction.x*this.speed,y:this.direction.y*this.speed},this.radius=s.radius??5,this.color=s.color??"#fff",this.type=s.type,this.weaponEffect=s.weaponEffect??Be.NONE,s.weaponType?this.weaponType=s.weaponType:(this.weaponType=k.PLASMA,this.weaponEffect===Be.LASER&&(this.weaponType=k.LASER),(this.weaponEffect===Be.EXPLOSIVE||this.weaponEffect===Be.HOMING)&&(this.weaponType=k.MISSILE),this.type===Ee.ENEMY_BULLET&&(this.weaponType=k.PLASMA)),this.ownerId=s.ownerId,this.damage=s.damage,this.pierceCount=s.pierce??1,Math.random()<(s.critChance??0)?(this.damage*=s.critMult??2,this.isCritical=!0,this.radius*=1.5):this.isCritical=!1,this.spawnTime=o,this.duration=s.duration??2e3,this.targetId=s.targetId,this.turnRate=s.turnRate,this.level=s.level,this.isElite=s.isElite,this.isMiniboss=s.isMiniboss,this.isLegendary=s.isLegendary,this.isLegendary=s.isLegendary,this.pulseRadius=s.pulseRadius,this.pulseInterval=s.pulseInterval,this.chainCount=s.chainCount,this.chainRange=s.chainRange}update(s,o){if(this.health<=0&&(this.isAlive=!1),this.elapsedTime+=s*1e3,this.elapsedTime>this.duration){this.isAlive=!1;return}this.weaponEffect===Be.HOMING&&this.targetId,this.pos.x+=this.vel.x*s,this.pos.y+=this.vel.y*s}onHit(s){this.pierceCount>0&&this.pierceCount--,this.pierceCount<=0&&(this.isAlive=!1,this.health=0)}}const hy="modulepreload",my=function(n){return"/void-arena/"+n},W0={},py=function(s,o,r){let f=Promise.resolve();if(o&&o.length>0){let m=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));f=m(o.map(g=>{if(g=my(g),g in W0)return;W0[g]=!0;const b=g.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":hy,b||(S.as="script"),S.crossOrigin="",S.href=g,y&&S.setAttribute("nonce",y),document.head.appendChild(S),b)return new Promise((E,A)=>{S.addEventListener("load",E),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function d(m){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=m,window.dispatchEvent(h),!h.defaultPrevented)throw m}return f.then(m=>{for(const h of m||[])h.status==="rejected"&&d(h.reason);return s().catch(d)})};function Zl(n,s,o,r,f){const{time:d,callbacks:m}=r;if(s>=n.health&&n.hasDeathDefiance){n.hasDeathDefiance=!1,n.shield=0,m.spawnDamageText(n.pos,0,"#ffffff"),m.spawnExplosion(n.pos,n.radius*1.5,"#f0f");return}const h=n.takeDamage(s,d);py(()=>Promise.resolve().then(()=>Cg),void 0).then(g=>g.recordDamage(h.actualDamage));const y=f||(o?"#facc15":n.isShielded?"#67e8f9":"#fff");m.spawnDamageText(n.pos,h.actualDamage,y)}class gy{update(s,o){const{time:r,grid:f,callbacks:d,playerStats:m}=o,h=s.pulseRadius||100,y=s.pulseInterval||500;let g=s.lastPulseTime||0;if(r-g>=y){s.lastPulseTime=r;const b=f.retrieve(s.pos);let v=0;for(const S of b){if(!S.isAlive||S.health<=0)continue;if((S.pos.x-s.pos.x)**2+(S.pos.y-s.pos.y)**2<h*h){let A=m.damage*.5;Zl(S,A,!1,o,"#c084fc"),d.spawnExplosion(S.pos,10,"#c084fc"),v++}}v>0&&d.spawnExplosion(s.pos,h,"#c084fc")}}onHit(s,o,r){const{playerStats:f}=r,d=Math.random()<f.critChance;let m=f.damage*2;d&&(m*=f.critMultiplier),Zl(o,m,d,r,"#c084fc")}}class yy{update(s,o){}onHit(s,o,r){const{enemies:f,callbacks:d,playerStats:m}=r,h=Math.random()<m.critChance;let y=m.damage;h&&(y*=m.critMultiplier),Zl(o,y,h,r,"#67e8f9"),d.spawnExplosion(s.pos,20,"#67e8f9");const g=s.chainCount||0,b=s.chainRange||200;if(g>0){const v=new Set;v.add(o.id);let S=o.pos,E=f.filter(A=>A.isAlive&&!v.has(A.id)&&A.health>0);for(let A=0;A<g;A++){let T=null,U=b*b;for(const L of E){const I=(L.pos.x-S.x)**2+(L.pos.y-S.y)**2;I<U&&(U=I,T=L)}if(T){r.callbacks.spawnLightning&&r.callbacks.spawnLightning(S,T.pos,s.color||"#67e8f9");const L=y*.8;Zl(T,L,h,r,"#67e8f9"),d.spawnExplosion(T.pos,15,"#67e8f9"),v.add(T.id),E=E.filter(I=>I.id!==T.id),S=T.pos}else break}}s.isAlive=!1,s.health=0}}class Ea{static createPlayerProjectile(s,o,r,f,d="player",m=Be.NONE){const h={pos:s,dir:o,speed:r.speed,damage:r.damage,type:Ee.PLAYER_BULLET,ownerId:d,color:r.color,radius:r.radius,pierce:r.pierce,critChance:r.critChance,critMult:r.critMult,duration:r.duration,weaponEffect:m,weaponType:r.weaponType},y=new Oo(h,f);return m===Be.PULSING?y.effects.push(new gy):m===Be.CHAIN&&y.effects.push(new yy),y}static createEnemyProjectile(s,o,r,f,d){const m={pos:s,dir:o,speed:r.speed,damage:r.damage,type:Ee.ENEMY_BULLET,ownerId:"enemy",color:r.color,radius:r.radius??6,duration:r.lifetime??4e3,weaponEffect:r.isHoming?Be.HOMING:Be.NONE,targetId:d,turnRate:r.turnRate,level:r.level,isElite:r.isElite,isMiniboss:r.isMiniboss,isLegendary:r.isLegendary};return new Oo(m,f)}}class vy{update(s,o){}onDeath(s){return s.weaponEffect===Be.EXPLOSIVE?{pos:{...s.pos},radius:s.type==="PLAYER_BULLET"?150:80,color:s.color}:null}}const Hs=new vy;let by=class{update(s,o){const{dt:r,playerPos:f,targets:d,aimDir:m,autoAttack:h,playerStats:y}=o;s.pos.x=f.x,s.pos.y=f.y;let g=s.angle||0;if(Math.abs(m.x)>.1||Math.abs(m.y)>.1)g=Math.atan2(m.y,m.x);else if(d.length>0&&h){let A=null,T=rh;for(const U of d){const L=Math.hypot(U.pos.x-f.x,U.pos.y-f.y);L<T&&(T=L,A=U)}A&&(g=Math.atan2(A.pos.y-f.y,A.pos.x-f.x))}let b=s.angle||0,v=g-b;for(;v>Math.PI;)v-=Math.PI*2;for(;v<-Math.PI;)v+=Math.PI*2;const E=(s.isFiring?3:8)*r;if(Math.abs(v)<E?s.angle=g:s.angle=b+Math.sign(v)*E,s.isCharging&&(s.chargeProgress=(s.chargeProgress||0)+r*1,s.chargeProgress>=1)){s.isCharging=!1,s.isFiring=!0;const A=(y==null?void 0:y.laserDuration)||.3;s.duration=s.elapsedTime+A*1e3}}onDeath(s){return null}};const xy=new by,Sy=Math.PI*.7,Ey=1.5,Co=800,My=200;class Ay{update(s,o){const{dt:r,playerPos:f,targets:d,time:m}=o;let h;s.type==="ENEMY_BULLET"?h={id:"player",pos:f,health:1}:h=this.findBestTarget(s,d,m),h&&this.steerTowards(s,h.pos,r)}findBestTarget(s,o,r){let f;if(s.targetId&&(f=o.find(y=>y.id===s.targetId&&y.health>0)),f){const y=this.getAngleDiff(s,f.pos);if(Math.abs(y)<Sy)return f;const g=s.__lastRetarget||0;if(r-g<My)return f}let d,m=-1/0;const h=Math.atan2(s.vel.y,s.vel.x);for(const y of o){if(y.health<=0)continue;const g=y.pos.x-s.pos.x,b=y.pos.y-s.pos.y,v=Math.hypot(g,b);if(v>Co)continue;let E=Math.atan2(b,g)-h;for(;E>Math.PI;)E-=Math.PI*2;for(;E<-Math.PI;)E+=Math.PI*2;if(Math.abs(E)>Math.PI*.85)continue;let A=(Co-v)/Co;Math.abs(E)<Math.PI/3&&(A*=Ey),Math.abs(E)>Math.PI/2&&(A*=.5),A>m&&(m=A,d=y)}return d&&d.id!==s.targetId&&(s.targetId=d.id,s.__lastRetarget=r),d||f}getAngleDiff(s,o){const r=o.x-s.pos.x,f=o.y-s.pos.y,d=Math.atan2(f,r),m=Math.atan2(s.vel.y,s.vel.x);let h=d-m;for(;h>Math.PI;)h-=Math.PI*2;for(;h<-Math.PI;)h+=Math.PI*2;return h}steerTowards(s,o,r){const f=o.x-s.pos.x,d=o.y-s.pos.y,m=Math.atan2(d,f);let h=Math.atan2(s.vel.y,s.vel.x),y=m-h;for(;y>Math.PI;)y-=Math.PI*2;for(;y<-Math.PI;)y+=Math.PI*2;const g=(s.turnRate||1.5)*r;Math.abs(y)<g?h=m:h+=Math.sign(y)*g;const b=Math.hypot(s.vel.x,s.vel.y);s.vel.x=Math.cos(h)*b,s.vel.y=Math.sin(h)*b}onDeath(s){return s.elapsedTime>s.duration?{pos:{...s.pos},radius:s.type==="PLAYER_BULLET"?150:80,color:s.color}:null}}const Ty=new Ay;class Ry{constructor(){this.behaviors=new Map,this.behaviors.set(Be.NONE,Hs),this.behaviors.set(Be.EXPLOSIVE,Hs),this.behaviors.set(Be.PIERCING,Hs),this.behaviors.set(Be.SPLIT,Hs),this.behaviors.set(Be.LASER,xy),this.behaviors.set(Be.HOMING,Ty)}getBehavior(s){return this.behaviors.get(s)||Hs}registerBehavior(s,o){this.behaviors.set(s,o)}updateProjectile(s,o){this.getBehavior(s.weaponEffect).update(s,o)}updateAll(s,o){const r=[],f=[];for(let d=s.length-1;d>=0;d--){const m=s[d];let h=o.dt;if(m.type===Ee.ENEMY_BULLET&&o.enemyTimeScale!==void 0&&(h*=o.enemyTimeScale),m.update(h,o.time),m.isAlive&&this.updateProjectile(m,{...o,dt:h}),m.isAlive)r.push(m);else{const g=this.getBehavior(m.weaponEffect).onDeath(m);g&&f.push(g)}}return{alive:r,explosions:f}}}const Ny=new Ry,gh=new Map;function qa(n){gh.set(n.weaponType,n)}function $0(n){return gh.get(n)}const wy={weaponType:k.PLASMA,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#22d3ee",pierce:m?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:2e3,radius:8};return(d?[-.3,0,.3]:[0]).forEach(b=>{const v=o+b,S=15,E=-(r.bulletCount-1)*S/2;for(let A=0;A<r.bulletCount;A++){const T=E+A*S,U=s.x+Math.cos(v+Math.PI/2)*T,L=s.y+Math.sin(v+Math.PI/2)*T,I={x:Math.cos(v),y:Math.sin(v)},G=Ea.createPlayerProjectile({x:U,y:L},I,y,f);h.push(G)}}),h}};qa(wy);const Ly={weaponType:k.LASER,canFire(n,s){return!s.some(o=>o.type===Ee.PLAYER_BULLET&&o.weaponEffect===Be.LASER)},fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isPierce:d}=n,m={damage:r.damage,speed:r.bulletSpeed,color:"#a855f7",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:5e3,radius:20},h=Ea.createPlayerProjectile({x:s.x,y:s.y},{x:0,y:0},m,f,"player",Be.LASER);return h.angle=o,h.isCharging=!0,h.chargeProgress=0,[h]}};qa(Ly);const Cy={weaponType:k.MISSILE,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage*1.5,speed:r.bulletSpeed,color:"#fb923c",pierce:m?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:2e3,radius:14};return(d?[-.3,0,.3]:[0]).forEach(b=>{const v=o+b,S={x:Math.cos(v),y:Math.sin(v)},E=Ea.createPlayerProjectile({x:s.x,y:s.y},S,y,f,"player",Be.EXPLOSIVE);h.push(E)}),h}};qa(Cy);const Dy={weaponType:k.RAILGUN,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d}=n,m=[],h={damage:r.damage,speed:r.bulletSpeed,color:"#60a5fa",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:1500,radius:6,weaponType:k.RAILGUN};return(d?[-.3,0,.3]:[0]).forEach(g=>{const b=o+g,v={x:Math.cos(b),y:Math.sin(b)},S=Ea.createPlayerProjectile({x:s.x,y:s.y},v,h,f);m.push(S)}),m}};qa(Dy);const _y={weaponType:k.FLAK_CANNON,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#fbbf24",pierce:m?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:560,radius:5};return(d?[-.3,0,.3]:[0]).forEach(b=>{const v=o+b,S=r.bulletCount,E=S*(Math.PI/26),A=v-E/2,T=S>1?E/(S-1):0;for(let U=0;U<S;U++){const L=A+U*T,I={x:Math.cos(L),y:Math.sin(L)},G=Ea.createPlayerProjectile({x:s.x,y:s.y},I,y,f);h.push(G)}}),h}};qa(_y);const jy={weaponType:k.SWARM_LAUNCHER,usesBurstMode:!0,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isPierce:d}=n,m={damage:r.damage,speed:r.bulletSpeed*.7,color:"#f472b6",pierce:d?99:1,critChance:r.critChance,critMult:r.critMultiplier,duration:4e3,radius:8},y=(Math.random()-.5)*.3,g=o+y,b={x:Math.cos(g),y:Math.sin(g)},v=Ea.createPlayerProjectile({x:s.x,y:s.y},b,m,f,"player",Be.HOMING);return v.turnRate=r.swarmAgility||1.5,[v]}};qa(jy);const Oy={weaponType:k.ENERGY_ORB,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage,speed:r.bulletSpeed||150,color:"#c084fc",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:r.duration||5e3,radius:20,weaponType:k.ENERGY_ORB};return(d?[-2.5,0,2.5]:[0]).forEach(b=>{const v=o+b,S={x:Math.cos(v),y:Math.sin(v)},E=Ea.createPlayerProjectile({x:s.x,y:s.y},S,y,f,"player",Be.PULSING);E.pulseRadius=r.areaSize||150,E.pulseInterval=300,E.lastPulseTime=f,h.push(E)}),h}};qa(Oy);const Uy={weaponType:k.ARC_CASTER,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage,speed:r.bulletSpeed||1200,color:"#67e8f9",pierce:1,critChance:r.critChance,critMult:r.critMultiplier,duration:1e3,radius:4,weaponType:k.ARC_CASTER};return(d?[-.5,0,.5]:[0]).forEach(b=>{const v=o+b,S={x:Math.cos(v),y:Math.sin(v)},E=Ea.createPlayerProjectile({x:s.x,y:s.y},S,y,f,"player",Be.CHAIN);E.chainCount=r.pierceCount+2,E.chainCount=r.pierceCount+2,E.chainRange=r.chainRange,h.push(E)}),h}};qa(Uy);const By={weaponType:k.FLAMETHROWER,fire(n){const{playerPos:s,fireAngle:o,stats:r,time:f,isOmni:d,isPierce:m}=n,h=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#fb923c",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:r.duration||600,radius:r.areaSize||40,weaponType:k.FLAMETHROWER};return(d?[0,Math.PI/2,Math.PI,-Math.PI/2]:[0]).forEach(b=>{const v=(Math.random()-.5)*.5,S=o+b+v,E={x:Math.cos(S),y:Math.sin(S)},A=Ea.createPlayerProjectile({x:s.x,y:s.y},E,y,f,"player",Be.NONE);A.speed*=.9+Math.random()*.2,A.duration*=.8+Math.random()*.4,h.push(A)}),h}};qa(By);const Hy=(n,s,o)=>{const r=O.useRef([]),f=O.useRef(0),[d,m]=O.useState(!0),h=O.useRef({count:0,nextShotTime:0,angle:0,hasTarget:!1}),y=O.useCallback(()=>{r.current=[],f.current=0,h.current={count:0,nextShotTime:0,angle:0,hasTarget:!1}},[]),g=O.useCallback((S,E,A,T,U,L,I)=>{const G=s.current,F=E?G.fireRate*2.5:G.fireRate,W=Math.abs(L.x)>.1||Math.abs(L.y)>.1;if((W&&I||d&&!W&&U.length>0)&&S-f.current>1e3/F){if(G.weaponType===k.LASER&&r.current.some(ee=>ee.type===ch.PLAYER_BULLET&&ee.weaponEffect===Be.LASER))return;let q=0,J=!1;if(W)q=Math.atan2(L.y,L.x),J=!0;else{let Q=null,ee=rh;if(U.forEach(ae=>{const de=Math.hypot(ae.pos.x-n.current.x,ae.pos.y-n.current.y);de<ee&&(ee=de,Q=ae)}),Q){const ae=Q;q=Math.atan2(ae.pos.y-n.current.y,ae.pos.x-n.current.x),J=!0}else J=!1}if(J){const Q=$0(G.weaponType);if(!Q){console.warn(`No behavior registered for weapon: ${G.weaponType}`);return}if(Q.usesBurstMode){if(h.current.count>0)return;h.current.count=G.swarmCount,h.current.nextShotTime=S,h.current.angle=q,h.current.hasTarget=!0;return}const ee={playerPos:{x:n.current.x,y:n.current.y},fireAngle:q,stats:G,time:S,isOmni:A,isPierce:T};if(Q.canFire&&!Q.canFire(ee,r.current))return;f.current=S,o();const ae=Q.fire(ee);r.current.push(...ae)}}},[d,n,s,o]),b=O.useCallback((S,E,A,T,U=1)=>{const L=s.current;if(h.current.count>0&&E>=h.current.nextShotTime){const W=$0(k.SWARM_LAUNCHER);if(W){const V={playerPos:{x:n.current.x,y:n.current.y},fireAngle:h.current.angle,stats:L,time:E,isOmni:!1,isPierce:!1},q=W.fire(V);let J=null,Q=800;A.forEach(ee=>{const ae=Math.hypot(ee.pos.x-n.current.x,ee.pos.y-n.current.y);ae<Q&&(Q=ae,J=ee)}),q.forEach(ee=>{J&&(ee.targetId=J.id),r.current.push(ee)}),o()}h.current.count--,h.current.count<=0?f.current=E:h.current.nextShotTime=E+120}const I={dt:S,time:E,playerPos:n.current,targets:A,aimDir:T,autoAttack:d,playerStats:{laserDuration:L.laserDuration},enemyTimeScale:U},{alive:G,explosions:F}=Ny.updateAll(r.current,I);return r.current=G,{newExplosions:F}},[n,s,d,o]),v=O.useCallback(S=>{const E=S.map(A=>{var T,U;return A instanceof Oo?A:Ea.createEnemyProjectile(A.pos,A.vel?{x:A.vel.x/(Math.hypot(A.vel.x,A.vel.y)||1),y:A.vel.y/(Math.hypot(A.vel.x,A.vel.y)||1)}:{x:0,y:0},{damage:A.damage??10,speed:Math.hypot(((T=A.vel)==null?void 0:T.x)||0,((U=A.vel)==null?void 0:U.y)||0)||150,color:A.color,radius:A.radius,lifetime:A.maxDuration?A.maxDuration*1e3:4e3,isHoming:A.isHoming,turnRate:A.turnRate,level:A.level,isElite:A.isElite,isMiniboss:A.isMiniboss,isLegendary:A.isLegendary},performance.now(),"player")});r.current.push(...E)},[]);return{projectilesRef:r,autoAttack:d,setAutoAttack:m,initProjectiles:y,fireWeapon:g,updateProjectiles:b,addProjectiles:v}},zy=(n,s,o)=>{const r=O.useRef([]),f=O.useCallback(()=>{r.current=[]},[]),d=O.useCallback(h=>{const y=h,{drops:g,score:b}=xl.calculateDrops(y,o);return r.current.push(...g),b},[o]),m=O.useCallback(h=>{const y=s.current,g=n.current,b=[];for(const v of r.current){if(v.health<=0)continue;const S=Math.hypot(v.pos.x-g.x,v.pos.y-g.y);S<y.magnetRange&&S>0&&(v.vel.x=(g.x-v.pos.x)/S*1800,v.vel.y=(g.y-v.pos.y)/S*1800,v.pos.x+=v.vel.x*h,v.pos.y+=v.vel.y*h),b.push(v)}return r.current=b,[]},[n,s]);return{pickupsRef:r,initPickups:f,spawnDrops:d,updatePickups:m}};class ky{constructor(s,o){this.pool=[],this.factory=s,this.reset=o}get(){if(this.pool.length>0){const s=this.pool.pop();return this.reset&&this.reset(s),s}return this.factory()}release(s){this.pool.push(s)}}const Gy=(n=Ee.BULLET)=>({id:Mg.next(),type:n,pos:{x:0,y:0},vel:{x:0,y:0},radius:5,health:1,maxHealth:1,color:"#fff",isAlive:!0});class Yy{constructor(s=60){this.pending=new Map,this.cellSize=s}getKey(s){const o=Math.floor(s.x/this.cellSize),r=Math.floor(s.y/this.cellSize);return`${o},${r}`}add(s,o,r){if(o<=0)return;const f=this.getKey(s),d=this.pending.get(f);d?(d.totalDamage+=o,d.hitCount++):this.pending.set(f,{pos:{x:s.x,y:s.y},totalDamage:o,color:r,hitCount:1})}flush(){const s=[];for(const o of this.pending.values())s.push({pos:o.pos,damage:o.totalDamage,color:o.color});return this.pending.clear(),s}hasPending(){return this.pending.size>0}}const eh=new Yy;class Iy{constructor(s=80){this.pending=[],this.mergeDistance=s}add(s,o,r){for(const f of this.pending){const d=s.x-f.pos.x,m=s.y-f.pos.y;if(Math.sqrt(d*d+m*m)<this.mergeDistance){const y=f.count/(f.count+1);f.pos.x=f.pos.x*y+s.x*(1-y),f.pos.y=f.pos.y*y+s.y*(1-y),f.totalRadius=Math.sqrt(f.totalRadius**2+o**2),f.count++;return}}this.pending.push({pos:{x:s.x,y:s.y},totalRadius:o,count:1,color:r})}flush(){const s=[];for(const o of this.pending)s.push({pos:o.pos,radius:o.totalRadius,color:o.color});return this.pending.length=0,s}hasPending(){return this.pending.length>0}}const th=new Iy,qy=()=>{const n=O.useRef([]),s=O.useRef(new ky(Gy,v=>{v.duration=0,v.maxDuration=0,v.value=0})),o=O.useCallback(()=>{const v=s.current;n.current.forEach(S=>v.release(S)),n.current.length=0},[]),r=O.useCallback((v,S,E="#ffffff")=>{eh.add(v,S,E)},[]),f=O.useCallback((v,S,E="#facc15")=>{th.add(v,S,E)},[]),d=O.useCallback(v=>{const E=s.current.get();E.id=No.next(),E.type=Ee.SPAWN_FLASH,E.pos.x=v.x,E.pos.y=v.y,E.vel.x=0,E.vel.y=0,E.radius=60,E.color="#ffffff",E.duration=0,E.maxDuration=.5,n.current.push(E)},[]),m=O.useCallback(v=>{const S=s.current;v.forEach(E=>{const A=S.get();Object.assign(A,E),n.current.push(A)})},[]),h=O.useCallback((v,S,E)=>{const T=s.current.get();T.id=No.next(),T.type=Ee.DAMAGE_NUMBER,T.pos.x=v.x+(Math.random()-.5)*30,T.pos.y=v.y-15,T.vel.x=(Math.random()-.5)*60,T.vel.y=-120,T.radius=0,T.health=1,T.maxHealth=1,T.color=E,T.value=Math.floor(S),T.duration=0,T.maxDuration=.8,n.current.push(T)},[]),y=O.useCallback((v,S,E)=>{const T=s.current.get();T.id=No.next(),T.type=Ee.EXPLOSION,T.pos.x=v.x,T.pos.y=v.y,T.vel.x=0,T.vel.y=0,T.radius=S,T.color=E,T.duration=0,T.maxDuration=.4,n.current.push(T)},[]),g=O.useCallback((v,S,E)=>{n.current.push({id:`LIGHTNING_${Date.now()}_${Math.random()}`,type:Ee.LIGHTNING,pos:{...v},vel:{x:0,y:0},targetPos:{...S},radius:2,color:E,health:1,maxHealth:1,duration:0,maxDuration:.5})},[]),b=O.useCallback(v=>{const S=s.current,E=n.current,A=eh.flush();for(const U of A)h(U.pos,U.damage,U.color);const T=th.flush();for(const U of T)y(U.pos,U.radius,U.color);for(let U=E.length-1;U>=0;U--){const L=E[U];let I=!0;L.duration=(L.duration||0)+v,L.type===Ee.DAMAGE_NUMBER?(L.pos.x+=L.vel.x*v,L.pos.y+=L.vel.y*v,L.duration>=(L.maxDuration||.8)&&(I=!1)):L.type===Ee.EXPLOSION?L.duration>(L.maxDuration||.4)&&(I=!1):L.type===Ee.SPAWN_FLASH?L.duration>(L.maxDuration||.5)&&(I=!1):L.type===Ee.LIGHTNING?L.duration>(L.maxDuration||.2)&&(I=!1):L.duration>2&&(I=!1),I||(S.release(L),E[U]=E[E.length-1],E.pop())}},[h,y]);return{particlesRef:n,initParticles:o,spawnDamageText:r,spawnExplosion:f,spawnSpawnFlash:d,spawnLightning:g,updateParticles:b,addParticles:m}};class Py{constructor(s=250){this.cellSize=s,this.cols=Math.ceil(Ue/s),this.rows=Math.ceil(Ue/s),this.buckets=new Array(this.cols*this.rows).fill(null).map(()=>[])}clear(){for(let s=0;s<this.buckets.length;s++)this.buckets[s].length>0&&(this.buckets[s].length=0)}getIndex(s,o){const r=Math.floor(s/this.cellSize),f=Math.floor(o/this.cellSize),d=Math.max(0,Math.min(this.cols-1,r)),m=Math.max(0,Math.min(this.rows-1,f));return d+m*this.cols}insert(s){if(!Number.isFinite(s.pos.x)||!Number.isFinite(s.pos.y))return;const o=this.getIndex(s.pos.x,s.pos.y);this.buckets[o]&&this.buckets[o].push(s)}retrieve(s){const o=[];if(!Number.isFinite(s.x)||!Number.isFinite(s.y))return o;const r=Math.floor(s.x/this.cellSize),f=Math.floor(s.y/this.cellSize);for(let d=-1;d<=1;d++)for(let m=-1;m<=1;m++){const h=r+d,y=f+m;if(h>=0&&h<this.cols&&y>=0&&y<this.rows){const g=h+y*this.cols,b=this.buckets[g];for(let v=0;v<b.length;v++)o.push(b[v])}}return o}}function Xy(n,s){const o=n.radius+s.radius;if(Math.abs(n.pos.x-s.pos.x)>o||Math.abs(n.pos.y-s.pos.y)>o)return!1;const r=n.pos.x-s.pos.x,f=n.pos.y-s.pos.y;return r*r+f*f<o*o}function yh(n,s,o){const r=(o.x-s.x)**2+(o.y-s.y)**2;if(r===0)return(n.x-s.x)**2+(n.y-s.y)**2;let f=((n.x-s.x)*(o.x-s.x)+(n.y-s.y)*(o.y-s.y))/r;return f=Math.max(0,Math.min(1,f)),(n.x-(s.x+f*(o.x-s.x)))**2+(n.y-(s.y+f*(o.y-s.y)))**2}class Vy{handle(s){const{projectiles:o,enemies:r,playerPos:f,playerStats:d,grid:m,callbacks:h,persistentData:y,time:g}=s;for(const b of o){if(!b.isAlive||b.type===Ee.ENEMY_BULLET)continue;const v=b.weaponType;b.weaponEffect===Be.LASER||v===k.LASER?this.handleLaser(b,s):this.handleStandardProjectile(b,s)}}handleLaser(s,o){const{enemies:r,playerPos:f,playerStats:d,callbacks:m,time:h}=o;if(!s.isFiring)return;const y=s.angle||0,g=f.x,b=f.y,v=g+Math.cos(y)*ks,S=b+Math.sin(y)*ks;for(const E of r){if(!E.isAlive)continue;if(yh(E.pos,{x:g,y:b},{x:v,y:S})<(E.radius+20)**2&&h-(E.lastHitTime||0)>100){m.onEnemyHit();let T=d.damage*.2;const U=Math.random()<d.critChance;U&&(T*=d.critMultiplier),Zl(E,T,U,o)}}}handleStandardProjectile(s,o){const{enemies:r,playerStats:f,grid:d,callbacks:m,persistentData:h,time:y}=o,g=d.retrieve(s.pos);for(const b of s.effects)b.update(s,o);for(const b of g)if(!(b.health<=0)&&Xy(s,b)){if(s.hitEntities.has(b.id))continue;s.hitEntities.add(b.id);for(const E of s.effects)E.onHit(s,b,o);m.onEnemyHit();let v=f.damage;const S=Math.random()<f.critChance;if(S&&(v*=f.critMultiplier),s.weaponType===k.MISSILE||s.weaponType===k.SWARM_LAUNCHER?this.handleMissileImpact(s,b,v,S,o):s.effects.length===0&&this.handlePlasmaImpact(s,b,v,S,o),!s.isAlive||s.weaponType!==k.MISSILE&&s.weaponType!==k.SWARM_LAUNCHER&&s.effects.length===0)break;break}}handleMissileImpact(s,o,r,f,d){const{enemies:m,playerStats:h,callbacks:y}=d,g=s.weaponType===k.SWARM_LAUNCHER,b=g?150:h.areaSize,v=g?"#e879f9":"#fb923c";y.spawnExplosion(s.pos,b,v);for(const S of m){if(!S.isAlive)continue;const E=Math.hypot(S.pos.x-s.pos.x,S.pos.y-s.pos.y);if(E<b){let A=r;E>b*.4&&(A*=.7),Zl(S,A,f,d,v)}}s.isAlive=!1,s.health=0}handlePlasmaImpact(s,o,r,f,d){const{playerStats:m,persistentData:h,callbacks:y,time:g}=d;m.weaponType===k.PLASMA&&(h.metaLevels.meta_plas_area||0)>0&&(o.slowUntil=g+2e3,o.slowFactor=.3),Zl(o,r,f,d),y.spawnExplosion(s.pos,20,"#22d3ee"),s.pierceCount!==void 0?(s.pierceCount-=1,s.pierceCount<=0&&(s.isAlive=!1,s.health=0)):(s.isAlive=!1,s.health=0)}}const Ky=new Vy;class Zy{constructor(){this.PLAYER_RADIUS=20}handle(s){var h;const{playerPos:o,grid:r,callbacks:f,time:d}=s,m=r.retrieve(o);for(const y of m)if(Math.hypot(y.pos.x-o.x,y.pos.y-o.y)<this.PLAYER_RADIUS+y.radius){if(y.enemyType===B.KAMIKAZE){y.health=0;continue}let b=15;y.enemyType===B.STRIKER&&(b=(((h=Bt(y.enemyType).attacks)==null?void 0:h.collision)??15)*y.damageMult*(1+(y.level||1)*.05)),(y.enemyType===B.BOSS_DREADNOUGHT||y.enemyType===B.BOSS_DESTROYER)&&(b*=1.5),f.triggerPlayerHit(d,b,y)}}}const Qy=new Zy;class Fy{constructor(){this.PLAYER_RADIUS=20}handle(s){const{projectiles:o,playerPos:r,callbacks:f,time:d}=s;for(const m of o){if(!m.isAlive||m.type!==Ee.ENEMY_BULLET)continue;if(Math.hypot(m.pos.x-r.x,m.pos.y-r.y)<this.PLAYER_RADIUS+m.radius){const g=(m.damage??10)*(1+(m.level||1)*.05);f.triggerPlayerHit(d,g,m),m.weaponType===k.MISSILE&&f.spawnExplosion(m.pos,80,"#f97316"),m.isAlive=!1,m.health=0}}}}const Jy=new Fy;class Wy{constructor(){this.PLAYER_RADIUS=20}handle(s){var m;const{enemies:o,playerPos:r,callbacks:f,time:d}=s;for(const h of o){const y=h.enemyType;if(y!==B.LASER_SCOUT&&y!==B.BOSS_DREADNOUGHT||!h.isFiring)continue;const g=h.angle||0,b=y===B.BOSS_DREADNOUGHT,v=b?1600:1200,S=b?90:40,E=h.chargeProgress||0,A=Math.max(20,S*(1-E*.3)),T=h.pos.x,U=h.pos.y,L=T+Math.cos(g)*v,I=U+Math.sin(g)*v;if(yh(r,{x:T,y:U},{x:L,y:I})<(A/2+this.PLAYER_RADIUS)**2){const F=((m=Bt(h.enemyType).attacks)==null?void 0:m.beam)??(b?20:12),W=h.level||1,V=F*h.damageMult*(1+W*(b?.03:.02)),q=b?"Dreadnought Beam":"Sniper Beam";f.triggerPlayerHit(d,V,q)}}}}const $y=new Wy;class ev{constructor(){this.COLLECTION_RANGE=40}handle(s){const{pickups:o,playerPos:r,playerStats:f,callbacks:d,time:m}=s;let h=0,y=0;for(const g of o)Math.hypot(g.pos.x-r.x,g.pos.y-r.y)<this.COLLECTION_RANGE&&(g.type===Ee.XP_GEM?h+=g.value||1:g.type===Ee.CREDIT?y+=Math.floor((g.value||0)*f.creditMultiplier):g.type===Ee.POWERUP&&g.powerUpId&&d.setStats(v=>xl.applyPickupEffect(g.powerUpId,v,m)),g.health=0);y>0&&(d.setStats(g=>({...g,credits:g.credits+y})),d.onCreditCollected(y)),h>0&&d.setStats(g=>{let b=g.xp+h,v=g.level,S=g.xpToNextLevel,E=0;for(;b>=S;)b-=S,v++,S=Math.floor(S*1.2),E++;return{...g,xp:b,level:v,xpToNextLevel:S,pendingLevelUps:g.pendingLevelUps+E}})}}const tv=new ev;class av{handle(s){var m;const{enemies:o,playerPos:r,callbacks:f,time:d}=s;for(const h of o)if(h.health<=0&&!h.__deathProcessed&&(f.onEnemyKilled(),f.spawnExplosion(h.pos,h.radius*2.5,h.color),h.enemyType===B.KAMIKAZE)){if(Math.hypot(h.pos.x-r.x,h.pos.y-r.y)<120){const v=(((m=Bt(h.enemyType).attacks)==null?void 0:m.explosion)??40)*h.damageMult*(1+(h.level||1)*.1);f.triggerPlayerHit(d,v,"Kamikaze Blast")}f.spawnExplosion(h.pos,100,"#f97316")}}}const lv=new av;class nv{constructor(){this.handlers=[Ky,Qy,Jy,$y,tv,lv]}processAll(s){for(const o of this.handlers)o.handle(s)}addHandler(s){this.handlers.push(s)}}const sv=new nv,iv=(n,s,o,r,f,d,m,h,y,g,b,v,S,E,A,T,U,L)=>{const I=O.useRef(new Py(250));return{checkCollisions:O.useCallback((F,W)=>{const V=I.current;V.clear();const q=n.current,J=s.current,Q=o.current,ee=r.current,ae=f.current;for(const Ie of q)Ie.isAlive&&V.insert(Ie);const ve={time:F,dt:W,playerPos:ee,playerStats:ae,enemies:q,projectiles:J,pickups:Q,grid:V,persistentData:A,callbacks:{onEnemyHit:T,onEnemyKilled:U,onCreditCollected:L,triggerPlayerHit:d,spawnDamageText:h,spawnExplosion:y,spawnLightning:g,setStats:S,setScore:v}};sv.processAll(ve);for(const Ie of q)if(Ie.health<=0&&!Ie.__deathProcessed){Ie.__deathProcessed=!0;const Je=m(Ie);v(C=>C+Je)}},[I,L,T,U,d,m,h,y,v,S,A])}};class ah{static generateOffers(s,o=Ho){const r=o.filter(m=>m.type===ot.CONSUMABLE?!0:s.filter(y=>y.id===m.id).length<m.maxStacks),f=[],d=[...r];for(let m=0;m<3&&d.length!==0;m++){const h=d.reduce((g,b)=>g+b.weight,0);let y=Math.random()*h;for(let g=0;g<d.length;g++)if(y-=d[g].weight,y<=0){f.push(d[g]),d.splice(g,1);break}}return f}static applyUpgrade(s,o){s.type!==ot.CONSUMABLE&&o(s)}}const cv={cons_heal:n=>{n.setStats(s=>({...s,currentHealth:s.maxHealth})),n.spawnSpawnFlash(n.playerPos),n.spawnDamageText(n.playerPos,0,"#4ade80")},cons_shield:n=>{n.setStats(s=>({...s,currentShield:s.maxShield})),n.spawnSpawnFlash(n.playerPos)},cons_emp:n=>{n.enemies.forEach(o=>{o.isBoss||(o.health=0,n.spawnExplosion(o.pos,50,"#06b6d4"))});const s=n.projectiles.filter(o=>o.type!==Ee.ENEMY_BULLET);n.setProjectiles(s),n.spawnSpawnFlash(n.playerPos)},cons_nuke:n=>{n.spawnExplosion(n.playerPos,600,"#f97316"),n.enemies.forEach(s=>{Math.hypot(s.pos.x-n.playerPos.x,s.pos.y-n.playerPos.y)<800&&(s.health-=5e3,n.spawnDamageText(s.pos,5e3,"#f97316"))})},cons_score:n=>{n.setScore(s=>s+2500),n.spawnDamageText({x:n.playerPos.x,y:n.playerPos.y-50},2500,"#fbbf24")}},rv=(n,s,o,r,f,d,m,h)=>{const[y,g]=O.useState(0),b=O.useRef(0),v=O.useRef({shotsFired:0,shotsHit:0,enemiesKilled:0,creditsEarned:0}),S=Gn[d],{stats:E,setStats:A,statsRef:T,playerPosRef:U,cameraPosRef:L,lastPlayerHitTimeRef:I,initPlayer:G,updatePlayer:F,handleShieldRegen:W,addUpgrade:V,triggerPlayerHit:q,syncWithPersistentData:J,activateModule:Q}=Pg(n,o,f),{particlesRef:ee,initParticles:ae,spawnDamageText:de,spawnExplosion:ve,spawnSpawnFlash:Ie,spawnLightning:Je,updateParticles:C,addParticles:K}=qy(),{enemiesRef:ce,initEnemies:Te,updateEnemies:be}=dy(U,S,Ie,m,h),R=O.useCallback(()=>{v.current.shotsFired++},[]),{projectilesRef:H,autoAttack:Z,setAutoAttack:$,initProjectiles:le,fireWeapon:oe,updateProjectiles:pe,addProjectiles:qe}=Hy(U,T,R),{pickupsRef:Le,initPickups:da,spawnDrops:Pa,updatePickups:la}=zy(U,T,S),Ql=O.useCallback(()=>{v.current.shotsHit++},[]),na=O.useCallback(()=>{v.current.enemiesKilled++},[]),Ml=O.useCallback(Ve=>{v.current.creditsEarned+=Ve},[]),{checkCollisions:Xa}=iv(ce,H,Le,U,T,q,Pa,de,ve,Je,K,g,A,r,o,Ql,na,Ml),Va=O.useCallback(()=>{T.current.pendingLevelUps>0&&s(_e.LEVELING)},[s]);O.useEffect(()=>{const Ve=o.settings.autoShowLevelUp??!0;n===_e.PLAYING&&E.pendingLevelUps>0&&Ve&&s(_e.LEVELING)},[E.pendingLevelUps,n,o.settings.autoShowLevelUp,s]);const[Ma,Aa]=O.useState(!1);O.useEffect(()=>{if(n===_e.LEVELING){if(E.pendingLevelUps>0&&!Ma){const Pe=ah.generateOffers(E.acquiredUpgrades);r(Pe),Aa(!0)}}else Aa(!1)},[n,Ma,E.pendingLevelUps,E.acquiredUpgrades,s,r]);const Al=O.useCallback(Ve=>{if(Ve.type===ot.CONSUMABLE){const Rt=cv[Ve.id];Rt&&Rt({setStats:A,playerPos:U.current,enemies:ce.current,projectiles:H.current,setProjectiles:xt=>{H.current=xt},setScore:g,spawnSpawnFlash:Ie,spawnDamageText:de,spawnExplosion:ve}),A(xt=>({...xt,pendingLevelUps:Math.max(0,xt.pendingLevelUps-1)}))}else ah.applyUpgrade(Ve,V);const Pe=E.pendingLevelUps;Math.max(0,Pe-1)<=0&&s(_e.PLAYING),r([]),Aa(!1)},[s,V,A,g,ve,Ie,de,E.pendingLevelUps]),sa=O.useCallback(Ve=>{G(),Te(Ve),le(),da(),ae(),g(0),b.current=0,v.current={shotsFired:0,shotsHit:0,enemiesKilled:0,creditsEarned:0},s(_e.PLAYING)},[G,Te,le,da,ae,s]),Tl=O.useCallback((Ve,Pe)=>{if(n!==_e.PLAYING||f)return;let Xt=1;const Rt=T.current.moduleSlots.find(ht=>ht.type==="TIME_WARP"&&Ve<ht.activeUntil);Rt&&(Xt=Math.max(.1,1-Rt.power));const xt=Pe*Xt;b.current+=xt,F(Pe,Ve),W(Pe,Ve);const et=xl.isBuffActive(T.current,"OVERDRIVE",Ve),Rl=xl.isBuffActive(T.current,"OMNI",Ve),Ka=xl.isBuffActive(T.current,"PIERCE",Ve),Za=Ut.getAim(),Fl=Ut.isFiring();oe(Ve,et,Rl,Ka,ce.current,Za,Fl);const{enemyBulletsToSpawn:ia}=be(xt,Ve,b.current);ia.length>0&&qe(ia);const{newExplosions:lt}=pe(Pe,Ve,ce.current,Za,Xt);lt&&lt.length>0&&lt.forEach(ht=>ve(ht.pos,ht.radius,ht.color)),la(Pe),C(Pe),Xa(Ve,Pe)},[n,f,F,W,oe,be,qe,pe,la,C,Xa,ve]);return{stats:E,score:y,playerPosRef:U,cameraPosRef:L,initGame:sa,update:Tl,setStats:A,addUpgrade:V,statsRef:T,lastPlayerHitTime:I,syncWithPersistentData:J,autoAttack:Z,setAutoAttack:$,enemiesRef:ce,projectilesRef:H,pickupsRef:Le,particlesRef:ee,runMetricsRef:v,triggerManualLevelUp:Va,onUpgradeSelected:Al,activateModule:Q,gameTime:b.current}},ov=n=>{const s=[];for(let o=0;o<n;o++)s.push({x:Math.random()*Ue,y:Math.random()*Ue,size:.5+Math.random()*2,layer:Math.floor(Math.random()*3),opacity:.1+Math.random()*.7});return s};class uv{constructor(){this.cache=[],this.cacheCtx=[],this.isInitialized=!1,this.speeds=[.1,.2,.4],this.colors=["#475569","#475569","#fff"]}initialize(s,o,r){for(let d=0;d<3;d++){const m=new OffscreenCanvas(o,r),h=m.getContext("2d");h&&(this.cache[d]=m,this.cacheCtx[d]=h)}const f=[[],[],[]];for(const d of s)f[d.layer].push(d);for(let d=0;d<3;d++){const m=this.cacheCtx[d];if(m){m.clearRect(0,0,o,r),m.fillStyle=this.colors[d];for(const h of f[d]){m.globalAlpha=h.opacity;const y=h.x%o,g=h.y%r;h.size<=1.5?m.fillRect(y-h.size,g-h.size,h.size*2,h.size*2):(m.beginPath(),m.arc(y,g,h.size,0,Math.PI*2),m.fill())}m.globalAlpha=1}}this.isInitialized=!0}draw(s,o,r,f,d){if(s.fillStyle="#020617",s.fillRect(0,0,o,r),!this.isInitialized)return;for(let h=0;h<3;h++){const y=this.cache[h];if(!y)continue;let g=f*this.speeds[h]%o,b=d*this.speeds[h]%r;g<0&&(g+=o),b<0&&(b+=r);const v=g|0,S=b|0;s.drawImage(y,v,S),s.drawImage(y,v-o,S),s.drawImage(y,v,S-r),s.drawImage(y,v-o,S-r)}s.strokeStyle="rgba(34, 211, 238, 0.03)",s.lineWidth=1;const m=400;s.beginPath();for(let h=f%m;h<o;h+=m)s.moveTo(h|0,0),s.lineTo(h|0,r);for(let h=d%m;h<r;h+=m)s.moveTo(0,h|0),s.lineTo(o,h|0);s.stroke()}get ready(){return this.isInitialized}}const lh=new uv;class fv{constructor(){this.order=10}render(s){const{ctx:o,pickups:r,time:f}=s;for(const d of r)o.save(),o.translate(d.pos.x,d.pos.y),d.type===Ee.XP_GEM?this.renderXpGem(o,f):d.type===Ee.CREDIT?this.renderCredit(o,f):d.type===Ee.POWERUP&&d.powerUpId&&this.renderPowerUp(o,d.powerUpId,f),o.restore()}renderXpGem(s,o){s.shadowBlur=15,s.shadowColor="#06b6d4",s.rotate(o/150),s.fillStyle="#fff",s.fillRect(-9,-9,18,18),s.fillStyle="#06b6d4",s.fillRect(-6,-6,12,12)}renderCredit(s,o){s.shadowBlur=15,s.shadowColor="#fbbf24",s.rotate(o/100),s.fillStyle="#fbbf24",s.beginPath(),s.moveTo(0,-14),s.lineTo(14,0),s.lineTo(0,14),s.lineTo(-14,0),s.closePath(),s.fill(),s.fillStyle="#fff",s.beginPath(),s.arc(0,0,4,0,Math.PI*2),s.fill()}renderPowerUp(s,o,r){const f=kn[o];if(!f)return;const d=1+Math.sin(r*.01)*.15;s.rotate(r*.002),s.shadowBlur=25,s.shadowColor=f.color,s.fillStyle="#fff",s.strokeStyle=f.color,s.lineWidth=4,s.beginPath(),s.rect(-18*d,-18*d,36*d,36*d),s.fill(),s.stroke(),s.fillStyle="#000",s.font="bold 18px Arial",s.textAlign="center",s.textBaseline="middle",s.fillText(f.label,0,0)}}const dv=new fv,Go=(n,s,o,r,f,d=100,m=1)=>{const h=r/m,y=f/m,g=s-h/2-d,b=s+h/2+d,v=o-y/2-d,S=o+y/2+d;return n.x>=g&&n.x<=b&&n.y>=v&&n.y<=S};class hv{constructor(){this.order=40}render(s){const{ctx:o,particles:r,cameraPos:f,screenWidth:d,screenHeight:m,zoom:h}=s;for(const y of r)Go(y.pos,f.x,f.y,d,m,250,h)&&(o.save(),o.translate(y.pos.x,y.pos.y),y.type===Ee.DAMAGE_NUMBER?this.renderDamageNumber(o,y):y.type===Ee.EXPLOSION?this.renderExplosion(o,y):y.type===Ee.SPAWN_FLASH?this.renderSpawnFlash(o,y):y.type===Ee.LIGHTNING&&this.renderLightning(o,y),o.restore())}renderDamageNumber(s,o){var d;const r=(o.duration||0)/(o.maxDuration||.8);s.globalAlpha=Math.max(0,1-Math.pow(r,2)),s.scale(1+(1-r)*.5,1+(1-r)*.5),s.fillStyle=o.color||"#ffffff",s.strokeStyle="#000000",s.lineWidth=4,s.font="900 36px Arial, sans-serif",s.textAlign="center";const f=((d=o.value)==null?void 0:d.toString())||"0";s.strokeText(f,0,0),s.fillText(f,0,0)}renderExplosion(s,o){const r=(o.duration||0)/(o.maxDuration||.5),f=Math.max(0,1-r),d=(o.id.charCodeAt(0)||0)+(o.id.charCodeAt(o.id.length-1)||0);s.beginPath(),s.arc(0,0,o.radius*(.2+r*1.2),0,Math.PI*2),s.strokeStyle=o.color,s.lineWidth=(1-r)*4,s.globalAlpha=f,s.stroke(),r<.3&&(s.fillStyle="#fff",s.globalAlpha=(.3-r)*3,s.beginPath(),s.arc(0,0,o.radius*.5,0,Math.PI*2),s.fill()),s.globalAlpha=f,s.fillStyle=o.color;const m=6+d%4,h=o.radius*2.5;for(let y=0;y<m;y++){const g=y/m*Math.PI*2+d*.1,b=r*h*(.8+y%3*.2),v=Math.cos(g)*b,S=Math.sin(g)*b,E=o.radius*.15*f;s.fillRect(v-E/2,S-E/2,E,E)}}renderSpawnFlash(s,o){const r=(o.duration||0)/(o.maxDuration||.5);if(s.globalAlpha=Math.max(0,1-r),s.shadowBlur=40,s.shadowColor="#fff",s.fillStyle="#fff",s.beginPath(),s.arc(0,0,o.radius*r,0,Math.PI*2),s.fill(),r<.5){s.shadowBlur=0,s.fillStyle="#22d3ee";const f=o.radius*2*r,d=4*(1-r);s.fillRect(-f/2,-d/2,f,d),s.fillRect(-d/2,-f/2,d,f)}s.strokeStyle="#22d3ee",s.lineWidth=4*(1-r),s.beginPath(),s.arc(0,0,o.radius*1.5*r,0,Math.PI*2),s.stroke(),s.stroke()}renderLightning(s,o){if(!o.targetPos)return;const r=(o.duration||0)/(o.maxDuration||.4),f=Math.max(0,1-r),d=o.targetPos.x-o.pos.x,m=o.targetPos.y-o.pos.y,h=Math.sqrt(d*d+m*m),y=Math.max(4,Math.floor(h/20)),g=30*f,b=[{x:0,y:0}];for(let v=1;v<y;v++){const S=v/y,E=d*S,A=m*S,T=-m/h,U=d/h,L=(Math.random()-.5)*g;b.push({x:E+T*L,y:A+U*L})}b.push({x:d,y:m}),s.lineCap="round",s.lineJoin="round",s.shadowBlur=20,s.shadowColor=o.color||"#67e8f9",s.strokeStyle=o.color||"#67e8f9",s.lineWidth=6*f,s.globalAlpha=f*.5,s.beginPath(),s.moveTo(b[0].x,b[0].y);for(let v=1;v<b.length;v++)s.lineTo(b[v].x,b[v].y);s.stroke(),s.shadowBlur=4,s.shadowColor="#fff",s.strokeStyle="#ffffff",s.lineWidth=2*f,s.globalAlpha=f,s.beginPath(),s.moveTo(b[0].x,b[0].y);for(let v=1;v<b.length;v++)s.lineTo(b[v].x,b[v].y);s.stroke(),s.shadowBlur=0,s.globalAlpha=1}}const mv=new hv;function Do(n){return"enemyType"in n&&n.enemyType!==void 0}function pv(n,s){const o=m=>{const h=Math.sin(m*12.9898)*43758.5453;return h-Math.floor(h)},r=[];let d=n;for(let m=0;m<8;m++){const h=Math.PI*2/8*m,y=s*(.7+o(d)*.5);d+=1.618,r.push({x:Math.cos(h)*y,y:Math.sin(h)*y})}return r}const gv={[B.BOSS_DESTROYER]:(n,s,o,r)=>Sv(n,s,r),[B.BOSS_DREADNOUGHT]:(n,s,o,r)=>Ev(n,s,r),[B.SCOUT]:(n,s)=>Mv(n,s),[B.STRIKER]:(n,s)=>Uo(n,s),[B.LASER_SCOUT]:(n,s)=>Uo(n,s),[B.KAMIKAZE]:(n,s)=>Av(n,s),[B.SHIELDER]:(n,s,o)=>Tv(n,s,o),[B.CARRIER]:(n,s)=>Rv(n,s)};function yv(n,s,o){for(const r of s){n.save(),n.translate(r.pos.x,r.pos.y),!Do(r)&&r.type!=="ASTEROID"&&r.type;const f=Do(r)?r.enemyType:B.ASTEROID,d=Do(r)?r.tier:ie.NORMAL;if(f===B.ASTEROID){vv(n,r,o),n.restore();continue}const h=o-(r.lastHitTime||0)<80,y=o-(r.lastShieldHitTime||0)<120,g=d===ie.ELITE,b=d===ie.LEGENDARY,v=d===ie.MINIBOSS,S=f===B.BOSS_DREADNOUGHT||f===B.BOSS_DESTROYER;bv(n,r,f,d,S),(f===B.LASER_SCOUT||f===B.BOSS_DREADNOUGHT)&&(r.isFiring||r.isCharging)&&xv(n,r,S,d),(f===B.LASER_SCOUT||f===B.BOSS_DREADNOUGHT)&&(r.isCharging||r.isFiring)?n.rotate((r.angle||0)+Math.PI/2):n.rotate(Math.atan2(r.vel.y,r.vel.x)+Math.PI/2),n.shadowBlur=S?50:v?35:b?30:g?25:15,n.shadowColor=r.color,y?n.fillStyle="#ffffff":h?n.fillStyle="#ff0000":n.fillStyle=r.color;const E=gv[f];E?E(n,r,o,h):Uo(n,r),r.shield!==void 0&&r.shield>0&&Nv(n,r,y),n.restore()}}function vv(n,s,o){const r=o-(s.lastHitTime||0)<80,f="seed"in s&&s.seed||0,d=pv(f,s.radius);n.beginPath(),n.moveTo(d[0].x,d[0].y);for(let h=1;h<d.length;h++)n.lineTo(d[h].x,d[h].y);n.closePath();const m=n.createRadialGradient(-s.radius*.3,-s.radius*.3,.1,0,0,Math.max(.1,s.radius));m.addColorStop(0,r?"#ffffff":"#64748b"),m.addColorStop(1,r?"#ffffff":"#1e293b"),n.fillStyle=m,n.fill(),n.strokeStyle=r?"#ffffff":"#475569",n.lineWidth=2,n.stroke(),n.strokeStyle="rgba(0,0,0,0.3)",n.lineWidth=1,n.beginPath(),n.moveTo(d[0].x*.4,d[0].y*.4),n.lineTo(d[4].x*.6,d[4].y*.6),n.stroke()}function bv(n,s,o,r,f){n.save();const d=-s.radius-20;if(n.font="bold 10px Arial",n.textAlign="center",o===B.BOSS_DESTROYER){n.shadowBlur=25;const b=r===ie.LEGENDARY?"#fbbf24":r===ie.ELITE?"#d946ef":"#f97316";n.shadowColor=b,n.fillStyle=b,n.font="900 16px Arial";const v=r===ie.LEGENDARY?" LEGENDARY ":r===ie.ELITE?" ELITE ":"";n.fillText(v+"IMPERIAL DESTROYER",0,d-25)}else if(o===B.BOSS_DREADNOUGHT){n.shadowBlur=25;const b=r===ie.LEGENDARY?"#fbbf24":r===ie.ELITE?"#d946ef":"#4ade80";n.shadowColor=b,n.fillStyle=b,n.font="900 16px Arial";const v=r===ie.LEGENDARY?" LEGENDARY ":r===ie.ELITE?" ELITE ":"";n.fillText(v+"GALACTIC DREADNOUGHT",0,d-25)}else if(r===ie.MINIBOSS)n.shadowBlur=15,n.shadowColor="#ef4444",n.fillStyle="#ef4444",n.font="900 12px Arial",n.fillText("MINIBOSS",0,d-20);else if(r===ie.LEGENDARY)n.shadowBlur=15,n.shadowColor="#fbbf24",n.fillStyle="#fbbf24",n.font="900 12px Arial",n.fillText(" LEGENDARY",0,d-20);else if(r===ie.ELITE){n.shadowBlur=10,n.shadowColor="#d946ef",n.fillStyle="#d946ef";const b="hasDeathDefiance"in s&&s.hasDeathDefiance;n.fillText(b?"ELITE [ARMORED]":"ELITE",0,d-20)}else n.fillStyle="rgba(255,255,255,0.5)",n.fillText(`LV ${s.level||1}`,0,d-10);const m=Math.max(40,s.radius*2),h=4,y=-m/2;n.fillStyle="rgba(0,0,0,0.7)",n.fillRect(y,d-5,m,h);const g=Math.max(0,s.health/s.maxHealth);if(n.fillStyle=g<.3?"#f87171":f?"#4ade80":"#ef4444",n.fillRect(y,d-5,m*g,h),s.maxShield&&s.maxShield>0){n.fillStyle="rgba(0,0,0,0.7)",n.fillRect(y,d,m,h);const b=Math.max(0,(s.shield||0)/s.maxShield);n.fillStyle="#06fdfd",n.fillRect(y,d,m*b,h)}n.restore()}function xv(n,s,o,r=ie.NORMAL){n.save(),n.rotate(s.angle||0);let f=o?"74, 222, 128":"255, 0, 0",d=o?"#4ade80":"#ff0000";r===ie.LEGENDARY?(f="251, 191, 36",d="#fbbf24"):r===ie.ELITE?(f="217, 70, 239",d="#d946ef"):r===ie.MINIBOSS&&(f="239, 68, 68",d="#ef4444");const m=o?1600:1200,h=o?2.5:r===ie.MINIBOSS?1.8:r===ie.LEGENDARY?1.5:r===ie.ELITE?1.3:1;if(s.isCharging){const y=s.chargeProgress||0;n.strokeStyle=`rgba(${f}, ${.1+y*.6})`,n.lineWidth=(1+y*3)*h,n.setLineDash([20,10]),n.beginPath(),n.moveTo(0,0),n.lineTo(m,0),n.stroke()}if(s.isFiring){const g=30*(1-(s.chargeProgress||0))*h;n.shadowBlur=50,n.shadowColor=d,n.fillStyle="#fff",n.fillRect(0,-g/2,m,g),n.fillStyle=`rgba(${f}, 0.4)`,n.fillRect(0,-g,m,g*2)}n.restore()}function Sv(n,s,o){const r=s.radius*.8,f=s.radius*1.8;n.beginPath(),n.moveTo(0,-f),n.lineTo(r,f*.6),n.lineTo(0,f*.4),n.lineTo(-r,f*.6),n.closePath(),n.fill(),n.fillStyle=o?"#ffaaaa":"#475569",n.beginPath(),n.rect(-r*.3,0,r*.6,f*.3),n.fill(),n.fillStyle="#f97316",n.shadowColor="#f97316",n.shadowBlur=20,n.beginPath(),n.arc(-r*.5,f*.6,5,0,Math.PI*2),n.fill(),n.beginPath(),n.arc(r*.5,f*.6,5,0,Math.PI*2),n.fill(),n.fillStyle="#fff",n.fillRect(-r-2,0,4,15),n.fillRect(r-2,0,4,15)}function Ev(n,s,o){const r=n.createRadialGradient(-15,-15,5,0,0,s.radius);r.addColorStop(0,"#52525b"),r.addColorStop(1,"#18181b"),n.fillStyle=o?"#ff0000":r,n.beginPath(),n.arc(0,0,s.radius,0,Math.PI*2),n.fill(),n.strokeStyle="#000",n.lineWidth=4,n.beginPath(),n.moveTo(-s.radius,0),n.lineTo(s.radius,0),n.stroke();const f=-s.radius*.5;if(n.fillStyle="#27272a",n.beginPath(),n.arc(0,f,s.radius*.25,0,Math.PI*2),n.fill(),n.strokeStyle="#10b981",n.lineWidth=2,n.stroke(),s.isCharging||s.isFiring){const d=s.chargeProgress||0;n.fillStyle=`rgba(16, 185, 129, ${d})`,n.beginPath(),n.arc(0,f,s.radius*.15*d,0,Math.PI*2),n.fill()}}function Mv(n,s){n.beginPath(),n.moveTo(0,-s.radius),n.lineTo(-s.radius*.8,s.radius*.5),n.lineTo(-s.radius*.3,s.radius*.3),n.lineTo(0,s.radius*.8),n.lineTo(s.radius*.3,s.radius*.3),n.lineTo(s.radius*.8,s.radius*.5),n.closePath(),n.fill()}function Av(n,s){n.beginPath(),n.moveTo(0,-s.radius*1.5),n.lineTo(-s.radius,s.radius),n.lineTo(0,s.radius*.5),n.lineTo(s.radius,s.radius),n.closePath(),n.fill(),n.fillStyle="#fff",n.beginPath(),n.arc(0,s.radius*.8,s.radius*.3,0,Math.PI*2),n.fill()}function Tv(n,s,o){const r=.7+Math.sin(o*.003)*.3,f=150;n.save(),n.globalAlpha=.15*r;const d=n.createRadialGradient(0,0,0,0,0,f);d.addColorStop(0,"rgba(34, 211, 238, 0.4)"),d.addColorStop(.7,"rgba(34, 211, 238, 0.2)"),d.addColorStop(1,"rgba(34, 211, 238, 0)"),n.fillStyle=d,n.beginPath(),n.arc(0,0,f,0,Math.PI*2),n.fill(),n.globalAlpha=.3*r,n.strokeStyle="#22d3ee",n.lineWidth=2,n.setLineDash([10,5]),n.beginPath(),n.arc(0,0,f,0,Math.PI*2),n.stroke(),n.setLineDash([]),n.restore(),n.beginPath();for(let m=0;m<6;m++){const h=m*Math.PI/3-Math.PI/2,y=Math.cos(h)*s.radius,g=Math.sin(h)*s.radius;m===0?n.moveTo(y,g):n.lineTo(y,g)}n.closePath(),n.fill(),n.fillStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.arc(0,0,s.radius*.4,0,Math.PI*2),n.fill(),n.strokeStyle="#22d3ee",n.lineWidth=2,n.save(),n.rotate(o*.002),n.beginPath(),n.arc(0,0,s.radius*.7,0,Math.PI*1.5),n.stroke(),n.restore()}function Rv(n,s){const o=s.radius;n.beginPath();for(let r=0;r<6;r++){const f=Math.PI/3*r-Math.PI/2,d=Math.cos(f)*o,m=Math.sin(f)*o;r===0?n.moveTo(d,m):n.lineTo(d,m)}n.closePath(),n.fill(),n.fillStyle="rgba(0, 0, 0, 0.4)",n.beginPath();for(let r=0;r<6;r++){const f=Math.PI/3*r-Math.PI/2,d=Math.cos(f)*o*.5,m=Math.sin(f)*o*.5;r===0?n.moveTo(d,m):n.lineTo(d,m)}n.closePath(),n.fill()}function Uo(n,s){n.beginPath(),n.moveTo(0,-s.radius),n.lineTo(-s.radius,0),n.lineTo(-s.radius*.8,s.radius),n.lineTo(0,s.radius*.4),n.lineTo(s.radius*.8,s.radius),n.lineTo(s.radius,0),n.closePath(),n.fill()}function Nv(n,s,o){const r=s.radius*1.3;n.shadowBlur=o?30:15,n.shadowColor=o?"#fff":"#06fdfd",n.strokeStyle=o?"#fff":"rgba(6, 253, 253, 0.5)",n.lineWidth=3,n.beginPath(),n.arc(0,0,r,0,Math.PI*2),n.stroke()}class wv{constructor(){this.order=20}render(s){const{cameraPos:o,screenWidth:r,screenHeight:f,zoom:d,enemies:m,ctx:h,time:y}=s,g=m.filter(b=>Go(b.pos,o.x,o.y,r,f,b.radius+400,d));yv(h,g,y)}}const Lv=new wv,Cv=(n,s)=>{n.save(),n.translate(s.pos.x,s.pos.y);const o=s.angle||0;if(n.rotate(o),s.isCharging){const r=s.chargeProgress||0;n.strokeStyle=`rgba(168, 85, 247, ${.2+r*.4})`,n.lineWidth=1+r*2,n.setLineDash([20,15]),n.beginPath(),n.moveTo(30,0),n.lineTo(ks,0),n.stroke(),n.shadowBlur=10+r*20,n.shadowColor="#d8b4fe",n.fillStyle="#a855f7",n.beginPath(),n.arc(20,0,5+r*8,0,Math.PI*2),n.fill()}else if(s.isFiring){const r=Math.max(0,s.duration-s.elapsedTime),f=Math.min(40,Math.max(0,r/8));n.shadowBlur=60,n.shadowColor="#a855f7",n.fillStyle="#fff",n.fillRect(0,-f/4,ks,f/2),n.fillStyle="rgba(168, 85, 247, 0.6)",n.fillRect(0,-f,ks,f*2),n.beginPath(),n.fillStyle="#fff",n.arc(20,0,f*1.5,0,Math.PI*2),n.fill()}n.restore()},nh=(n,s)=>{n.save(),n.translate(s.pos.x,s.pos.y);const o=s.angle||Math.atan2(s.vel.y,s.vel.x);n.save(),n.rotate(o+Math.PI);const r=s.type===Ee.ENEMY_BULLET?50:40,f=n.createLinearGradient(0,0,r,0);f.addColorStop(0,s.type===Ee.ENEMY_BULLET?"#a1a1aa":s.color),f.addColorStop(1,"transparent"),n.fillStyle=f,n.globalAlpha=.6,n.fillRect(0,-s.radius*.6,r,s.radius*1.2),n.restore(),n.rotate(o+Math.PI/2),s.type===Ee.PLAYER_BULLET?(n.shadowBlur=20,n.shadowColor=s.color,n.fillStyle=s.color,n.fillRect(-8,-20,16,40),n.fillStyle="#fff",n.fillRect(-4,20,8,10)):(n.shadowBlur=20,n.shadowColor=s.color||"#f97316",n.fillStyle=s.color||"#f97316",n.fillRect(-3,-8,6,16),n.fillStyle="#fff",n.fillRect(-2,8,4,4)),n.restore()},Dv=(n,s)=>{n.save(),n.translate(s.pos.x,s.pos.y);const o=s.angle||Math.atan2(s.vel.y,s.vel.x);n.rotate(o+Math.PI/2),n.shadowBlur=10,n.shadowColor=s.color,n.fillStyle=s.color,n.beginPath(),n.moveTo(0,-8),n.lineTo(5,5),n.lineTo(-5,5),n.closePath(),n.fill(),n.fillStyle="#fff",n.fillRect(-2,5,4,6),n.restore()},_v=(n,s)=>{n.save(),n.translate(s.pos.x,s.pos.y);const o=s.angle||Math.atan2(s.vel.y,s.vel.x);if(n.rotate(o+Math.PI/2),s.type===Ee.PLAYER_BULLET)if(s.weaponType===k.RAILGUN)n.shadowBlur=25,n.shadowColor="#60a5fa",n.fillStyle="#ffffff",n.beginPath(),n.ellipse(0,0,4,25,0,0,Math.PI*2),n.fill(),n.strokeStyle="#60a5fa",n.lineWidth=2,n.stroke();else if(s.weaponType===k.FLAMETHROWER){const r=s.elapsedTime/(s.duration||600),f=Math.max(0,1-Math.pow(r,1.5)),d=1+r*2.5;n.globalAlpha=f,n.shadowBlur=20*f,n.shadowColor="#ea580c";const m=parseInt(s.id.slice(-4),16)||0,h=Math.sin(r*10+m)*(s.radius*.5),y=Math.cos(r*8+m)*(s.radius*.5),g=n.createRadialGradient(h*.2,y*.2,0,0,0,s.radius*d);g.addColorStop(0,"#fef08a"),g.addColorStop(.3,"#f97316"),g.addColorStop(.7,"rgba(220, 38, 38, 0.8)"),g.addColorStop(1,"rgba(100, 100, 100, 0)"),n.fillStyle=g,n.beginPath(),n.arc(h,y,s.radius*d,0,Math.PI*2),n.fill(),n.fillStyle="rgba(239, 68, 68, 0.3)",n.beginPath(),n.arc(-h*.5,-y*.5,s.radius*d*.8,0,Math.PI*2),n.fill(),n.globalAlpha=1}else if(s.weaponType===k.ENERGY_ORB){const r=1+Math.sin(Date.now()*.01)*.1;n.shadowBlur=30,n.shadowColor="#c084fc",n.fillStyle="#ffffff",n.beginPath(),n.arc(0,0,s.radius*.8,0,Math.PI*2),n.fill(),n.strokeStyle="#c084fc",n.lineWidth=4,n.globalAlpha=.8,n.beginPath(),n.arc(0,0,s.radius*r,0,Math.PI*2),n.stroke(),n.globalAlpha=1}else if(s.weaponType===k.ARC_CASTER){n.shadowBlur=20,n.shadowColor="#67e8f9",n.fillStyle="#ffffff",n.beginPath(),n.arc(0,0,4,0,Math.PI*2),n.fill(),n.strokeStyle="#67e8f9",n.lineWidth=2;const r=4;for(let f=0;f<r;f++){const d=Math.random()*Math.PI*2,m=5+Math.random()*10;n.beginPath(),n.moveTo(0,0);const h=Math.cos(d)*(m*.5)+(Math.random()-.5)*5,y=Math.sin(d)*(m*.5)+(Math.random()-.5)*5,g=Math.cos(d)*m,b=Math.sin(d)*m;n.lineTo(h,y),n.lineTo(g,b),n.stroke()}n.strokeStyle="rgba(103, 232, 249, 0.5)",n.lineWidth=4,n.beginPath(),n.moveTo(0,0),n.lineTo(0,15),n.lineTo((Math.random()-.5)*5,25),n.stroke()}else n.shadowBlur=15,n.shadowColor=s.color,n.fillStyle="#fff",n.beginPath(),n.arc(0,0,s.radius,0,Math.PI*2),n.fill(),n.strokeStyle=s.color,n.lineWidth=3,n.stroke();else s.radius>10?(n.shadowBlur=40,n.fillStyle="#fff",n.beginPath(),n.arc(0,0,s.radius*.7,0,Math.PI*2),n.fill(),n.fillStyle=s.color,n.globalAlpha=.6,n.beginPath(),n.arc(0,0,s.radius*1.2,0,Math.PI*2),n.fill()):(n.fillStyle="#fff",n.beginPath(),n.arc(0,0,s.radius,0,Math.PI*2),n.fill(),n.strokeStyle=s.color||"#f97316",n.lineWidth=2,n.stroke());n.restore()},jv=(n,s,o,r)=>{s.forEach(f=>{if(f.isAlive)switch(f.weaponEffect){case Be.LASER:Cv(n,f);break;case Be.HOMING:f.ownerId==="player"?Dv(n,f):nh(n,f);break;case Be.EXPLOSIVE:nh(n,f);break;default:_v(n,f);break}})};class Ov{constructor(){this.order=30}render(s){const{cameraPos:o,screenWidth:r,screenHeight:f,zoom:d,projectiles:m,ctx:h,playerStats:y,time:g}=s,b=m.filter(v=>Go(v.pos,o.x,o.y,r,f,300,d));jv(h,b)}}const Uv=new Ov,Bv=(n,s,o)=>{n.save();let r=Math.atan2(s.y,s.x);s.x===0&&s.y===0&&(r=Math.atan2(o.y,o.x)),n.rotate(r+Math.PI);const f=120+Math.random()*40,d=25,m=n.createLinearGradient(0,0,f,0);m.addColorStop(0,"rgba(217, 70, 239, 0.8)"),m.addColorStop(1,"rgba(217, 70, 239, 0)"),n.fillStyle=m,n.beginPath(),n.moveTo(0,-d/2),n.lineTo(f,0),n.lineTo(0,d/2),n.fill(),n.restore()},Hv=(n,s)=>{if(Math.abs(s.x)<=.1&&Math.abs(s.y)<=.1)return;const o=Math.atan2(s.y,s.x);n.save(),n.rotate(o),n.beginPath(),n.strokeStyle="rgba(34, 211, 238, 0.4)",n.lineWidth=2,n.setLineDash([10,10]),n.moveTo(35,0),n.lineTo(250,0),n.stroke(),n.setLineDash([]),n.shadowBlur=10,n.shadowColor="#22d3ee",n.strokeStyle="#22d3ee",n.lineWidth=3,n.beginPath(),n.moveTo(240,-10),n.lineTo(255,0),n.lineTo(240,10),n.stroke(),n.restore()},zv=(n,s,o)=>{if(s.currentShield<1)return;const r=s.currentShield/s.maxShield,f=58*(1+Math.sin(o*.01)*.04);n.strokeStyle=r<.25?`rgba(255, 50, 50, ${.5+Math.sin(o*.02)*.3})`:"rgba(34, 211, 238, 0.6)",n.lineWidth=4,n.shadowBlur=25,n.shadowColor=r<.25?"#ff0000":"#00ffff",n.beginPath(),n.arc(0,0,f,0,Math.PI*2),n.stroke(),r>.1&&(n.globalAlpha=.1,n.fillStyle="#22d3ee",n.beginPath(),n.arc(0,0,f-5,0,Math.PI*2),n.fill(),n.globalAlpha=1)},kv=(n,s)=>{const o=.7+Math.sin(s*.03)*.3,r=70+Math.sin(s*.02)*10,f=n.createRadialGradient(0,0,30,0,0,r);f.addColorStop(0,`rgba(251, 191, 36, ${.4*o})`),f.addColorStop(.5,`rgba(251, 191, 36, ${.2*o})`),f.addColorStop(1,"rgba(251, 191, 36, 0)"),n.fillStyle=f,n.beginPath(),n.arc(0,0,r,0,Math.PI*2),n.fill(),n.strokeStyle=`rgba(251, 191, 36, ${.8*o})`,n.lineWidth=4,n.shadowBlur=30,n.shadowColor="#fbbf24",n.setLineDash([15,10]),n.lineDashOffset=-s*.1,n.beginPath(),n.arc(0,0,50,0,Math.PI*2),n.stroke(),n.setLineDash([]),n.fillStyle="#fbbf24";for(let d=0;d<6;d++){const m=s*.005+d*Math.PI/3,h=55+Math.sin(s*.02+d)*10,y=Math.cos(m)*h,g=Math.sin(m)*h;n.beginPath(),n.arc(y,g,3+Math.sin(s*.03+d)*2,0,Math.PI*2),n.fill()}},Gv=(n,s,o)=>{if(!s&&!o)return;n.fillStyle=o?"#d946ef":"#fff";const r=(15+Math.random()*15)*(o?2:1);n.fillRect(-10,20,5,r),n.fillRect(5,20,5,r)},Yv=(n,s,o)=>{n.shadowBlur=30,n.shadowColor=s,n.fillStyle=o?"#ffffff":s,n.beginPath(),n.moveTo(0,-30),n.lineTo(-25,25),n.lineTo(0,15),n.lineTo(25,25),n.closePath(),n.fill(),n.fillStyle="rgba(0,0,0,0.5)",n.beginPath(),n.ellipse(0,-5,8,12,0,0,Math.PI*2),n.fill()},Iv=(n,s,o,r,f,d,m,h)=>{var U;if(h===_e.DYING)return;const g=d-m<250,b=f.moduleSlots.find(L=>L.type==="AFTERBURNER"),v=b&&d<b.activeUntil,S=Math.abs(o.x)>.1||Math.abs(o.y)>.1;n.save(),n.translate(s.x,s.y),v&&Bv(n,o,r),Hv(n,r),S?n.rotate(Math.atan2(o.y,o.x)+Math.PI/2):(Math.abs(r.x)>.1||Math.abs(r.y)>.1)&&n.rotate(Math.atan2(r.y,r.x)+Math.PI/2);const E=d<f.invulnerableUntil,A=f.invulnerableUntil-d;E&&A>500&&kv(n,d),zv(n,f,d),Gv(n,S,v);const T=((U=Sl.find(L=>L.type===f.shipType))==null?void 0:U.color)||"#22d3ee";Yv(n,T,g),n.restore()};class qv{constructor(){this.order=50}render(s){Iv(s.ctx,s.playerPos,s.joystickDir,s.aimDir,s.playerStats,s.time,s.lastPlayerHitTime,s.gameState)}}const Pv=new qv;class Xv{constructor(){this.renderers=[],this.sorted=!1,this.register(dv),this.register(Lv),this.register(Uv),this.register(mv),this.register(Pv)}register(s){this.renderers.push(s),this.sorted=!1}renderAll(s){this.sorted||(this.renderers.sort((o,r)=>o.order-r.order),this.sorted=!0);for(const o of this.renderers)o.render(s)}}const Vv=new Xv,Kv=(n,s,o,r,f,d,m,h,y,g,b,v,S,E,A)=>{const T=s.width/2,U=s.height/2,L=v-S,I=L<250,G=I?1-L/250:0;if(n.save(),n.translate(T,U),A===_e.DYING)n.translate((Math.random()-.5)*15,(Math.random()-.5)*15);else if(I){const J=G*20;n.translate((Math.random()-.5)*J,(Math.random()-.5)*J)}const F=y.moduleSlots.find(J=>J.type==="AFTERBURNER"),V=F&&v<F.activeUntil?.9:1;n.scale(E*V,E*V),n.translate(-h.x,-h.y),Zv(n);const q={ctx:n,time:v,cameraPos:h,screenWidth:s.width,screenHeight:s.height,zoom:E*V,playerPos:m,playerStats:y,joystickDir:g,aimDir:b,lastPlayerHitTime:S,gameState:A,enemies:o,projectiles:r,pickups:f,particles:d};Vv.renderAll(q),n.restore()};function Zv(n){n.save(),n.strokeStyle="#22d3ee",n.lineWidth=8,n.shadowBlur=30,n.shadowColor="#06b6d4",n.setLineDash([40,20]),n.strokeRect(0,0,Ue,Ue),n.setLineDash([]),n.strokeStyle="rgba(34, 211, 238, 0.15)",n.lineWidth=2,n.shadowBlur=0,n.strokeRect(-15,-15,Ue+30,Ue+30),n.restore()}const Qv=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,Fv=()=>{var qn,Pn,tn,an;const[n,s]=O.useState(_e.START),[o,r]=O.useState(!1),[f,d]=O.useState(wt.STANDARD),[m,h]=O.useState(null),[y,g]=O.useState(Tt.NORMAL),[b,v]=O.useState(!1),[S,E]=O.useState(!1),[A,T]=O.useState(!1),[U,L]=O.useState(!1),[I,G]=O.useState(!1),[F,W]=O.useState(!1),[V,q]=O.useState(!1),[J,Q]=O.useState(!1),[ee,ae]=O.useState(""),[de,ve]=O.useState(null),[Ie,Je]=O.useState(!1),[C,K]=O.useState(()=>{const se=localStorage.getItem("void-arena-data");let fe=se?JSON.parse(se):k0;return fe.settings||(fe.settings={controlScheme:Qv()?je.TWIN_STICK:je.KEYBOARD_MOUSE,zoomLevel:_o,autoShowLevelUp:!0}),fe.equippedModule===void 0&&(fe.equippedModule=we.NONE,fe.unlockedModules=[]),fe.highScores||(fe.highScores=[]),fe}),[ce,Te]=O.useState([]),be=O.useMemo(()=>ov(400),[]);O.useEffect(()=>{be.length>0&&lh.initialize(be,window.innerWidth,window.innerHeight)},[be]);const R=o||b||S||A||U||I||F||V||J,{stats:H,score:Z,playerPosRef:$,cameraPosRef:le,initGame:oe,update:pe,setStats:qe,statsRef:Le,lastPlayerHitTime:da,syncWithPersistentData:Pa,autoAttack:la,setAutoAttack:Ql,enemiesRef:na,projectilesRef:Ml,pickupsRef:Xa,particlesRef:Va,runMetricsRef:Ma,triggerManualLevelUp:Aa,onUpgradeSelected:Al,activateModule:sa,gameTime:Tl}=rv(n,s,C,Te,R,y,f,m),Ve=O.useRef(pe);O.useEffect(()=>{Ve.current=pe},[pe]),O.useEffect(()=>{localStorage.setItem("void-arena-data",JSON.stringify(C))},[C]),O.useEffect(()=>{if(n===_e.PLAYING&&H.currentHealth<=0){s(_e.DYING),Va.current.push({id:"PLAYER_DEATH_BOOM",type:"EXPLOSION",pos:{...$.current},vel:{x:0,y:0},radius:120,color:"#06b6d4",health:1,maxHealth:1,duration:0,maxDuration:2});for(let se=0;se<5;se++)setTimeout(()=>{Va.current.push({id:`PLAYER_DEATH_SUB_${se}`,type:"EXPLOSION",pos:{x:$.current.x+(Math.random()-.5)*60,y:$.current.y+(Math.random()-.5)*60},vel:{x:0,y:0},radius:40+Math.random()*40,color:Math.random()>.5?"#fff":"#facc15",health:1,maxHealth:1,duration:0,maxDuration:.8})},se*200)}},[H.currentHealth,n,$,Va]),O.useEffect(()=>{if(n===_e.DYING){const se=setTimeout(()=>{var Re;const fe=Ma.current,he=fe.shotsFired>0?Math.min(100,fe.shotsHit/fe.shotsFired*100):0;if(f===wt.STANDARD){K(Mt=>({...Mt,credits:Mt.credits+H.credits,currentLevel:H.level,currentXp:H.xp,xpToNextLevel:H.xpToNextLevel,acquiredUpgradeIds:H.acquiredUpgrades.map(Ll=>Ll.id)}));const mt=[...(C.highScores||[]).filter(Mt=>Mt.difficulty===y||!Mt.difficulty&&y===Tt.NORMAL)].sort((Mt,Ll)=>Ll.score-Mt.score);let Et=mt.length<10?mt.filter(Mt=>Mt.score>Z).length+1:Z>((Re=mt[9])==null?void 0:Re.score)?mt.filter(Mt=>Mt.score>Z).length+1:-1;Et!==-1&&Z>0?(ve({score:Z,rank:Et,accuracy:he,kills:fe.enemiesKilled,credits:fe.creditsEarned,survivalTime:Tl}),ae(`Pilot-${Math.floor(Math.random()*1e3)}`),Je(!1)):(ve(null),Je(!0))}s(_e.GAMEOVER)},2500);return()=>clearTimeout(se)}},[n,Z,y,H,f,Tl,C.highScores,Ma]);const Pe=()=>{if(!de)return;const se={name:ee.substring(0,12).toUpperCase()||"UNKNOWN",score:de.score,date:Date.now(),ship:H.shipType,difficulty:y,accuracy:de.accuracy,enemiesKilled:de.kills,creditsEarned:de.credits,survivalTime:de.survivalTime};K(fe=>({...fe,highScores:[...fe.highScores||[],se].sort((he,Re)=>Re.score-he.score)})),Je(!0)},Xt=O.useRef(null),Rt=O.useRef(0),xt=O.useRef(0),et=O.useRef(new Set),Rl=O.useRef({x:window.innerWidth/2,y:window.innerHeight/2}),Ka=O.useRef(!1),Za=O.useRef(C),Fl=O.useRef(o),ia=O.useRef(n),lt=O.useRef(la),ht=O.useRef(R);O.useEffect(()=>{Za.current=C},[C]),O.useEffect(()=>{Fl.current=o},[o]),O.useEffect(()=>{ia.current=n},[n]),O.useEffect(()=>{lt.current=la},[la]),O.useEffect(()=>{ht.current=R},[R]);const ut=O.useCallback(se=>{var Xn,Qa;xt.current||(xt.current=se);const fe=Math.max(0,Math.min(.05,(se-xt.current)/1e3));xt.current=se;const he=Xt.current;if(!he){Rt.current=requestAnimationFrame(ut);return}he.width!==window.innerWidth&&(he.width=window.innerWidth),he.height!==window.innerHeight&&(he.height=window.innerHeight);const Re=he.getContext("2d",{alpha:!1});if(!Re){Rt.current=requestAnimationFrame(ut);return}const Ke=((Xn=Za.current.settings)==null?void 0:Xn.controlScheme)||je.KEYBOARD_MOUSE,mt=((Qa=Za.current.settings)==null?void 0:Qa.zoomLevel)||_o,Et=Fl.current||ht.current,Mt=ia.current,Ll=lt.current;if(Ke===je.KEYBOARD_MOUSE&&!Et&&Mt===_e.PLAYING){let ca=0,Vt=0;(et.current.has("KeyW")||et.current.has("ArrowUp"))&&(Vt-=1),(et.current.has("KeyS")||et.current.has("ArrowDown"))&&(Vt+=1),(et.current.has("KeyA")||et.current.has("ArrowLeft"))&&(ca-=1),(et.current.has("KeyD")||et.current.has("ArrowRight"))&&(ca+=1),(et.current.has("Digit1")||et.current.has("Space"))&&sa(0),et.current.has("Digit2")&&sa(1),et.current.has("Digit3")&&sa(2);const ha=Math.sqrt(ca*ca+Vt*Vt);Ut.setMovement(ha>0?{x:ca/ha,y:Vt/ha}:{x:0,y:0});const Cl=window.innerWidth/2,Fa=window.innerHeight/2,nt=Cl+($.current.x-le.current.x)*mt,Xs=Fa+($.current.y-le.current.y)*mt,ln=Rl.current.x-nt,ra=Rl.current.y-Xs,ma=Math.sqrt(ln*ln+ra*ra);ma>0&&Ut.setAim({x:ln/ma,y:ra/ma}),Ut.setFire(Ka.current||Ll)}else(Ke===je.TWIN_STICK||Ke===je.TAP_TO_AIM)&&!Et&&Ut.setFire(!0);try{Ve.current(se,fe)}catch(ca){console.error("Game Loop Error:",ca)}Re.fillStyle="#0a0a10",Re.fillRect(0,0,he.width,he.height),lh.draw(Re,he.width,he.height,he.width/2-le.current.x,he.height/2-le.current.y),Kv(Re,he,na.current,Ml.current,Xa.current,Va.current,$.current,le.current,Le.current,Ut.getMovement(),Ut.getAim(),se,da.current,mt,Mt),Rt.current=requestAnimationFrame(ut)},[be,sa]);O.useEffect(()=>{const se=()=>{Xt.current&&(Xt.current.width=window.innerWidth,Xt.current.height=window.innerHeight)};window.addEventListener("resize",se),se();const fe=Et=>et.current.add(Et.code),he=Et=>et.current.delete(Et.code),Re=Et=>{Rl.current={x:Et.clientX,y:Et.clientY}},Ke=()=>{Ka.current=!0},mt=()=>{Ka.current=!1};return window.addEventListener("keydown",fe),window.addEventListener("keyup",he),window.addEventListener("mousemove",Re),window.addEventListener("mousedown",Ke),window.addEventListener("mouseup",mt),xt.current=performance.now(),Rt.current=requestAnimationFrame(ut),()=>{window.removeEventListener("resize",se),window.removeEventListener("keydown",fe),window.removeEventListener("keyup",he),window.removeEventListener("mousemove",Re),window.removeEventListener("mousedown",Ke),window.removeEventListener("mouseup",mt),Rt.current&&cancelAnimationFrame(Rt.current)}},[ut]);const cc=(se,fe)=>{fe>0&&qe(he=>({...he,credits:Math.max(0,he.credits-fe)})),K(se),(n===_e.PLAYING||n===_e.LEVELING)&&Pa(se)},rc=()=>{f===wt.STANDARD&&K(se=>({...se,credits:se.credits+H.credits,currentLevel:H.level,currentXp:H.xp,xpToNextLevel:H.xpToNextLevel,acquiredUpgradeIds:H.acquiredUpgrades.map(fe=>fe.id)})),s(_e.START),r(!1)},oc=()=>{K({...k0,settings:C.settings}),s(_e.START),r(!1),T(!1)},Jl=()=>{d(wt.STANDARD),h(null),oe(wt.STANDARD)},Wl=se=>{d(wt.DEBUG),h(se),Q(!1),oe(wt.DEBUG)},Ht=O.useRef(null),St=O.useCallback((se,fe)=>{const he=se-window.innerWidth/2,Re=fe-window.innerHeight/2,Ke=Math.sqrt(he*he+Re*Re);Ke>0&&Ut.setAim({x:he/Ke,y:Re/Ke})},[]),$l=O.useCallback(se=>{var fe;((fe=C.settings)==null?void 0:fe.controlScheme)!==je.TWIN_STICK&&(Ht.current=se.changedTouches[0].identifier,St(se.changedTouches[0].clientX,se.changedTouches[0].clientY))},[C.settings,St]),Nl=O.useCallback(se=>{var fe;if(((fe=C.settings)==null?void 0:fe.controlScheme)!==je.TWIN_STICK){for(let he=0;he<se.changedTouches.length;he++)if(se.changedTouches[he].identifier===Ht.current){St(se.changedTouches[he].clientX,se.changedTouches[he].clientY);break}}},[C.settings,St]),uc=O.useCallback(se=>{var fe;if(((fe=C.settings)==null?void 0:fe.controlScheme)!==je.TWIN_STICK){for(let he=0;he<se.changedTouches.length;he++)if(se.changedTouches[he].identifier===Ht.current){Ht.current=null,Ut.setAim({x:0,y:0});break}}},[C.settings]),qs=O.useCallback(se=>{var fe;((fe=C.settings)==null?void 0:fe.controlScheme)===je.TAP_TO_AIM&&(Ht.current=999,St(se.clientX,se.clientY))},[C.settings,St]),In=O.useCallback(se=>{var fe;((fe=C.settings)==null?void 0:fe.controlScheme)===je.TAP_TO_AIM&&Ht.current===999&&St(se.clientX,se.clientY)},[C.settings,St]),wl=O.useCallback(()=>{var se;((se=C.settings)==null?void 0:se.controlScheme)===je.TAP_TO_AIM&&Ht.current===999&&(Ht.current=null,Ut.setAim({x:0,y:0}))},[C.settings]),en=((qn=C.settings)==null?void 0:qn.controlScheme)||je.TWIN_STICK,Ps=C.credits+(n===_e.PLAYING?H.credits:0);return u.jsxs("div",{className:"relative w-full h-[100dvh] overflow-hidden bg-slate-950 font-sans select-none touch-none",children:[u.jsx("canvas",{ref:Xt,className:"absolute inset-0"}),n===_e.START&&u.jsx(_g,{bestScore:((tn=(Pn=C.highScores)==null?void 0:Pn[0])==null?void 0:tn.score)||0,credits:C.credits,currentRank:C.currentLevel||1,selectedDifficulty:y,onSelectDifficulty:g,onStartMission:Jl,onOpenGarage:()=>v(!0),onOpenDebug:()=>Q(!0),onOpenSettings:()=>T(!0),onOpenGuide:()=>L(!0),onOpenCheats:()=>G(!0),onOpenLeaderboard:()=>W(!0)}),o&&u.jsx(jg,{onResume:()=>r(!1),onOpenGarage:()=>{v(!0),r(!1)},onOpenStats:()=>q(!0),onOpenManifest:()=>E(!0),onOpenGuide:()=>L(!0),onOpenSettings:()=>T(!0),onOpenCheats:()=>G(!0),onSaveAndExit:rc}),J&&u.jsx(Rg,{onStart:Wl,onClose:()=>Q(!1)}),F&&u.jsx(Eg,{scores:C.highScores||[],onClose:()=>W(!1)}),A&&u.jsx(vg,{data:C,onUpdate:K,onReset:oc,onClose:()=>T(!1)}),U&&u.jsx(bg,{onClose:()=>L(!1)}),I&&u.jsx(Sg,{data:C,onUpdate:K,onClose:()=>G(!1)}),b&&u.jsx(gg,{data:C,sessionCredits:n===_e.PLAYING?H.credits:0,onUpdate:cc,onApplyEffect:qe,onClose:()=>v(!1)}),S&&u.jsx(yg,{acquired:H.acquiredUpgrades,onClose:()=>E(!1)}),V&&u.jsx(Tg,{stats:H,onClose:()=>q(!1)}),n===_e.GAMEOVER&&u.jsx(Ug,{score:Z,gameMode:f,pendingHighScore:de,hasSubmittedScore:Ie,newHighScoreName:ee,onNameChange:ae,onSubmitScore:Pe,runMetrics:Ma.current,gameTime:Tl,stats:H,onReturnToBase:()=>s(_e.START)}),(n===_e.PLAYING||n===_e.LEVELING||n===_e.DYING)&&!R&&u.jsxs(u.Fragment,{children:[en===je.TAP_TO_AIM&&u.jsx("div",{className:"absolute inset-0 z-30 touch-none cursor-crosshair",onTouchStart:$l,onTouchMove:Nl,onTouchEnd:uc,onMouseDown:qs,onMouseMove:In,onMouseUp:wl}),en===je.TWIN_STICK&&u.jsx(P0,{className:"absolute left-0 bottom-0 w-1/2 h-[60%] z-40",onMove:se=>{Ut.setAim(se)}}),(en===je.TWIN_STICK||en===je.TAP_TO_AIM)&&u.jsx(P0,{className:"absolute right-0 bottom-0 w-1/2 h-[60%] z-40",onMove:se=>{Ut.setMovement(se)}}),n!==_e.DYING&&u.jsx(ag,{stats:H,score:Z,autoAttack:la,setAutoAttack:Ql,totalCredits:Ps,onPause:()=>r(!0),onShowUpgrades:()=>E(!0),onOpenGarage:()=>v(!0),onLevelClick:Aa,onActivateModule:sa}),u.jsx(dh,{enabled:((an=C.settings)==null?void 0:an.showDpsMeter)??!1}),n===_e.LEVELING&&u.jsx(lg,{upgrades:ce,onSelect:Al})]})]})},vh=document.getElementById("root");if(!vh)throw new Error("Could not find root element to mount to");const Jv=zp.createRoot(vh);Jv.render(u.jsx(ih.StrictMode,{children:u.jsx(Fv,{})}));
