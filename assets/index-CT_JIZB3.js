(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function uh(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ro={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function Yp(){if(j0)return Bs;j0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(r,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:s,type:r,key:h,ref:u!==void 0?u:null,props:d}}return Bs.Fragment=n,Bs.jsx=o,Bs.jsxs=o,Bs}var U0;function Pp(){return U0||(U0=1,Ro.exports=Yp()),Ro.exports}var f=Pp(),No={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function qp(){if(B0)return ge;B0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function E(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function w(R,z,W){this.props=R,this.context=z,this.refs=L,this.updater=W||M}w.prototype.isReactComponent={},w.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function I(){}I.prototype=w.prototype;function H(R,z,W){this.props=R,this.context=z,this.refs=L,this.updater=W||M}var F=H.prototype=new I;F.constructor=H,T(F,w.prototype),F.isPureReactComponent=!0;var Q=Array.isArray;function P(){}var X={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function ee(R,z,W){var te=W.ref;return{$$typeof:s,type:R,key:z,ref:te!==void 0?te:null,props:W}}function ae(R,z){return ee(R.type,z,R.props)}function K(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function ce(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return z[W]})}var me=/\/+/g;function Te(R,z){return typeof R=="object"&&R!==null&&R.key!=null?ce(""+R.key):z.toString(36)}function Ge(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,z,W,te,ne){var he=typeof R;(he==="undefined"||he==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case s:case n:ye=!0;break;case v:return ye=R._init,O(ye(R._payload),z,W,te,ne)}}if(ye)return ne=ne(R),ye=te===""?"."+Te(R,0):te,Q(ne)?(W="",ye!=null&&(W=ye.replace(me,"$&/")+"/"),O(ne,z,W,"",function(da){return da})):ne!=null&&(K(ne)&&(ne=ae(ne,W+(ne.key==null||R&&R.key===ne.key?"":(""+ne.key).replace(me,"$&/")+"/")+ye)),z.push(ne)),1;ye=0;var qe=te===""?".":te+":";if(Q(R))for(var Le=0;Le<R.length;Le++)te=R[Le],he=qe+Te(te,Le),ye+=O(te,z,W,he,ne);else if(Le=E(R),typeof Le=="function")for(R=Le.call(R),Le=0;!(te=R.next()).done;)te=te.value,he=qe+Te(te,Le++),ye+=O(te,z,W,he,ne);else if(he==="object"){if(typeof R.then=="function")return O(Ge(R),z,W,te,ne);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(R,z,W){if(R==null)return R;var te=[],ne=0;return O(R,te,"","",function(he){return z.call(W,he,ne++)}),te}function se(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var Se=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},fe={map:Z,forEach:function(R,z,W){Z(R,function(){z.apply(this,arguments)},W)},count:function(R){var z=0;return Z(R,function(){z++}),z},toArray:function(R){return Z(R,function(z){return z})||[]},only:function(R){if(!K(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ge.Activity=b,ge.Children=fe,ge.Component=w,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=H,ge.StrictMode=r,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return X.H.useMemoCache(R)}},ge.cache=function(R){return function(){return R.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(R,z,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=T({},R.props),ne=R.key;if(z!=null)for(he in z.key!==void 0&&(ne=""+z.key),z)!$.call(z,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&z.ref===void 0||(te[he]=z[he]);var he=arguments.length-2;if(he===1)te.children=W;else if(1<he){for(var ye=Array(he),qe=0;qe<he;qe++)ye[qe]=arguments[qe+2];te.children=ye}return ee(R.type,ne,te)},ge.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},ge.createElement=function(R,z,W){var te,ne={},he=null;if(z!=null)for(te in z.key!==void 0&&(he=""+z.key),z)$.call(z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ne[te]=z[te]);var ye=arguments.length-2;if(ye===1)ne.children=W;else if(1<ye){for(var qe=Array(ye),Le=0;Le<ye;Le++)qe[Le]=arguments[Le+2];ne.children=qe}if(R&&R.defaultProps)for(te in ye=R.defaultProps,ye)ne[te]===void 0&&(ne[te]=ye[te]);return ee(R,he,ne)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(R){return{$$typeof:p,render:R}},ge.isValidElement=K,ge.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:se}},ge.memo=function(R,z){return{$$typeof:m,type:R,compare:z===void 0?null:z}},ge.startTransition=function(R){var z=X.T,W={};X.T=W;try{var te=R(),ne=X.S;ne!==null&&ne(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(P,Se)}catch(he){Se(he)}finally{z!==null&&W.types!==null&&(z.types=W.types),X.T=z}},ge.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ge.use=function(R){return X.H.use(R)},ge.useActionState=function(R,z,W){return X.H.useActionState(R,z,W)},ge.useCallback=function(R,z){return X.H.useCallback(R,z)},ge.useContext=function(R){return X.H.useContext(R)},ge.useDebugValue=function(){},ge.useDeferredValue=function(R,z){return X.H.useDeferredValue(R,z)},ge.useEffect=function(R,z){return X.H.useEffect(R,z)},ge.useEffectEvent=function(R){return X.H.useEffectEvent(R)},ge.useId=function(){return X.H.useId()},ge.useImperativeHandle=function(R,z,W){return X.H.useImperativeHandle(R,z,W)},ge.useInsertionEffect=function(R,z){return X.H.useInsertionEffect(R,z)},ge.useLayoutEffect=function(R,z){return X.H.useLayoutEffect(R,z)},ge.useMemo=function(R,z){return X.H.useMemo(R,z)},ge.useOptimistic=function(R,z){return X.H.useOptimistic(R,z)},ge.useReducer=function(R,z,W){return X.H.useReducer(R,z,W)},ge.useRef=function(R){return X.H.useRef(R)},ge.useState=function(R){return X.H.useState(R)},ge.useSyncExternalStore=function(R,z,W){return X.H.useSyncExternalStore(R,z,W)},ge.useTransition=function(){return X.H.useTransition()},ge.version="19.2.3",ge}var H0;function Io(){return H0||(H0=1,No.exports=qp()),No.exports}var U=Io();const dr=uh(U);var wo={exports:{}},Hs={},Lo={exports:{}},Co={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Vp(){return z0||(z0=1,(function(s){function n(O,Z){var se=O.length;O.push(Z);e:for(;0<se;){var Se=se-1>>>1,fe=O[Se];if(0<u(fe,Z))O[Se]=Z,O[se]=fe,se=Se;else break e}}function o(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Z=O[0],se=O.pop();if(se!==Z){O[0]=se;e:for(var Se=0,fe=O.length,R=fe>>>1;Se<R;){var z=2*(Se+1)-1,W=O[z],te=z+1,ne=O[te];if(0>u(W,se))te<fe&&0>u(ne,W)?(O[Se]=ne,O[te]=se,Se=te):(O[Se]=W,O[z]=se,Se=z);else if(te<fe&&0>u(ne,se))O[Se]=ne,O[te]=se,Se=te;else break e}}return Z}function u(O,Z){var se=O.sortIndex-Z.sortIndex;return se!==0?se:O.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var y=[],m=[],v=1,b=null,x=3,E=!1,M=!1,T=!1,L=!1,w=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(O){for(var Z=o(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=O)r(m),Z.sortIndex=Z.expirationTime,n(y,Z);else break;Z=o(m)}}function Q(O){if(T=!1,F(O),!M)if(o(y)!==null)M=!0,P||(P=!0,ce());else{var Z=o(m);Z!==null&&Ge(Q,Z.startTime-O)}}var P=!1,X=-1,$=5,ee=-1;function ae(){return L?!0:!(s.unstable_now()-ee<$)}function K(){if(L=!1,P){var O=s.unstable_now();ee=O;var Z=!0;try{e:{M=!1,T&&(T=!1,I(X),X=-1),E=!0;var se=x;try{t:{for(F(O),b=o(y);b!==null&&!(b.expirationTime>O&&ae());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,x=b.priorityLevel;var fe=Se(b.expirationTime<=O);if(O=s.unstable_now(),typeof fe=="function"){b.callback=fe,F(O),Z=!0;break t}b===o(y)&&r(y),F(O)}else r(y);b=o(y)}if(b!==null)Z=!0;else{var R=o(m);R!==null&&Ge(Q,R.startTime-O),Z=!1}}break e}finally{b=null,x=se,E=!1}Z=void 0}}finally{Z?ce():P=!1}}}var ce;if(typeof H=="function")ce=function(){H(K)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=K,ce=function(){Te.postMessage(null)}}else ce=function(){w(K,0)};function Ge(O,Z){X=w(function(){O(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(O){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var se=x;x=Z;try{return O()}finally{x=se}},s.unstable_requestPaint=function(){L=!0},s.unstable_runWithPriority=function(O,Z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var se=x;x=O;try{return Z()}finally{x=se}},s.unstable_scheduleCallback=function(O,Z,se){var Se=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Se+se:Se):se=Se,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=se+fe,O={id:v++,callback:Z,priorityLevel:O,startTime:se,expirationTime:fe,sortIndex:-1},se>Se?(O.sortIndex=se,n(m,O),o(y)===null&&O===o(m)&&(T?(I(X),X=-1):T=!0,Ge(Q,se-Se))):(O.sortIndex=fe,n(y,O),M||E||(M=!0,P||(P=!0,ce()))),O},s.unstable_shouldYield=ae,s.unstable_wrapCallback=function(O){var Z=x;return function(){var se=x;x=Z;try{return O.apply(this,arguments)}finally{x=se}}}})(Co)),Co}var k0;function Xp(){return k0||(k0=1,Lo.exports=Vp()),Lo.exports}var Do={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function Kp(){if(G0)return Et;G0=1;var s=Io();function n(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:y,containerInfo:m,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Et.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return d(y,m,null,v)},Et.flushSync=function(y){var m=h.T,v=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=m,r.p=v,r.d.f()}},Et.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},Et.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Et.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,b=p(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:E}):v==="script"&&r.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},Et.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=p(v,m.crossOrigin);r.d.L(y,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},Et.requestFormReset=function(y){r.d.r(y)},Et.unstable_batchedUpdates=function(y,m){return y(m)},Et.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},Et.useFormStatus=function(){return h.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var I0;function Zp(){if(I0)return Do.exports;I0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Do.exports=Kp(),Do.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Qp(){if(Y0)return Hs;Y0=1;var s=Xp(),n=Io(),o=Zp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(r(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var c=i.alternate;if(c===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===a)return y(i),e;if(c===l)return y(i),t;c=c.sibling}throw Error(r(188))}if(a.return!==l.return)a=i,l=c;else{for(var g=!1,S=i.child;S;){if(S===a){g=!0,a=i,l=c;break}if(S===l){g=!0,l=i,a=c;break}S=S.sibling}if(!g){for(S=c.child;S;){if(S===a){g=!0,a=c,l=i;break}if(S===l){g=!0,l=c,a=i;break}S=S.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function Te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case w:return"Profiler";case L:return"StrictMode";case Q:return"Suspense";case P:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case H:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:Te(e.type)||"Memo";case $:t=e._payload,e=e._init;try{return Te(e(t))}catch{}}return null}var Ge=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Se=[],fe=-1;function R(e){return{current:e}}function z(e){0>fe||(e.current=Se[fe],Se[fe]=null,fe--)}function W(e,t){fe++,Se[fe]=e.current,e.current=t}var te=R(null),ne=R(null),he=R(null),ye=R(null);function qe(e,t){switch(W(he,t),W(ne,e),W(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?l0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=l0(t),e=n0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(te),W(te,e)}function Le(){z(te),z(ne),z(he)}function da(e){e.memoizedState!==null&&W(ye,e);var t=te.current,a=n0(t,e.type);t!==a&&(W(ne,e),W(te,a))}function Va(e){ne.current===e&&(z(te),z(ne)),ye.current===e&&(z(ye),Os._currentValue=se)}var sa,Fl;function Xt(e){if(sa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);sa=t&&t[1]||"",Fl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+Fl}var Tl=!1;function Ea(e,t){if(!e||Tl)return"";Tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(k){var B=k}Reflect.construct(e,[],V)}else{try{V.call()}catch(k){B=k}e.call(V.prototype)}}else{try{throw Error()}catch(k){B=k}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),g=c[0],S=c[1];if(g&&S){var A=g.split(`
`),j=S.split(`
`);for(i=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;i<j.length&&!j[i].includes("DetermineComponentFrameRoot");)i++;if(l===A.length||i===j.length)for(l=A.length-1,i=j.length-1;1<=l&&0<=i&&A[l]!==j[i];)i--;for(;1<=l&&0<=i;l--,i--)if(A[l]!==j[i]){if(l!==1||i!==1)do if(l--,i--,0>i||A[l]!==j[i]){var Y=`
`+A[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=i);break}}}finally{Tl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xt(a):""}function Xa(e,t){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==t&&t!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return Ea(e.type,!1);case 11:return Ea(e.type.render,!1);case 1:return Ea(e.type,!0);case 31:return Xt("Activity");default:return""}}function Ma(e){try{var t="",a=null;do t+=Xa(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ta=Object.prototype.hasOwnProperty,Al=s.unstable_scheduleCallback,ia=s.unstable_cancelCallback,Rl=s.unstable_shouldYield,Ke=s.unstable_requestPaint,Ve=s.unstable_now,Kt=s.unstable_getCurrentPriorityLevel,Tt=s.unstable_ImmediatePriority,vt=s.unstable_UserBlockingPriority,$e=s.unstable_NormalPriority,Nl=s.unstable_LowPriority,Ka=s.unstable_IdlePriority,Za=s.log,Wl=s.unstable_setDisableYieldValue,ra=null,at=null;function dt(e){if(typeof Za=="function"&&Wl(e),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(ra,e)}catch{}}var ot=Math.clz32?Math.clz32:gr,mr=Math.log,pr=Math.LN2;function gr(e){return e>>>=0,e===0?32:31-(mr(e)/pr|0)|0}var Jl=256,$l=262144,zt=4194304;function St(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function en(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~c,l!==0?i=St(l):(g&=S,g!==0?i=St(g):a||(a=S&~e,a!==0&&(i=St(a))))):(S=l&~c,S!==0?i=St(S):g!==0?i=St(g):a||(a=l&~e,a!==0&&(i=St(a)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:i}function wl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var e=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),e}function qn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tn(e,t,a,l,i,c){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,j=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-ot(a),V=1<<Y;S[Y]=0,A[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var k=B[Y];k!==null&&(k.lane&=-536870913)}a&=~V}l!==0&&Zs(e,l,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~t))}function Zs(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Vn(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ot(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function Xn(e,t){var a=t&-t;return a=(a&42)!==0?1:an(a),(a&(e.suspendedLanes|t))!==0?0:a}function an(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ln(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kn(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:N0(e.type))}function re(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var de=Math.random().toString(36).slice(2),oe="__reactFiber$"+de,Ce="__reactProps$"+de,ht="__reactContainer$"+de,At="__reactEvents$"+de,Lt="__reactListeners$"+de,xt="__reactHandles$"+de,Qa="__reactResources$"+de,Fa="__reactMarker$"+de;function nn(e){delete e[oe],delete e[Ce],delete e[At],delete e[Lt],delete e[xt]}function Ct(e){var t=e[oe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ht]||a[oe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=f0(e);e!==null;){if(a=e[oe])return a;e=f0(e)}return t}e=a,a=e.parentNode}return null}function Zt(e){if(e=e[oe]||e[ht]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Aa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Wa(e){var t=e[Qa];return t||(t=e[Qa]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[Fa]=!0}var Qs=new Set,Fs={};function ca(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(Fs[e]=t,e=0;e<t.length;e++)Qs.add(t[e])}var Zn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Ko={};function jh(e){return Ta.call(Ko,e)?!0:Ta.call(Xo,e)?!1:Zn.test(e)?Ko[e]=!0:(Xo[e]=!0,!1)}function Ws(e,t,a){if(jh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Js(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ra(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(g){a=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function br(e){if(!e._valueTracker){var t=Zo(e)?"checked":"value";e._valueTracker=Uh(e,t,""+e[t])}}function Qo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Zo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bh=/[\n"\\]/g;function Ft(e){return e.replace(Bh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vr(e,t,a,l,i,c,g,S){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Sr(e,g,Qt(t)):a!=null?Sr(e,g,Qt(a)):l!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Qt(S):e.removeAttribute("name")}function Fo(e,t,a,l,i,c,g,S){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){br(e);return}a=a!=null?""+Qt(a):"",t=t!=null?""+Qt(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),br(e)}function Sr(e,t,a){t==="number"&&$s(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function sn(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Qt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wo(e,t,a){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Qt(a):""}function Jo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Qt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),br(e)}function rn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Hh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function eu(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&$o(e,i,l)}else for(var c in t)t.hasOwnProperty(c)&&$o(e,c,t[c])}function xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return kh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Na(){}var Er=null;function Mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cn=null,on=null;function tu(e){var t=Zt(e);if(t&&(e=t.stateNode)){var a=e[Ce]||null;e:switch(e=t.stateNode,t.type){case"input":if(vr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[Ce]||null;if(!i)throw Error(r(90));vr(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Qo(l)}break e;case"textarea":Wo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&sn(e,!!a.multiple,t,!1)}}}var Tr=!1;function au(e,t,a){if(Tr)return e(t,a);Tr=!0;try{var l=e(t);return l}finally{if(Tr=!1,(cn!==null||on!==null)&&(Ii(),cn&&(t=cn,e=on,on=cn=null,tu(t),e)))for(t=0;t<e.length;t++)tu(e[t])}}function Qn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Ce]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(wa)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ar=!1}var Ja=null,Rr=null,ti=null;function lu(){if(ti)return ti;var e,t=Rr,a=t.length,l,i="value"in Ja?Ja.value:Ja.textContent,c=i.length;for(e=0;e<a&&t[e]===i[e];e++);var g=a-e;for(l=1;l<=g&&t[a-l]===i[c-l];l++);return ti=i.slice(e,1<l?1-l:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function li(){return!0}function nu(){return!1}function Dt(e){function t(a,l,i,c,g){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(c):c[S]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?li:nu,this.isPropagationStopped=nu,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),t}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=Dt(Cl),Wn=b({},Cl,{view:0,detail:0}),Gh=Dt(Wn),Nr,wr,Jn,si=b({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(Nr=e.screenX-Jn.screenX,wr=e.screenY-Jn.screenY):wr=Nr=0,Jn=e),Nr)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),su=Dt(si),Ih=b({},si,{dataTransfer:0}),Yh=Dt(Ih),Ph=b({},Wn,{relatedTarget:0}),Lr=Dt(Ph),qh=b({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),Vh=Dt(qh),Xh=b({},Cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kh=Dt(Xh),Zh=b({},Cl,{data:0}),iu=Dt(Zh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wh[e])?!!t[e]:!1}function Cr(){return Jh}var $h=b({},Wn,{key:function(e){if(e.key){var t=Qh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=Dt($h),tm=b({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Dt(tm),am=b({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),lm=Dt(am),nm=b({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=Dt(nm),im=b({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rm=Dt(im),cm=b({},Cl,{newState:0,oldState:0}),om=Dt(cm),um=[9,13,27,32],Dr=wa&&"CompositionEvent"in window,$n=null;wa&&"documentMode"in document&&($n=document.documentMode);var fm=wa&&"TextEvent"in window&&!$n,cu=wa&&(!Dr||$n&&8<$n&&11>=$n),ou=" ",uu=!1;function fu(e,t){switch(e){case"keyup":return um.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var un=!1;function dm(e,t){switch(e){case"compositionend":return du(t);case"keypress":return t.which!==32?null:(uu=!0,ou);case"textInput":return e=t.data,e===ou&&uu?null:e;default:return null}}function hm(e,t){if(un)return e==="compositionend"||!Dr&&fu(e,t)?(e=lu(),ti=Rr=Ja=null,un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cu&&t.locale!=="ko"?null:t.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mm[e.type]:t==="textarea"}function mu(e,t,a,l){cn?on?on.push(l):on=[l]:cn=l,t=Zi(t,"onChange"),0<t.length&&(a=new ni("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var es=null,ts=null;function pm(e){Wd(e,0)}function ii(e){var t=Aa(e);if(Qo(t))return e}function pu(e,t){if(e==="change")return t}var gu=!1;if(wa){var Or;if(wa){var _r="oninput"in document;if(!_r){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),_r=typeof yu.oninput=="function"}Or=_r}else Or=!1;gu=Or&&(!document.documentMode||9<document.documentMode)}function bu(){es&&(es.detachEvent("onpropertychange",vu),ts=es=null)}function vu(e){if(e.propertyName==="value"&&ii(ts)){var t=[];mu(t,ts,e,Mr(e)),au(pm,t)}}function gm(e,t,a){e==="focusin"?(bu(),es=t,ts=a,es.attachEvent("onpropertychange",vu)):e==="focusout"&&bu()}function ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ts)}function bm(e,t){if(e==="click")return ii(t)}function vm(e,t){if(e==="input"||e==="change")return ii(t)}function Sm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Sm;function as(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!Ta.call(t,i)||!kt(e[i],t[i]))return!1}return!0}function Su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xu(e,t){var a=Su(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Su(a)}}function Eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$s(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$s(e.document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xm=wa&&"documentMode"in document&&11>=document.documentMode,fn=null,Ur=null,ls=null,Br=!1;function Tu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Br||fn==null||fn!==$s(l)||(l=fn,"selectionStart"in l&&jr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ls&&as(ls,l)||(ls=l,l=Zi(Ur,"onSelect"),0<l.length&&(t=new ni("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=fn)))}function Dl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var dn={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionrun:Dl("Transition","TransitionRun"),transitionstart:Dl("Transition","TransitionStart"),transitioncancel:Dl("Transition","TransitionCancel"),transitionend:Dl("Transition","TransitionEnd")},Hr={},Au={};wa&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Ol(e){if(Hr[e])return Hr[e];if(!dn[e])return e;var t=dn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Au)return Hr[e]=t[a];return e}var Ru=Ol("animationend"),Nu=Ol("animationiteration"),wu=Ol("animationstart"),Em=Ol("transitionrun"),Mm=Ol("transitionstart"),Tm=Ol("transitioncancel"),Lu=Ol("transitionend"),Cu=new Map,zr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zr.push("scrollEnd");function oa(e,t){Cu.set(e,t),ca(t,[e])}var ri=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],hn=0,kr=0;function ci(){for(var e=hn,t=kr=hn=0;t<e;){var a=Wt[t];Wt[t++]=null;var l=Wt[t];Wt[t++]=null;var i=Wt[t];Wt[t++]=null;var c=Wt[t];if(Wt[t++]=null,l!==null&&i!==null){var g=l.pending;g===null?i.next=i:(i.next=g.next,g.next=i),l.pending=i}c!==0&&Du(a,i,c)}}function oi(e,t,a,l){Wt[hn++]=e,Wt[hn++]=t,Wt[hn++]=a,Wt[hn++]=l,kr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gr(e,t,a,l){return oi(e,t,a,l),ui(e)}function _l(e,t){return oi(e,null,null,t),ui(e)}function Du(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,c=e.return;c!==null;)c.childLanes|=a,l=c.alternate,l!==null&&(l.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-ot(a),e=c.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),c):null}function ui(e){if(50<As)throw As=0,Qc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mn={};function Am(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,a,l){return new Am(e,t,a,l)}function Ir(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,t){var a=e.alternate;return a===null?(a=Gt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ou(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fi(e,t,a,l,i,c){var g=0;if(l=e,typeof e=="function")Ir(e)&&(g=1);else if(typeof e=="string")g=Cp(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Gt(31,a,t,i),e.elementType=ee,e.lanes=c,e;case T:return jl(a.children,i,c,t);case L:g=8,i|=24;break;case w:return e=Gt(12,a,t,i|2),e.elementType=w,e.lanes=c,e;case Q:return e=Gt(13,a,t,i),e.elementType=Q,e.lanes=c,e;case P:return e=Gt(19,a,t,i),e.elementType=P,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:g=10;break e;case I:g=9;break e;case F:g=11;break e;case X:g=14;break e;case $:g=16,l=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Gt(g,a,t,i),t.elementType=e,t.type=l,t.lanes=c,t}function jl(e,t,a,l){return e=Gt(7,e,l,t),e.lanes=a,e}function Yr(e,t,a){return e=Gt(6,e,null,t),e.lanes=a,e}function _u(e){var t=Gt(18,null,null,0);return t.stateNode=e,t}function Pr(e,t,a){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ju=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var a=ju.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ma(t)},ju.set(e,t),t)}return{value:e,source:t,stack:Ma(t)}}var pn=[],gn=0,di=null,ns=0,$t=[],ea=0,$a=null,ma=1,pa="";function Ca(e,t){pn[gn++]=ns,pn[gn++]=di,di=e,ns=t}function Uu(e,t,a){$t[ea++]=ma,$t[ea++]=pa,$t[ea++]=$a,$a=e;var l=ma;e=pa;var i=32-ot(l)-1;l&=~(1<<i),a+=1;var c=32-ot(t)+i;if(30<c){var g=i-i%5;c=(l&(1<<g)-1).toString(32),l>>=g,i-=g,ma=1<<32-ot(t)+i|a<<i|l,pa=c+e}else ma=1<<c|a<<i|l,pa=e}function qr(e){e.return!==null&&(Ca(e,1),Uu(e,1,0))}function Vr(e){for(;e===di;)di=pn[--gn],pn[gn]=null,ns=pn[--gn],pn[gn]=null;for(;e===$a;)$a=$t[--ea],$t[ea]=null,pa=$t[--ea],$t[ea]=null,ma=$t[--ea],$t[ea]=null}function Bu(e,t){$t[ea++]=ma,$t[ea++]=pa,$t[ea++]=$a,ma=t.id,pa=t.overflow,$a=e}var pt=null,Ze=null,Ne=!1,el=null,ta=!1,Xr=Error(r(519));function tl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ss(Jt(t,e)),Xr}function Hu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[oe]=e,t[Ce]=l,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<Ns.length;a++)Ee(Ns[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Fo(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Jo(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||t0(t.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=Na),t=!0):t=!1,t||tl(e,!0)}function zu(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:pt=pt.return}}function yn(e){if(e!==pt)return!1;if(!Ne)return zu(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uo(e.type,e.memoizedProps)),a=!a),a&&Ze&&tl(e),zu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=u0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=u0(e)}else t===27?(t=Ze,pl(e.type)?(e=go,go=null,Ze=e):Ze=t):Ze=pt?la(e.stateNode.nextSibling):null;return!0}function Ul(){Ze=pt=null,Ne=!1}function Kr(){var e=el;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),el=null),e}function ss(e){el===null?el=[e]:el.push(e)}var Zr=R(null),Bl=null,Da=null;function al(e,t,a){W(Zr,t._currentValue),t._currentValue=a}function Oa(e){e._currentValue=Zr.current,z(Zr)}function Qr(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Fr(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var g=i.child;c=c.firstContext;e:for(;c!==null;){var S=c;c=i;for(var A=0;A<t.length;A++)if(S.context===t[A]){c.lanes|=a,S=c.alternate,S!==null&&(S.lanes|=a),Qr(c.return,a,e),l||(g=null);break e}c=S.next}}else if(i.tag===18){if(g=i.return,g===null)throw Error(r(341));g.lanes|=a,c=g.alternate,c!==null&&(c.lanes|=a),Qr(g,a,e),g=null}else g=i.child;if(g!==null)g.return=i;else for(g=i;g!==null;){if(g===e){g=null;break}if(i=g.sibling,i!==null){i.return=g.return,g=i;break}g=g.return}i=g}}function bn(e,t,a,l){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var g=i.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var S=i.type;kt(i.pendingProps.value,g.value)||(e!==null?e.push(S):e=[S])}}else if(i===ye.current){if(g=i.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Os):e=[Os])}i=i.return}e!==null&&Fr(t,e,a,l),t.flags|=262144}function hi(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hl(e){Bl=e,Da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return ku(Bl,e)}function mi(e,t){return Bl===null&&Hl(e),ku(e,t)}function ku(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Da===null){if(e===null)throw Error(r(308));Da=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Da=Da.next=t;return a}var Rm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Nm=s.unstable_scheduleCallback,wm=s.unstable_NormalPriority,nt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wr(){return{controller:new Rm,data:new Map,refCount:0}}function is(e){e.refCount--,e.refCount===0&&Nm(wm,function(){e.controller.abort()})}var rs=null,Jr=0,vn=0,Sn=null;function Lm(e,t){if(rs===null){var a=rs=[];Jr=0,vn=to(),Sn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jr++,t.then(Gu,Gu),t}function Gu(){if(--Jr===0&&rs!==null){Sn!==null&&(Sn.status="fulfilled");var e=rs;rs=null,vn=0,Sn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var Iu=O.S;O.S=function(e,t){Ad=Ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lm(e,t),Iu!==null&&Iu(e,t)};var zl=R(null);function $r(){var e=zl.current;return e!==null?e:Xe.pooledCache}function pi(e,t){t===null?W(zl,zl.current):W(zl,t.pool)}function Yu(){var e=$r();return e===null?null:{parent:nt._currentValue,pool:e}}var xn=Error(r(460)),ec=Error(r(474)),gi=Error(r(542)),yi={then:function(){}};function Pu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Na,Na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e;default:if(typeof t.status=="string")t.then(Na,Na);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xu(e),e}throw Gl=t,xn}}function kl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gl=a,xn):a}}var Gl=null;function Vu(){if(Gl===null)throw Error(r(459));var e=Gl;return Gl=null,e}function Xu(e){if(e===xn||e===gi)throw Error(r(483))}var En=null,cs=0;function bi(e){var t=cs;return cs+=1,En===null&&(En=[]),qu(En,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vi(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ku(e){function t(C,N){if(e){var _=C.deletions;_===null?(C.deletions=[N],C.flags|=16):_.push(N)}}function a(C,N){if(!e)return null;for(;N!==null;)t(C,N),N=N.sibling;return null}function l(C){for(var N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function i(C,N){return C=La(C,N),C.index=0,C.sibling=null,C}function c(C,N,_){return C.index=_,e?(_=C.alternate,_!==null?(_=_.index,_<N?(C.flags|=67108866,N):_):(C.flags|=67108866,N)):(C.flags|=1048576,N)}function g(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function S(C,N,_,q){return N===null||N.tag!==6?(N=Yr(_,C.mode,q),N.return=C,N):(N=i(N,_),N.return=C,N)}function A(C,N,_,q){var ue=_.type;return ue===T?Y(C,N,_.props.children,q,_.key):N!==null&&(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&kl(ue)===N.type)?(N=i(N,_.props),os(N,_),N.return=C,N):(N=fi(_.type,_.key,_.props,null,C.mode,q),os(N,_),N.return=C,N)}function j(C,N,_,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Pr(_,C.mode,q),N.return=C,N):(N=i(N,_.children||[]),N.return=C,N)}function Y(C,N,_,q,ue){return N===null||N.tag!==7?(N=jl(_,C.mode,q,ue),N.return=C,N):(N=i(N,_),N.return=C,N)}function V(C,N,_){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yr(""+N,C.mode,_),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return _=fi(N.type,N.key,N.props,null,C.mode,_),os(_,N),_.return=C,_;case M:return N=Pr(N,C.mode,_),N.return=C,N;case $:return N=kl(N),V(C,N,_)}if(Ge(N)||ce(N))return N=jl(N,C.mode,_,null),N.return=C,N;if(typeof N.then=="function")return V(C,bi(N),_);if(N.$$typeof===H)return V(C,mi(C,N),_);vi(C,N)}return null}function B(C,N,_,q){var ue=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return ue!==null?null:S(C,N,""+_,q);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return _.key===ue?A(C,N,_,q):null;case M:return _.key===ue?j(C,N,_,q):null;case $:return _=kl(_),B(C,N,_,q)}if(Ge(_)||ce(_))return ue!==null?null:Y(C,N,_,q,null);if(typeof _.then=="function")return B(C,N,bi(_),q);if(_.$$typeof===H)return B(C,N,mi(C,_),q);vi(C,_)}return null}function k(C,N,_,q,ue){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return C=C.get(_)||null,S(N,C,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return C=C.get(q.key===null?_:q.key)||null,A(N,C,q,ue);case M:return C=C.get(q.key===null?_:q.key)||null,j(N,C,q,ue);case $:return q=kl(q),k(C,N,_,q,ue)}if(Ge(q)||ce(q))return C=C.get(_)||null,Y(N,C,q,ue,null);if(typeof q.then=="function")return k(C,N,_,bi(q),ue);if(q.$$typeof===H)return k(C,N,_,mi(N,q),ue);vi(N,q)}return null}function le(C,N,_,q){for(var ue=null,De=null,ie=N,ve=N=0,Re=null;ie!==null&&ve<_.length;ve++){ie.index>ve?(Re=ie,ie=null):Re=ie.sibling;var Oe=B(C,ie,_[ve],q);if(Oe===null){ie===null&&(ie=Re);break}e&&ie&&Oe.alternate===null&&t(C,ie),N=c(Oe,N,ve),De===null?ue=Oe:De.sibling=Oe,De=Oe,ie=Re}if(ve===_.length)return a(C,ie),Ne&&Ca(C,ve),ue;if(ie===null){for(;ve<_.length;ve++)ie=V(C,_[ve],q),ie!==null&&(N=c(ie,N,ve),De===null?ue=ie:De.sibling=ie,De=ie);return Ne&&Ca(C,ve),ue}for(ie=l(ie);ve<_.length;ve++)Re=k(ie,C,ve,_[ve],q),Re!==null&&(e&&Re.alternate!==null&&ie.delete(Re.key===null?ve:Re.key),N=c(Re,N,ve),De===null?ue=Re:De.sibling=Re,De=Re);return e&&ie.forEach(function(Sl){return t(C,Sl)}),Ne&&Ca(C,ve),ue}function pe(C,N,_,q){if(_==null)throw Error(r(151));for(var ue=null,De=null,ie=N,ve=N=0,Re=null,Oe=_.next();ie!==null&&!Oe.done;ve++,Oe=_.next()){ie.index>ve?(Re=ie,ie=null):Re=ie.sibling;var Sl=B(C,ie,Oe.value,q);if(Sl===null){ie===null&&(ie=Re);break}e&&ie&&Sl.alternate===null&&t(C,ie),N=c(Sl,N,ve),De===null?ue=Sl:De.sibling=Sl,De=Sl,ie=Re}if(Oe.done)return a(C,ie),Ne&&Ca(C,ve),ue;if(ie===null){for(;!Oe.done;ve++,Oe=_.next())Oe=V(C,Oe.value,q),Oe!==null&&(N=c(Oe,N,ve),De===null?ue=Oe:De.sibling=Oe,De=Oe);return Ne&&Ca(C,ve),ue}for(ie=l(ie);!Oe.done;ve++,Oe=_.next())Oe=k(ie,C,ve,Oe.value,q),Oe!==null&&(e&&Oe.alternate!==null&&ie.delete(Oe.key===null?ve:Oe.key),N=c(Oe,N,ve),De===null?ue=Oe:De.sibling=Oe,De=Oe);return e&&ie.forEach(function(Ip){return t(C,Ip)}),Ne&&Ca(C,ve),ue}function Pe(C,N,_,q){if(typeof _=="object"&&_!==null&&_.type===T&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case E:e:{for(var ue=_.key;N!==null;){if(N.key===ue){if(ue=_.type,ue===T){if(N.tag===7){a(C,N.sibling),q=i(N,_.props.children),q.return=C,C=q;break e}}else if(N.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===$&&kl(ue)===N.type){a(C,N.sibling),q=i(N,_.props),os(q,_),q.return=C,C=q;break e}a(C,N);break}else t(C,N);N=N.sibling}_.type===T?(q=jl(_.props.children,C.mode,q,_.key),q.return=C,C=q):(q=fi(_.type,_.key,_.props,null,C.mode,q),os(q,_),q.return=C,C=q)}return g(C);case M:e:{for(ue=_.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){a(C,N.sibling),q=i(N,_.children||[]),q.return=C,C=q;break e}else{a(C,N);break}else t(C,N);N=N.sibling}q=Pr(_,C.mode,q),q.return=C,C=q}return g(C);case $:return _=kl(_),Pe(C,N,_,q)}if(Ge(_))return le(C,N,_,q);if(ce(_)){if(ue=ce(_),typeof ue!="function")throw Error(r(150));return _=ue.call(_),pe(C,N,_,q)}if(typeof _.then=="function")return Pe(C,N,bi(_),q);if(_.$$typeof===H)return Pe(C,N,mi(C,_),q);vi(C,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,N!==null&&N.tag===6?(a(C,N.sibling),q=i(N,_),q.return=C,C=q):(a(C,N),q=Yr(_,C.mode,q),q.return=C,C=q),g(C)):a(C,N)}return function(C,N,_,q){try{cs=0;var ue=Pe(C,N,_,q);return En=null,ue}catch(ie){if(ie===xn||ie===gi)throw ie;var De=Gt(29,ie,null,C.mode);return De.lanes=q,De.return=C,De}finally{}}}var Il=Ku(!0),Zu=Ku(!1),ll=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sl(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ue&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=ui(e),Du(e,null,a),t}return oi(e,l,t,a),ui(e)}function us(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Vn(e,a)}}function lc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?i=c=g:c=c.next=g,a=a.next}while(a!==null);c===null?i=c=t:c=c.next=t}else i=c=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nc=!1;function fs(){if(nc){var e=Sn;if(e!==null)throw e}}function ds(e,t,a,l){nc=!1;var i=e.updateQueue;ll=!1;var c=i.firstBaseUpdate,g=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var A=S,j=A.next;A.next=null,g===null?c=j:g.next=j,g=A;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==g&&(S===null?Y.firstBaseUpdate=j:S.next=j,Y.lastBaseUpdate=A))}if(c!==null){var V=i.baseState;g=0,Y=j=A=null,S=c;do{var B=S.lane&-536870913,k=B!==S.lane;if(k?(Ae&B)===B:(l&B)===B){B!==0&&B===vn&&(nc=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var le=e,pe=S;B=t;var Pe=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){V=le.call(Pe,V,B);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,B=typeof le=="function"?le.call(Pe,V,B):le,B==null)break e;V=b({},V,B);break e;case 2:ll=!0}}B=S.callback,B!==null&&(e.flags|=64,k&&(e.flags|=8192),k=i.callbacks,k===null?i.callbacks=[B]:k.push(B))}else k={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(j=Y=k,A=V):Y=Y.next=k,g|=B;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;k=S,S=k.next,k.next=null,i.lastBaseUpdate=k,i.shared.pending=null}}while(!0);Y===null&&(A=V),i.baseState=A,i.firstBaseUpdate=j,i.lastBaseUpdate=Y,c===null&&(i.shared.lanes=0),ul|=g,e.lanes=g,e.memoizedState=V}}function Qu(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Fu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Qu(a[e],t)}var Mn=R(null),Si=R(0);function Wu(e,t){e=Ia,W(Si,e),W(Mn,t),Ia=e|t.baseLanes}function sc(){W(Si,Ia),W(Mn,Mn.current)}function ic(){Ia=Si.current,z(Mn),z(Si)}var It=R(null),aa=null;function il(e){var t=e.alternate;W(et,et.current&1),W(It,e),aa===null&&(t===null||Mn.current!==null||t.memoizedState!==null)&&(aa=e)}function rc(e){W(et,et.current),W(It,e),aa===null&&(aa=e)}function Ju(e){e.tag===22?(W(et,et.current),W(It,e),aa===null&&(aa=e)):rl()}function rl(){W(et,et.current),W(It,It.current)}function Yt(e){z(It),aa===e&&(aa=null),z(et)}var et=R(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mo(a)||po(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _a=0,be=null,Ie=null,st=null,Ei=!1,Tn=!1,Yl=!1,Mi=0,hs=0,An=null,Dm=0;function We(){throw Error(r(321))}function cc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!kt(e[a],t[a]))return!1;return!0}function oc(e,t,a,l,i,c){return _a=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Bf:Tc,Yl=!1,c=a(l,i),Yl=!1,Tn&&(c=ef(t,a,l,i)),$u(e),c}function $u(e){O.H=gs;var t=Ie!==null&&Ie.next!==null;if(_a=0,st=Ie=be=null,Ei=!1,hs=0,An=null,t)throw Error(r(300));e===null||it||(e=e.dependencies,e!==null&&hi(e)&&(it=!0))}function ef(e,t,a,l){be=e;var i=0;do{if(Tn&&(An=null),hs=0,Tn=!1,25<=i)throw Error(r(301));if(i+=1,st=Ie=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=Hf,c=t(a,l)}while(Tn);return c}function Om(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(be.flags|=1024),t}function uc(){var e=Mi!==0;return Mi=0,e}function fc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function dc(e){if(Ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ei=!1}_a=0,st=Ie=be=null,Tn=!1,hs=Mi=0,An=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?be.memoizedState=st=e:st=st.next=e,st}function tt(){if(Ie===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=st===null?be.memoizedState:st.next;if(t!==null)st=t,Ie=e;else{if(e===null)throw be.alternate===null?Error(r(467)):Error(r(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},st===null?be.memoizedState=st=e:st=st.next=e}return st}function Ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ms(e){var t=hs;return hs+=1,An===null&&(An=[]),e=qu(An,e,t),t=be,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Bf:Tc),e}function Ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===H)return gt(e)}throw Error(r(438,String(e)))}function hc(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ti(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ae;return t.index++,a}function ja(e,t){return typeof t=="function"?t(e):t}function Ri(e){var t=tt();return mc(t,Ie,e)}function mc(e,t,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var i=e.baseQueue,c=l.pending;if(c!==null){if(i!==null){var g=i.next;i.next=c.next,c.next=g}t.baseQueue=i=c,l.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var S=g=null,A=null,j=t,Y=!1;do{var V=j.lane&-536870913;if(V!==j.lane?(Ae&V)===V:(_a&V)===V){var B=j.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),V===vn&&(Y=!0);else if((_a&B)===B){j=j.next,B===vn&&(Y=!0);continue}else V={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},A===null?(S=A=V,g=c):A=A.next=V,be.lanes|=B,ul|=B;V=j.action,Yl&&a(c,V),c=j.hasEagerState?j.eagerState:a(c,V)}else B={lane:V,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},A===null?(S=A=B,g=c):A=A.next=B,be.lanes|=V,ul|=V;j=j.next}while(j!==null&&j!==t);if(A===null?g=c:A.next=S,!kt(c,e.memoizedState)&&(it=!0,Y&&(a=Sn,a!==null)))throw a;e.memoizedState=c,e.baseState=g,e.baseQueue=A,l.lastRenderedState=c}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pc(e){var t=tt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,c=t.memoizedState;if(i!==null){a.pending=null;var g=i=i.next;do c=e(c,g.action),g=g.next;while(g!==i);kt(c,t.memoizedState)||(it=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,l]}function tf(e,t,a){var l=be,i=tt(),c=Ne;if(c){if(a===void 0)throw Error(r(407));a=a()}else a=t();var g=!kt((Ie||i).memoizedState,a);if(g&&(i.memoizedState=a,it=!0),i=i.queue,bc(nf.bind(null,l,i,e),[e]),i.getSnapshot!==t||g||st!==null&&st.memoizedState.tag&1){if(l.flags|=2048,Rn(9,{destroy:void 0},lf.bind(null,l,i,a,t),null),Xe===null)throw Error(r(349));c||(_a&127)!==0||af(l,t,a)}return a}function af(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=Ti(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function lf(e,t,a,l){t.value=a,t.getSnapshot=l,sf(t)&&rf(e)}function nf(e,t,a){return a(function(){sf(t)&&rf(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!kt(e,a)}catch{return!0}}function rf(e){var t=_l(e,2);t!==null&&Bt(t,e,2)}function gc(e){var t=Rt();if(typeof e=="function"){var a=e;if(e=a(),Yl){dt(!0);try{a()}finally{dt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function cf(e,t,a,l){return e.baseState=a,mc(e,Ie,typeof l=="function"?l:ja)}function _m(e,t,a,l,i){if(Li(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};O.T!==null?a(!0):c.isTransition=!1,l(c),a=t.pending,a===null?(c.next=t.pending=c,of(t,c)):(c.next=a.next,t.pending=a.next=c)}}function of(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var c=O.T,g={};O.T=g;try{var S=a(i,l),A=O.S;A!==null&&A(g,S),uf(e,t,S)}catch(j){yc(e,t,j)}finally{c!==null&&g.types!==null&&(c.types=g.types),O.T=c}}else try{c=a(i,l),uf(e,t,c)}catch(j){yc(e,t,j)}}function uf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ff(e,t,l)},function(l){return yc(e,t,l)}):ff(e,t,a)}function ff(e,t,a){t.status="fulfilled",t.value=a,df(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,of(e,a)))}function yc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,df(t),t=t.next;while(t!==l)}e.action=null}function df(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hf(e,t){return t}function mf(e,t){if(Ne){var a=Xe.formState;if(a!==null){e:{var l=be;if(Ne){if(Ze){t:{for(var i=Ze,c=ta;i.nodeType!==8;){if(!c){i=null;break t}if(i=la(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){Ze=la(i.nextSibling),l=i.data==="F!";break e}}tl(l)}l=!1}l&&(t=a[0])}}return a=Rt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:t},a.queue=l,a=_f.bind(null,be,l),l.dispatch=a,l=gc(!1),c=Mc.bind(null,be,!1,l.queue),l=Rt(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=_m.bind(null,be,i,c,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function pf(e){var t=tt();return gf(t,Ie,e)}function gf(e,t,a){if(t=mc(e,t,hf)[0],e=Ri(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ms(t)}catch(g){throw g===xn?gi:g}else l=t;t=tt();var i=t.queue,c=i.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Rn(9,{destroy:void 0},jm.bind(null,i,a),null)),[l,c,e]}function jm(e,t){e.action=t}function yf(e){var t=tt(),a=Ie;if(a!==null)return gf(t,a,e);tt(),t=t.memoizedState,a=tt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Rn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=be.updateQueue,t===null&&(t=Ti(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function bf(){return tt().memoizedState}function Ni(e,t,a,l){var i=Rt();be.flags|=e,i.memoizedState=Rn(1|t,{destroy:void 0},a,l===void 0?null:l)}function wi(e,t,a,l){var i=tt();l=l===void 0?null:l;var c=i.memoizedState.inst;Ie!==null&&l!==null&&cc(l,Ie.memoizedState.deps)?i.memoizedState=Rn(t,c,a,l):(be.flags|=e,i.memoizedState=Rn(1|t,c,a,l))}function vf(e,t){Ni(8390656,8,e,t)}function bc(e,t){wi(2048,8,e,t)}function Um(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Ti(),be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Sf(e){var t=tt().memoizedState;return Um({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function xf(e,t){return wi(4,2,e,t)}function Ef(e,t){return wi(4,4,e,t)}function Mf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tf(e,t,a){a=a!=null?a.concat([e]):null,wi(4,4,Mf.bind(null,t,e),a)}function vc(){}function Af(e,t){var a=tt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&cc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Rf(e,t){var a=tt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&cc(t,l[1]))return l[0];if(l=e(),Yl){dt(!0);try{e()}finally{dt(!1)}}return a.memoizedState=[l,t],l}function Sc(e,t,a){return a===void 0||(_a&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Nd(),be.lanes|=e,ul|=e,a)}function Nf(e,t,a,l){return kt(a,t)?a:Mn.current!==null?(e=Sc(e,a,l),kt(e,t)||(it=!0),e):(_a&42)===0||(_a&1073741824)!==0&&(Ae&261930)===0?(it=!0,e.memoizedState=a):(e=Nd(),be.lanes|=e,ul|=e,t)}function wf(e,t,a,l,i){var c=Z.p;Z.p=c!==0&&8>c?c:8;var g=O.T,S={};O.T=S,Mc(e,!1,t,a);try{var A=i(),j=O.S;if(j!==null&&j(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Y=Cm(A,l);ps(e,t,Y,Vt(e))}else ps(e,t,l,Vt(e))}catch(V){ps(e,t,{then:function(){},status:"rejected",reason:V},Vt())}finally{Z.p=c,g!==null&&S.types!==null&&(g.types=S.types),O.T=g}}function Bm(){}function xc(e,t,a,l){if(e.tag!==5)throw Error(r(476));var i=Lf(e).queue;wf(e,i,t,se,a===null?Bm:function(){return Cf(e),a(l)})}function Lf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:se},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cf(e){var t=Lf(e);t.next===null&&(t=e.alternate.memoizedState),ps(e,t.next.queue,{},Vt())}function Ec(){return gt(Os)}function Df(){return tt().memoizedState}function Of(){return tt().memoizedState}function Hm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=nl(a);var l=sl(t,e,a);l!==null&&(Bt(l,t,a),us(l,t,a)),t={cache:Wr()},e.payload=t;return}t=t.return}}function zm(e,t,a){var l=Vt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Li(e)?jf(t,a):(a=Gr(e,t,a,l),a!==null&&(Bt(a,e,l),Uf(a,t,l)))}function _f(e,t,a){var l=Vt();ps(e,t,a,l)}function ps(e,t,a,l){var i={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Li(e))jf(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,S=c(g,a);if(i.hasEagerState=!0,i.eagerState=S,kt(S,g))return oi(e,t,i,0),Xe===null&&ci(),!1}catch{}finally{}if(a=Gr(e,t,i,l),a!==null)return Bt(a,e,l),Uf(a,t,l),!0}return!1}function Mc(e,t,a,l){if(l={lane:2,revertLane:to(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(t)throw Error(r(479))}else t=Gr(e,a,l,2),t!==null&&Bt(t,e,2)}function Li(e){var t=e.alternate;return e===be||t!==null&&t===be}function jf(e,t){Tn=Ei=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Uf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Vn(e,a)}}var gs={readContext:gt,use:Ai,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};gs.useEffectEvent=We;var Bf={readContext:gt,use:Ai,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:vf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ni(4194308,4,Mf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){Ni(4,2,e,t)},useMemo:function(e,t){var a=Rt();t=t===void 0?null:t;var l=e();if(Yl){dt(!0);try{e()}finally{dt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Rt();if(a!==void 0){var i=a(t);if(Yl){dt(!0);try{a(t)}finally{dt(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=zm.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=gc(e);var t=e.queue,a=_f.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:vc,useDeferredValue:function(e,t){var a=Rt();return Sc(a,e,t)},useTransition:function(){var e=gc(!1);return e=wf.bind(null,be,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=be,i=Rt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Xe===null)throw Error(r(349));(Ae&127)!==0||af(l,t,a)}i.memoizedState=a;var c={value:a,getSnapshot:t};return i.queue=c,vf(nf.bind(null,l,c,e),[e]),l.flags|=2048,Rn(9,{destroy:void 0},lf.bind(null,l,c,a,t),null),a},useId:function(){var e=Rt(),t=Xe.identifierPrefix;if(Ne){var a=pa,l=ma;a=(l&~(1<<32-ot(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Mi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Dm++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ec,useFormState:mf,useActionState:mf,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mc.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:hc,useCacheRefresh:function(){return Rt().memoizedState=Hm.bind(null,be)},useEffectEvent:function(e){var t=Rt(),a={impl:e};return t.memoizedState=a,function(){if((Ue&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Tc={readContext:gt,use:Ai,useCallback:Af,useContext:gt,useEffect:bc,useImperativeHandle:Tf,useInsertionEffect:xf,useLayoutEffect:Ef,useMemo:Rf,useReducer:Ri,useRef:bf,useState:function(){return Ri(ja)},useDebugValue:vc,useDeferredValue:function(e,t){var a=tt();return Nf(a,Ie.memoizedState,e,t)},useTransition:function(){var e=Ri(ja)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:tf,useId:Df,useHostTransitionStatus:Ec,useFormState:pf,useActionState:pf,useOptimistic:function(e,t){var a=tt();return cf(a,Ie,e,t)},useMemoCache:hc,useCacheRefresh:Of};Tc.useEffectEvent=Sf;var Hf={readContext:gt,use:Ai,useCallback:Af,useContext:gt,useEffect:bc,useImperativeHandle:Tf,useInsertionEffect:xf,useLayoutEffect:Ef,useMemo:Rf,useReducer:pc,useRef:bf,useState:function(){return pc(ja)},useDebugValue:vc,useDeferredValue:function(e,t){var a=tt();return Ie===null?Sc(a,e,t):Nf(a,Ie.memoizedState,e,t)},useTransition:function(){var e=pc(ja)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:tf,useId:Df,useHostTransitionStatus:Ec,useFormState:yf,useActionState:yf,useOptimistic:function(e,t){var a=tt();return Ie!==null?cf(a,Ie,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hc,useCacheRefresh:Of};Hf.useEffectEvent=Sf;function Ac(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Rc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Vt(),i=nl(l);i.payload=t,a!=null&&(i.callback=a),t=sl(e,i,l),t!==null&&(Bt(t,e,l),us(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Vt(),i=nl(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=sl(e,i,l),t!==null&&(Bt(t,e,l),us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),l=nl(a);l.tag=2,t!=null&&(l.callback=t),t=sl(e,l,a),t!==null&&(Bt(t,e,a),us(t,e,a))}};function zf(e,t,a,l,i,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,g):t.prototype&&t.prototype.isPureReactComponent?!as(a,l)||!as(i,c):!0}function kf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Pl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Gf(e){ri(e)}function If(e){console.error(e)}function Yf(e){ri(e)}function Ci(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Pf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Nc(e,t,a){return a=nl(a),a.tag=3,a.payload={element:null},a.callback=function(){Ci(e,t)},a}function qf(e){return e=nl(e),e.tag=3,e}function Vf(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var c=l.value;e.payload=function(){return i(c)},e.callback=function(){Pf(t,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Pf(t,a,l),typeof i!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function km(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&bn(t,a,i,!0),a=It.current,a!==null){switch(a.tag){case 31:case 13:return aa===null?Yi():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===yi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Jc(e,l,i)),!1;case 22:return a.flags|=65536,l===yi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Jc(e,l,i)),!1}throw Error(r(435,a.tag))}return Jc(e,l,i),Yi(),!1}if(Ne)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==Xr&&(e=Error(r(422),{cause:l}),ss(Jt(e,a)))):(l!==Xr&&(t=Error(r(423),{cause:l}),ss(Jt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=Jt(l,a),i=Nc(e.stateNode,l,i),lc(e,i),Je!==4&&(Je=2)),!1;var c=Error(r(520),{cause:l});if(c=Jt(c,a),Ts===null?Ts=[c]:Ts.push(c),Je!==4&&(Je=2),t===null)return!0;l=Jt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Nc(a.stateNode,l,e),lc(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(fl===null||!fl.has(c))))return a.flags|=65536,i&=-i,a.lanes|=i,i=qf(i),Vf(i,e,a,l),lc(a,i),!1}a=a.return}while(a!==null);return!1}var wc=Error(r(461)),it=!1;function yt(e,t,a,l){t.child=e===null?Zu(t,null,a,l):Il(t,e.child,a,l)}function Xf(e,t,a,l,i){a=a.render;var c=t.ref;if("ref"in l){var g={};for(var S in l)S!=="ref"&&(g[S]=l[S])}else g=l;return Hl(t),l=oc(e,t,a,g,c,i),S=uc(),e!==null&&!it?(fc(e,t,i),Ua(e,t,i)):(Ne&&S&&qr(t),t.flags|=1,yt(e,t,l,i),t.child)}function Kf(e,t,a,l,i){if(e===null){var c=a.type;return typeof c=="function"&&!Ir(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Zf(e,t,c,l,i)):(e=fi(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Bc(e,i)){var g=c.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(g,l)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,e=La(c,l),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,a,l,i){if(e!==null){var c=e.memoizedProps;if(as(c,l)&&e.ref===t.ref)if(it=!1,t.pendingProps=l=c,Bc(e,i))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Ua(e,t,i)}return Lc(e,t,a,l,i)}function Qf(e,t,a,l){var i=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(l=t.child=e.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~c}else l=0,t.child=null;return Ff(e,t,c,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,c!==null?c.cachePool:null),c!==null?Wu(t,c):sc(),Ju(t);else return l=t.lanes=536870912,Ff(e,t,c!==null?c.baseLanes|a:a,a,l)}else c!==null?(pi(t,c.cachePool),Wu(t,c),rl(),t.memoizedState=null):(e!==null&&pi(t,null),sc(),rl());return yt(e,t,i,a),t.child}function ys(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ff(e,t,a,l,i){var c=$r();return c=c===null?null:{parent:nt._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&pi(t,null),sc(),Ju(t),e!==null&&bn(e,t,l,!0),t.childLanes=i,null}function Di(e,t){return t=_i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wf(e,t,a){return Il(t,e.child,null,a),e=Di(t,t.pendingProps),e.flags|=2,Yt(t),t.memoizedState=null,e}function Gm(e,t,a){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(l.mode==="hidden")return e=Di(t,l),t.lanes=536870912,ys(null,e);if(rc(t),(e=Ze)?(e=o0(e,ta),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:ma,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},a=_u(e),a.return=t,t.child=a,pt=t,Ze=null)):e=null,e===null)throw tl(t);return t.lanes=536870912,null}return Di(t,l)}var c=e.memoizedState;if(c!==null){var g=c.dehydrated;if(rc(t),i)if(t.flags&256)t.flags&=-257,t=Wf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(it||bn(e,t,a,!1),i=(a&e.childLanes)!==0,it||i){if(l=Xe,l!==null&&(g=Xn(l,a),g!==0&&g!==c.retryLane))throw c.retryLane=g,_l(e,g),Bt(l,e,g),wc;Yi(),t=Wf(e,t,a)}else e=c.treeContext,Ze=la(g.nextSibling),pt=t,Ne=!0,el=null,ta=!1,e!==null&&Bu(t,e),t=Di(t,l),t.flags|=4096;return t}return e=La(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lc(e,t,a,l,i){return Hl(t),a=oc(e,t,a,l,void 0,i),l=uc(),e!==null&&!it?(fc(e,t,i),Ua(e,t,i)):(Ne&&l&&qr(t),t.flags|=1,yt(e,t,a,i),t.child)}function Jf(e,t,a,l,i,c){return Hl(t),t.updateQueue=null,a=ef(t,l,a,i),$u(e),l=uc(),e!==null&&!it?(fc(e,t,c),Ua(e,t,c)):(Ne&&l&&qr(t),t.flags|=1,yt(e,t,a,c),t.child)}function $f(e,t,a,l,i){if(Hl(t),t.stateNode===null){var c=mn,g=a.contextType;typeof g=="object"&&g!==null&&(c=gt(g)),c=new a(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Rc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},tc(t),g=a.contextType,c.context=typeof g=="object"&&g!==null?gt(g):mn,c.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ac(t,a,g,l),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Rc.enqueueReplaceState(c,c.state,null),ds(t,l,c,i),fs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var S=t.memoizedProps,A=Pl(a,S);c.props=A;var j=c.context,Y=a.contextType;g=mn,typeof Y=="object"&&Y!==null&&(g=gt(Y));var V=a.getDerivedStateFromProps;Y=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,Y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(S||j!==g)&&kf(t,c,l,g),ll=!1;var B=t.memoizedState;c.state=B,ds(t,l,c,i),fs(),j=t.memoizedState,S||B!==j||ll?(typeof V=="function"&&(Ac(t,a,V,l),j=t.memoizedState),(A=ll||zf(t,a,A,l,B,j,g))?(Y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=j),c.props=l,c.state=j,c.context=g,l=A):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,ac(e,t),g=t.memoizedProps,Y=Pl(a,g),c.props=Y,V=t.pendingProps,B=c.context,j=a.contextType,A=mn,typeof j=="object"&&j!==null&&(A=gt(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==V||B!==A)&&kf(t,c,l,A),ll=!1,B=t.memoizedState,c.state=B,ds(t,l,c,i),fs();var k=t.memoizedState;g!==V||B!==k||ll||e!==null&&e.dependencies!==null&&hi(e.dependencies)?(typeof S=="function"&&(Ac(t,a,S,l),k=t.memoizedState),(Y=ll||zf(t,a,Y,l,B,k,A)||e!==null&&e.dependencies!==null&&hi(e.dependencies))?(j||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,k,A),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,k,A)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=k),c.props=l,c.state=k,c.context=A,l=Y):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,Oi(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Il(t,e.child,null,i),t.child=Il(t,null,a,i)):yt(e,t,a,i),t.memoizedState=c.state,e=t.child):e=Ua(e,t,i),e}function ed(e,t,a,l){return Ul(),t.flags|=256,yt(e,t,a,l),t.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:Yu()}}function Oc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function td(e,t,a){var l=t.pendingProps,i=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),g&&(i=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(i?il(t):rl(),(e=Ze)?(e=o0(e,ta),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$a!==null?{id:ma,overflow:pa}:null,retryLane:536870912,hydrationErrors:null},a=_u(e),a.return=t,t.child=a,pt=t,Ze=null)):e=null,e===null)throw tl(t);return po(e)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,i?(rl(),i=t.mode,S=_i({mode:"hidden",children:S},i),l=jl(l,i,a,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=Dc(a),l.childLanes=Oc(e,g,a),t.memoizedState=Cc,ys(null,l)):(il(t),_c(t,S))}var A=e.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(c)t.flags&256?(il(t),t.flags&=-257,t=jc(e,t,a)):t.memoizedState!==null?(rl(),t.child=e.child,t.flags|=128,t=null):(rl(),S=l.fallback,i=t.mode,l=_i({mode:"visible",children:l.children},i),S=jl(S,i,a,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,Il(t,e.child,null,a),l=t.child,l.memoizedState=Dc(a),l.childLanes=Oc(e,g,a),t.memoizedState=Cc,t=ys(null,l));else if(il(t),po(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,ss({value:l,source:null,stack:null}),t=jc(e,t,a)}else if(it||bn(e,t,a,!1),g=(a&e.childLanes)!==0,it||g){if(g=Xe,g!==null&&(l=Xn(g,a),l!==0&&l!==A.retryLane))throw A.retryLane=l,_l(e,l),Bt(g,e,l),wc;mo(S)||Yi(),t=jc(e,t,a)}else mo(S)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ze=la(S.nextSibling),pt=t,Ne=!0,el=null,ta=!1,e!==null&&Bu(t,e),t=_c(t,l.children),t.flags|=4096);return t}return i?(rl(),S=l.fallback,i=t.mode,A=e.child,j=A.sibling,l=La(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,j!==null?S=La(j,S):(S=jl(S,i,a,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,ys(null,l),l=t.child,S=e.child.memoizedState,S===null?S=Dc(a):(i=S.cachePool,i!==null?(A=nt._currentValue,i=i.parent!==A?{parent:A,pool:A}:i):i=Yu(),S={baseLanes:S.baseLanes|a,cachePool:i}),l.memoizedState=S,l.childLanes=Oc(e,g,a),t.memoizedState=Cc,ys(e.child,l)):(il(t),a=e.child,e=a.sibling,a=La(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function _c(e,t){return t=_i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _i(e,t){return e=Gt(22,e,null,t),e.lanes=0,e}function jc(e,t,a){return Il(t,e.child,null,a),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ad(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Qr(e.return,t,a)}function Uc(e,t,a,l,i,c){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i,treeForkCount:c}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=i,g.treeForkCount=c)}function ld(e,t,a){var l=t.pendingProps,i=l.revealOrder,c=l.tail;l=l.children;var g=et.current,S=(g&2)!==0;if(S?(g=g&1|2,t.flags|=128):g&=1,W(et,g),yt(e,t,l,a),l=Ne?ns:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,a,t);else if(e.tag===19)ad(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&xi(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Uc(t,!1,i,a,c,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xi(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Uc(t,!0,a,null,c,l);break;case"together":Uc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ul|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(bn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=La(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=La(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hi(e)))}function Im(e,t,a){switch(t.tag){case 3:qe(t,t.stateNode.containerInfo),al(t,nt,e.memoizedState.cache),Ul();break;case 27:case 5:da(t);break;case 4:qe(t,t.stateNode.containerInfo);break;case 10:al(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(il(t),t.flags|=128,null):(a&t.child.childLanes)!==0?td(e,t,a):(il(t),e=Ua(e,t,a),e!==null?e.sibling:null);il(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(bn(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return ld(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),W(et,et.current),l)break;return null;case 22:return t.lanes=0,Qf(e,t,a,t.pendingProps);case 24:al(t,nt,e.memoizedState.cache)}return Ua(e,t,a)}function nd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Bc(e,a)&&(t.flags&128)===0)return it=!1,Im(e,t,a);it=(e.flags&131072)!==0}else it=!1,Ne&&(t.flags&1048576)!==0&&Uu(t,ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=kl(t.elementType),t.type=e,typeof e=="function")Ir(e)?(l=Pl(e,l),t.tag=1,t=$f(null,t,e,l,a)):(t.tag=0,t=Lc(null,t,e,l,a));else{if(e!=null){var i=e.$$typeof;if(i===F){t.tag=11,t=Xf(null,t,e,l,a);break e}else if(i===X){t.tag=14,t=Kf(null,t,e,l,a);break e}}throw t=Te(e)||e,Error(r(306,t,""))}}return t;case 0:return Lc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=Pl(l,t.pendingProps),$f(e,t,l,i,a);case 3:e:{if(qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var c=t.memoizedState;i=c.element,ac(e,t),ds(t,l,null,a);var g=t.memoizedState;if(l=g.cache,al(t,nt,l),l!==c.cache&&Fr(t,[nt],a,!0),fs(),l=g.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ed(e,t,l,a);break e}else if(l!==i){i=Jt(Error(r(424)),t),ss(i),t=ed(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=la(e.firstChild),pt=t,Ne=!0,el=null,ta=!0,a=Zu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ul(),l===i){t=Ua(e,t,a);break e}yt(e,t,l,a)}t=t.child}return t;case 26:return Oi(e,t),e===null?(a=p0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,l=Qi(he.current).createElement(a),l[oe]=t,l[Ce]=e,bt(l,a,e),lt(l),t.stateNode=l):t.memoizedState=p0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return da(t),e===null&&Ne&&(l=t.stateNode=d0(t.type,t.pendingProps,he.current),pt=t,ta=!0,i=Ze,pl(t.type)?(go=i,Ze=la(l.firstChild)):Ze=i),yt(e,t,t.pendingProps.children,a),Oi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((i=l=Ze)&&(l=yp(l,t.type,t.pendingProps,ta),l!==null?(t.stateNode=l,pt=t,Ze=la(l.firstChild),ta=!1,i=!0):i=!1),i||tl(t)),da(t),i=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,l=c.children,uo(i,c)?l=null:g!==null&&uo(i,g)&&(t.flags|=32),t.memoizedState!==null&&(i=oc(e,t,Om,null,null,a),Os._currentValue=i),Oi(e,t),yt(e,t,l,a),t.child;case 6:return e===null&&Ne&&((e=a=Ze)&&(a=bp(a,t.pendingProps,ta),a!==null?(t.stateNode=a,pt=t,Ze=null,e=!0):e=!1),e||tl(t)),null;case 13:return td(e,t,a);case 4:return qe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Il(t,null,l,a):yt(e,t,l,a),t.child;case 11:return Xf(e,t,t.type,t.pendingProps,a);case 7:return yt(e,t,t.pendingProps,a),t.child;case 8:return yt(e,t,t.pendingProps.children,a),t.child;case 12:return yt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,al(t,t.type,l.value),yt(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,Hl(t),i=gt(i),l=l(i),t.flags|=1,yt(e,t,l,a),t.child;case 14:return Kf(e,t,t.type,t.pendingProps,a);case 15:return Zf(e,t,t.type,t.pendingProps,a);case 19:return ld(e,t,a);case 31:return Gm(e,t,a);case 22:return Qf(e,t,a,t.pendingProps);case 24:return Hl(t),l=gt(nt),e===null?(i=$r(),i===null&&(i=Xe,c=Wr(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=a),i=c),t.memoizedState={parent:l,cache:i},tc(t),al(t,nt,i)):((e.lanes&a)!==0&&(ac(e,t),ds(t,null,null,a),fs()),i=e.memoizedState,c=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),al(t,nt,l)):(l=c.cache,al(t,nt,l),l!==i.cache&&Fr(t,[nt],a,!0))),yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Ba(e){e.flags|=4}function Hc(e,t,a,l,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Dd())e.flags|=8192;else throw Gl=yi,ec}else e.flags&=-16777217}function sd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S0(t))if(Dd())e.flags|=8192;else throw Gl=yi,ec}function ji(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ks():536870912,e.lanes|=t,Cn|=t)}function bs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ym(e,t,a){var l=t.pendingProps;switch(Vr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Oa(nt),Le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yn(t)?Ba(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kr())),Qe(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(Ba(t),c!==null?(Qe(t),sd(t,c)):(Qe(t),Hc(t,i,null,l,a))):c?c!==e.memoizedState?(Ba(t),Qe(t),sd(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ba(t),Qe(t),Hc(t,i,e,l,a)),null;case 27:if(Va(t),a=he.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ba(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}e=te.current,yn(t)?Hu(t):(e=d0(i,l,a),t.stateNode=e,Ba(t))}return Qe(t),null;case 5:if(Va(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ba(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Qe(t),null}if(c=te.current,yn(t))Hu(t);else{var g=Qi(he.current);switch(c){case 1:c=g.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=g.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=g.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=g.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=g.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?g.createElement(i,{is:l.is}):g.createElement(i)}}c[oe]=t,c[Ce]=l;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=c;e:switch(bt(c,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ba(t)}}return Qe(t),Hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ba(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=he.current,yn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=pt,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[oe]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t0(e.nodeValue,a)),e||tl(t,!0)}else e=Qi(e).createTextNode(l),e[oe]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=yn(t),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[oe]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=Kr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Yt(t),t):(Yt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=yn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[oe]=t}else Ul(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else i=Kr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Yt(t),t):(Yt(t),null)}return Yt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==i&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ji(t,t.updateQueue),Qe(t),null);case 4:return Le(),e===null&&so(t.stateNode.containerInfo),Qe(t),null;case 10:return Oa(t.type),Qe(t),null;case 19:if(z(et),l=t.memoizedState,l===null)return Qe(t),null;if(i=(t.flags&128)!==0,c=l.rendering,c===null)if(i)bs(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=xi(e),c!==null){for(t.flags|=128,bs(l,!1),e=c.updateQueue,t.updateQueue=e,ji(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ou(a,e),a=a.sibling;return W(et,et.current&1|2),Ne&&Ca(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ve()>ki&&(t.flags|=128,i=!0,bs(l,!1),t.lanes=4194304)}else{if(!i)if(e=xi(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ji(t,e),bs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ne)return Qe(t),null}else 2*Ve()-l.renderingStartTime>ki&&a!==536870912&&(t.flags|=128,i=!0,bs(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ve(),e.sibling=null,a=et.current,W(et,i?a&1|2:a&1),Ne&&Ca(t,l.treeForkCount),e):(Qe(t),null);case 22:case 23:return Yt(t),ic(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&ji(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&z(zl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Oa(nt),Qe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pm(e,t){switch(Vr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oa(nt),Le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Va(t),null;case 31:if(t.memoizedState!==null){if(Yt(t),t.alternate===null)throw Error(r(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(et),null;case 4:return Le(),null;case 10:return Oa(t.type),null;case 22:case 23:return Yt(t),ic(),e!==null&&z(zl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Oa(nt),null;case 25:return null;default:return null}}function id(e,t){switch(Vr(t),t.tag){case 3:Oa(nt),Le();break;case 26:case 27:case 5:Va(t);break;case 4:Le();break;case 31:t.memoizedState!==null&&Yt(t);break;case 13:Yt(t);break;case 19:z(et);break;case 10:Oa(t.type);break;case 22:case 23:Yt(t),ic(),e!==null&&z(zl);break;case 24:Oa(nt)}}function vs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var c=a.create,g=a.inst;l=c(),g.destroy=l}a=a.next}while(a!==i)}}catch(S){ke(t,t.return,S)}}function cl(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var c=i.next;l=c;do{if((l.tag&e)===e){var g=l.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,i=t;var A=a,j=S;try{j()}catch(Y){ke(i,A,Y)}}}l=l.next}while(l!==c)}}catch(Y){ke(t,t.return,Y)}}function rd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Fu(t,a)}catch(l){ke(e,e.return,l)}}}function cd(e,t,a){a.props=Pl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ke(e,t,l)}}function Ss(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){ke(e,t,i)}}function ga(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){ke(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){ke(e,t,i)}else a.current=null}function od(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){ke(e,e.return,i)}}function zc(e,t,a){try{var l=e.stateNode;fp(l,e.type,a,t),l[Ce]=t}catch(i){ke(e,e.return,i)}}function ud(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pl(e.type)||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Na));else if(l!==4&&(l===27&&pl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Gc(e,t,a),e=e.sibling;e!==null;)Gc(e,t,a),e=e.sibling}function Ui(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&pl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ui(e,t,a),e=e.sibling;e!==null;)Ui(e,t,a),e=e.sibling}function fd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);bt(t,l,a),t[oe]=e,t[Ce]=a}catch(c){ke(e,e.return,c)}}var Ha=!1,rt=!1,Ic=!1,dd=typeof WeakSet=="function"?WeakSet:Set,mt=null;function qm(e,t){if(e=e.containerInfo,co=ar,e=Mu(e),jr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var g=0,S=-1,A=-1,j=0,Y=0,V=e,B=null;t:for(;;){for(var k;V!==a||i!==0&&V.nodeType!==3||(S=g+i),V!==c||l!==0&&V.nodeType!==3||(A=g+l),V.nodeType===3&&(g+=V.nodeValue.length),(k=V.firstChild)!==null;)B=V,V=k;for(;;){if(V===e)break t;if(B===a&&++j===i&&(S=g),B===c&&++Y===l&&(A=g),(k=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=k}a=S===-1||A===-1?null:{start:S,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(oo={focusedElem:e,selectionRange:a},ar=!1,mt=t;mt!==null;)if(t=mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,mt=e;else for(;mt!==null;){switch(t=mt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,i=c.memoizedProps,c=c.memoizedState,l=a.stateNode;try{var le=Pl(a.type,i);e=l.getSnapshotBeforeUpdate(le,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(pe){ke(a,a.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ho(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ho(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,mt=e;break}mt=t.return}}function hd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ka(e,a),l&4&&vs(5,a);break;case 1:if(ka(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){ke(a,a.return,g)}else{var i=Pl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ke(a,a.return,g)}}l&64&&rd(a),l&512&&Ss(a,a.return);break;case 3:if(ka(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fu(e,t)}catch(g){ke(a,a.return,g)}}break;case 27:t===null&&l&4&&fd(a);case 26:case 5:ka(e,a),t===null&&l&4&&od(a),l&512&&Ss(a,a.return);break;case 12:ka(e,a);break;case 31:ka(e,a),l&4&&gd(e,a);break;case 13:ka(e,a),l&4&&yd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$m.bind(null,a),vp(e,a))));break;case 22:if(l=a.memoizedState!==null||Ha,!l){t=t!==null&&t.memoizedState!==null||rt,i=Ha;var c=rt;Ha=l,(rt=t)&&!c?Ga(e,a,(a.subtreeFlags&8772)!==0):ka(e,a),Ha=i,rt=c}break;case 30:break;default:ka(e,a)}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&nn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Ot=!1;function za(e,t,a){for(a=a.child;a!==null;)pd(e,t,a),a=a.sibling}function pd(e,t,a){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(ra,a)}catch{}switch(a.tag){case 26:rt||ga(a,t),za(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ga(a,t);var l=Fe,i=Ot;pl(a.type)&&(Fe=a.stateNode,Ot=!1),za(e,t,a),Ls(a.stateNode),Fe=l,Ot=i;break;case 5:rt||ga(a,t);case 6:if(l=Fe,i=Ot,Fe=null,za(e,t,a),Fe=l,Ot=i,Fe!==null)if(Ot)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(a.stateNode)}catch(c){ke(a,t,c)}else try{Fe.removeChild(a.stateNode)}catch(c){ke(a,t,c)}break;case 18:Fe!==null&&(Ot?(e=Fe,r0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zn(e)):r0(Fe,a.stateNode));break;case 4:l=Fe,i=Ot,Fe=a.stateNode.containerInfo,Ot=!0,za(e,t,a),Fe=l,Ot=i;break;case 0:case 11:case 14:case 15:cl(2,a,t),rt||cl(4,a,t),za(e,t,a);break;case 1:rt||(ga(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cd(a,t,l)),za(e,t,a);break;case 21:za(e,t,a);break;case 22:rt=(l=rt)||a.memoizedState!==null,za(e,t,a),rt=l;break;default:za(e,t,a)}}function gd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zn(e)}catch(a){ke(t,t.return,a)}}}function yd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zn(e)}catch(a){ke(t,t.return,a)}}function Vm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dd),t;default:throw Error(r(435,e.tag))}}function Bi(e,t){var a=Vm(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var i=ep.bind(null,e,l);l.then(i,i)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],c=e,g=t,S=g;e:for(;S!==null;){switch(S.tag){case 27:if(pl(S.type)){Fe=S.stateNode,Ot=!1;break e}break;case 5:Fe=S.stateNode,Ot=!1;break e;case 3:case 4:Fe=S.stateNode.containerInfo,Ot=!0;break e}S=S.return}if(Fe===null)throw Error(r(160));pd(c,g,i),Fe=null,Ot=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bd(t,e),t=t.sibling}var ua=null;function bd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),jt(e),l&4&&(cl(3,e,e.return),vs(3,e),cl(5,e,e.return));break;case 1:_t(t,e),jt(e),l&512&&(rt||a===null||ga(a,a.return)),l&64&&Ha&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=ua;if(_t(t,e),jt(e),l&512&&(rt||a===null||ga(a,a.return)),l&4){var c=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Fa]||c[oe]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(l),i.head.insertBefore(c,i.querySelector("head > title"))),bt(c,l,a),c[oe]=e,lt(c),l=c;break e;case"link":var g=b0("link","href",i).get(l+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(c=g[S],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break t}}c=i.createElement(l),bt(c,l,a),i.head.appendChild(c);break;case"meta":if(g=b0("meta","content",i).get(l+(a.content||""))){for(S=0;S<g.length;S++)if(c=g[S],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break t}}c=i.createElement(l),bt(c,l,a),i.head.appendChild(c);break;default:throw Error(r(468,l))}c[oe]=e,lt(c),l=c}e.stateNode=l}else v0(i,e.type,e.stateNode);else e.stateNode=y0(i,l,e.memoizedProps);else c!==l?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,l===null?v0(i,e.type,e.stateNode):y0(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zc(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),jt(e),l&512&&(rt||a===null||ga(a,a.return)),a!==null&&l&4&&zc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),jt(e),l&512&&(rt||a===null||ga(a,a.return)),e.flags&32){i=e.stateNode;try{rn(i,"")}catch(le){ke(e,e.return,le)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,zc(e,i,a!==null?a.memoizedProps:i)),l&1024&&(Ic=!0);break;case 6:if(_t(t,e),jt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(le){ke(e,e.return,le)}}break;case 3:if(Ji=null,i=ua,ua=Fi(t.containerInfo),_t(t,e),ua=i,jt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(t.containerInfo)}catch(le){ke(e,e.return,le)}Ic&&(Ic=!1,vd(e));break;case 4:l=ua,ua=Fi(e.stateNode.containerInfo),_t(t,e),jt(e),ua=l;break;case 12:_t(t,e),jt(e);break;case 31:_t(t,e),jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 13:_t(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zi=Ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 22:i=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,j=Ha,Y=rt;if(Ha=j||i,rt=Y||A,_t(t,e),rt=Y,Ha=j,jt(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||A||Ha||rt||ql(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){A=a=t;try{if(c=A.stateNode,i)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=A.stateNode;var V=A.memoizedProps.style,B=V!=null&&V.hasOwnProperty("display")?V.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){ke(A,A.return,le)}}}else if(t.tag===6){if(a===null){A=t;try{A.stateNode.nodeValue=i?"":A.memoizedProps}catch(le){ke(A,A.return,le)}}}else if(t.tag===18){if(a===null){A=t;try{var k=A.stateNode;i?c0(k,!0):c0(A.stateNode,!1)}catch(le){ke(A,A.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bi(e,a))));break;case 19:_t(t,e),jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 30:break;case 21:break;default:_t(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ud(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var i=a.stateNode,c=kc(e);Ui(e,c,i);break;case 5:var g=a.stateNode;a.flags&32&&(rn(g,""),a.flags&=-33);var S=kc(e);Ui(e,S,g);break;case 3:case 4:var A=a.stateNode.containerInfo,j=kc(e);Gc(e,j,A);break;default:throw Error(r(161))}}catch(Y){ke(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hd(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),ql(t);break;case 1:ga(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&cd(t,t.return,a),ql(t);break;case 27:Ls(t.stateNode);case 26:case 5:ga(t,t.return),ql(t);break;case 22:t.memoizedState===null&&ql(t);break;case 30:ql(t);break;default:ql(t)}e=e.sibling}}function Ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,c=t,g=c.flags;switch(c.tag){case 0:case 11:case 15:Ga(i,c,a),vs(4,c);break;case 1:if(Ga(i,c,a),l=c,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(j){ke(l,l.return,j)}if(l=c,i=l.updateQueue,i!==null){var S=l.stateNode;try{var A=i.shared.hiddenCallbacks;if(A!==null)for(i.shared.hiddenCallbacks=null,i=0;i<A.length;i++)Qu(A[i],S)}catch(j){ke(l,l.return,j)}}a&&g&64&&rd(c),Ss(c,c.return);break;case 27:fd(c);case 26:case 5:Ga(i,c,a),a&&l===null&&g&4&&od(c),Ss(c,c.return);break;case 12:Ga(i,c,a);break;case 31:Ga(i,c,a),a&&g&4&&gd(i,c);break;case 13:Ga(i,c,a),a&&g&4&&yd(i,c);break;case 22:c.memoizedState===null&&Ga(i,c,a),Ss(c,c.return);break;case 30:break;default:Ga(i,c,a)}t=t.sibling}}function Yc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&is(a))}function Pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e))}function fa(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sd(e,t,a,l),t=t.sibling}function Sd(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:fa(e,t,a,l),i&2048&&vs(9,t);break;case 1:fa(e,t,a,l);break;case 3:fa(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e)));break;case 12:if(i&2048){fa(e,t,a,l),e=t.stateNode;try{var c=t.memoizedProps,g=c.id,S=c.onPostCommit;typeof S=="function"&&S(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ke(t,t.return,A)}}else fa(e,t,a,l);break;case 31:fa(e,t,a,l);break;case 13:fa(e,t,a,l);break;case 23:break;case 22:c=t.stateNode,g=t.alternate,t.memoizedState!==null?c._visibility&2?fa(e,t,a,l):xs(e,t):c._visibility&2?fa(e,t,a,l):(c._visibility|=2,Nn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Yc(g,t);break;case 24:fa(e,t,a,l),i&2048&&Pc(t.alternate,t);break;default:fa(e,t,a,l)}}function Nn(e,t,a,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,g=t,S=a,A=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Nn(c,g,S,A,i),vs(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Nn(c,g,S,A,i):xs(c,g):(Y._visibility|=2,Nn(c,g,S,A,i)),i&&j&2048&&Yc(g.alternate,g);break;case 24:Nn(c,g,S,A,i),i&&j&2048&&Pc(g.alternate,g);break;default:Nn(c,g,S,A,i)}t=t.sibling}}function xs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:xs(a,l),i&2048&&Yc(l.alternate,l);break;case 24:xs(a,l),i&2048&&Pc(l.alternate,l);break;default:xs(a,l)}t=t.sibling}}var Es=8192;function wn(e,t,a){if(e.subtreeFlags&Es)for(e=e.child;e!==null;)xd(e,t,a),e=e.sibling}function xd(e,t,a){switch(e.tag){case 26:wn(e,t,a),e.flags&Es&&e.memoizedState!==null&&Dp(a,ua,e.memoizedState,e.memoizedProps);break;case 5:wn(e,t,a);break;case 3:case 4:var l=ua;ua=Fi(e.stateNode.containerInfo),wn(e,t,a),ua=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Es,Es=16777216,wn(e,t,a),Es=l):wn(e,t,a));break;default:wn(e,t,a)}}function Ed(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ms(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];mt=l,Td(l,e)}Ed(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Md(e),e=e.sibling}function Md(e){switch(e.tag){case 0:case 11:case 15:Ms(e),e.flags&2048&&cl(9,e,e.return);break;case 3:Ms(e);break;case 12:Ms(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hi(e)):Ms(e);break;default:Ms(e)}}function Hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];mt=l,Td(l,e)}Ed(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cl(8,t,t.return),Hi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hi(t));break;default:Hi(t)}e=e.sibling}}function Td(e,t){for(;mt!==null;){var a=mt;switch(a.tag){case 0:case 11:case 15:cl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:is(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mt=l;else e:for(a=e;mt!==null;){l=mt;var i=l.sibling,c=l.return;if(md(l),l===a){mt=null;break e}if(i!==null){i.return=c,mt=i;break e}mt=c}}}var Xm={getCacheForType:function(e){var t=gt(nt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return gt(nt).controller.signal}},Km=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Xe=null,xe=null,Ae=0,ze=0,Pt=null,ol=!1,Ln=!1,qc=!1,Ia=0,Je=0,ul=0,Vl=0,Vc=0,qt=0,Cn=0,Ts=null,Ut=null,Xc=!1,zi=0,Ad=0,ki=1/0,Gi=null,fl=null,ut=0,dl=null,Dn=null,Ya=0,Kc=0,Zc=null,Rd=null,As=0,Qc=null;function Vt(){return(Ue&2)!==0&&Ae!==0?Ae&-Ae:O.T!==null?to():Kn()}function Nd(){if(qt===0)if((Ae&536870912)===0||Ne){var e=$l;$l<<=1,($l&3932160)===0&&($l=262144),qt=e}else qt=536870912;return e=It.current,e!==null&&(e.flags|=32),qt}function Bt(e,t,a){(e===Xe&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(On(e,0),hl(e,Ae,qt,!1)),Ll(e,a),((Ue&2)===0||e!==Xe)&&(e===Xe&&((Ue&2)===0&&(Vl|=a),Je===4&&hl(e,Ae,qt,!1)),ya(e))}function wd(e,t,a){if((Ue&6)!==0)throw Error(r(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||wl(e,t),i=l?Fm(e,t):Wc(e,t,!0),c=l;do{if(i===0){Ln&&!l&&hl(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Zm(a)){i=Wc(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var S=e;i=Ts;var A=S.current.memoizedState.isDehydrated;if(A&&(On(S,g).flags|=256),g=Wc(S,g,!1),g!==2){if(qc&&!A){S.errorRecoveryDisabledLanes|=c,Vl|=c,i=4;break e}c=Ut,Ut=i,c!==null&&(Ut===null?Ut=c:Ut.push.apply(Ut,c))}i=g}if(c=!1,i!==2)continue}}if(i===1){On(e,0),hl(e,t,0,!0);break}e:{switch(l=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:hl(l,t,qt,!ol);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=zi+300-Ve(),10<i)){if(hl(l,t,qt,!ol),en(l,0,!0)!==0)break e;Ya=t,l.timeoutHandle=s0(Ld.bind(null,l,a,Ut,Gi,Xc,t,qt,Vl,Cn,ol,c,"Throttled",-0,0),i);break e}Ld(l,a,Ut,Gi,Xc,t,qt,Vl,Cn,ol,c,null,-0,0)}}break}while(!0);ya(e)}function Ld(e,t,a,l,i,c,g,S,A,j,Y,V,B,k){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Na},xd(t,c,V);var le=(c&62914560)===c?zi-Ve():(c&4194048)===c?Ad-Ve():0;if(le=Op(V,le),le!==null){Ya=c,e.cancelPendingCommit=le(Hd.bind(null,e,t,c,a,l,i,g,S,A,Y,V,null,B,k)),hl(e,c,g,!j);return}}Hd(e,t,c,a,l,i,g,S,A)}function Zm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],c=i.getSnapshot;i=i.value;try{if(!kt(c(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hl(e,t,a,l){t&=~Vc,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var c=31-ot(i),g=1<<c;l[c]=-1,i&=~g}a!==0&&Zs(e,a,t)}function Ii(){return(Ue&6)===0?(Rs(0),!1):!0}function Fc(){if(xe!==null){if(ze===0)var e=xe.return;else e=xe,Da=Bl=null,dc(e),En=null,cs=0,e=xe;for(;e!==null;)id(e.alternate,e),e=e.return;xe=null}}function On(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,mp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ya=0,Fc(),Xe=e,xe=a=La(e.current,null),Ae=t,ze=0,Pt=null,ol=!1,Ln=wl(e,t),qc=!1,Cn=qt=Vc=Vl=ul=Je=0,Ut=Ts=null,Xc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-ot(l),c=1<<i;t|=e[i],l&=~c}return Ia=t,ci(),a}function Cd(e,t){be=null,O.H=gs,t===xn||t===gi?(t=Vu(),ze=3):t===ec?(t=Vu(),ze=4):ze=t===wc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,xe===null&&(Je=1,Ci(e,Jt(t,e.current)))}function Dd(){var e=It.current;return e===null?!0:(Ae&4194048)===Ae?aa===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===aa:!1}function Od(){var e=O.H;return O.H=gs,e===null?gs:e}function _d(){var e=O.A;return O.A=Xm,e}function Yi(){Je=4,ol||(Ae&4194048)!==Ae&&It.current!==null||(Ln=!0),(ul&134217727)===0&&(Vl&134217727)===0||Xe===null||hl(Xe,Ae,qt,!1)}function Wc(e,t,a){var l=Ue;Ue|=2;var i=Od(),c=_d();(Xe!==e||Ae!==t)&&(Gi=null,On(e,t)),t=!1;var g=Je;e:do try{if(ze!==0&&xe!==null){var S=xe,A=Pt;switch(ze){case 8:Fc(),g=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var j=ze;if(ze=0,Pt=null,_n(e,S,A,j),a&&Ln){g=0;break e}break;default:j=ze,ze=0,Pt=null,_n(e,S,A,j)}}Qm(),g=Je;break}catch(Y){Cd(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Da=Bl=null,Ue=l,O.H=i,O.A=c,xe===null&&(Xe=null,Ae=0,ci()),g}function Qm(){for(;xe!==null;)jd(xe)}function Fm(e,t){var a=Ue;Ue|=2;var l=Od(),i=_d();Xe!==e||Ae!==t?(Gi=null,ki=Ve()+500,On(e,t)):Ln=wl(e,t);e:do try{if(ze!==0&&xe!==null){t=xe;var c=Pt;t:switch(ze){case 1:ze=0,Pt=null,_n(e,t,c,1);break;case 2:case 9:if(Pu(c)){ze=0,Pt=null,Ud(t);break}t=function(){ze!==2&&ze!==9||Xe!==e||(ze=7),ya(e)},c.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Pu(c)?(ze=0,Pt=null,Ud(t)):(ze=0,Pt=null,_n(e,t,c,7));break;case 5:var g=null;switch(xe.tag){case 26:g=xe.memoizedState;case 5:case 27:var S=xe;if(g?S0(g):S.stateNode.complete){ze=0,Pt=null;var A=S.sibling;if(A!==null)xe=A;else{var j=S.return;j!==null?(xe=j,Pi(j)):xe=null}break t}}ze=0,Pt=null,_n(e,t,c,5);break;case 6:ze=0,Pt=null,_n(e,t,c,6);break;case 8:Fc(),Je=6;break e;default:throw Error(r(462))}}Wm();break}catch(Y){Cd(e,Y)}while(!0);return Da=Bl=null,O.H=l,O.A=i,Ue=a,xe!==null?0:(Xe=null,Ae=0,ci(),Je)}function Wm(){for(;xe!==null&&!Rl();)jd(xe)}function jd(e){var t=nd(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?Pi(e):xe=t}function Ud(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jf(a,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Jf(a,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:dc(t);default:id(a,t),t=xe=Ou(t,Ia),t=nd(a,t,Ia)}e.memoizedProps=e.pendingProps,t===null?Pi(e):xe=t}function _n(e,t,a,l){Da=Bl=null,dc(t),En=null,cs=0;var i=t.return;try{if(km(e,i,t,a,Ae)){Je=1,Ci(e,Jt(a,e.current)),xe=null;return}}catch(c){if(i!==null)throw xe=i,c;Je=1,Ci(e,Jt(a,e.current)),xe=null;return}t.flags&32768?(Ne||l===1?e=!0:Ln||(Ae&536870912)!==0?e=!1:(ol=e=!0,(l===2||l===9||l===3||l===6)&&(l=It.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bd(t,e)):Pi(t)}function Pi(e){var t=e;do{if((t.flags&32768)!==0){Bd(t,ol);return}e=t.return;var a=Ym(t.alternate,t,Ia);if(a!==null){xe=a;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Je===0&&(Je=5)}function Bd(e,t){do{var a=Pm(e.alternate,e);if(a!==null){a.flags&=32767,xe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=a}while(e!==null);Je=6,xe=null}function Hd(e,t,a,l,i,c,g,S,A){e.cancelPendingCommit=null;do qi();while(ut!==0);if((Ue&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=kr,tn(e,a,c,g,S,A),e===Xe&&(xe=Xe=null,Ae=0),Dn=t,dl=e,Ya=a,Kc=c,Zc=i,Rd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tp($e,function(){return Yd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,i=Z.p,Z.p=2,g=Ue,Ue|=4;try{qm(e,t,a)}finally{Ue=g,Z.p=i,O.T=l}}ut=1,zd(),kd(),Gd()}}function zd(){if(ut===1){ut=0;var e=dl,t=Dn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var l=Z.p;Z.p=2;var i=Ue;Ue|=4;try{bd(t,e);var c=oo,g=Mu(e.containerInfo),S=c.focusedElem,A=c.selectionRange;if(g!==S&&S&&S.ownerDocument&&Eu(S.ownerDocument.documentElement,S)){if(A!==null&&jr(S)){var j=A.start,Y=A.end;if(Y===void 0&&(Y=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(Y,S.value.length);else{var V=S.ownerDocument||document,B=V&&V.defaultView||window;if(B.getSelection){var k=B.getSelection(),le=S.textContent.length,pe=Math.min(A.start,le),Pe=A.end===void 0?pe:Math.min(A.end,le);!k.extend&&pe>Pe&&(g=Pe,Pe=pe,pe=g);var C=xu(S,pe),N=xu(S,Pe);if(C&&N&&(k.rangeCount!==1||k.anchorNode!==C.node||k.anchorOffset!==C.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var _=V.createRange();_.setStart(C.node,C.offset),k.removeAllRanges(),pe>Pe?(k.addRange(_),k.extend(N.node,N.offset)):(_.setEnd(N.node,N.offset),k.addRange(_))}}}}for(V=[],k=S;k=k.parentNode;)k.nodeType===1&&V.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<V.length;S++){var q=V[S];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ar=!!co,oo=co=null}finally{Ue=i,Z.p=l,O.T=a}}e.current=t,ut=2}}function kd(){if(ut===2){ut=0;var e=dl,t=Dn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var l=Z.p;Z.p=2;var i=Ue;Ue|=4;try{hd(e,t.alternate,t)}finally{Ue=i,Z.p=l,O.T=a}}ut=3}}function Gd(){if(ut===4||ut===3){ut=0,Ke();var e=dl,t=Dn,a=Ya,l=Rd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,Dn=dl=null,Id(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(fl=null),ln(a),t=t.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(ra,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=O.T,i=Z.p,Z.p=2,O.T=null;try{for(var c=e.onRecoverableError,g=0;g<l.length;g++){var S=l[g];c(S.value,{componentStack:S.stack})}}finally{O.T=t,Z.p=i}}(Ya&3)!==0&&qi(),ya(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Qc?As++:(As=0,Qc=e):As=0,Rs(0)}}function Id(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,is(t)))}function qi(){return zd(),kd(),Gd(),Yd()}function Yd(){if(ut!==5)return!1;var e=dl,t=Kc;Kc=0;var a=ln(Ya),l=O.T,i=Z.p;try{Z.p=32>a?32:a,O.T=null,a=Zc,Zc=null;var c=dl,g=Ya;if(ut=0,Dn=dl=null,Ya=0,(Ue&6)!==0)throw Error(r(331));var S=Ue;if(Ue|=4,Md(c.current),Sd(c,c.current,g,a),Ue=S,Rs(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(ra,c)}catch{}return!0}finally{Z.p=i,O.T=l,Id(e,t)}}function Pd(e,t,a){t=Jt(a,t),t=Nc(e.stateNode,t,2),e=sl(e,t,2),e!==null&&(Ll(e,2),ya(e))}function ke(e,t,a){if(e.tag===3)Pd(e,e,a);else for(;t!==null;){if(t.tag===3){Pd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fl===null||!fl.has(l))){e=Jt(a,e),a=qf(2),l=sl(t,a,2),l!==null&&(Vf(a,l,t,e),Ll(l,2),ya(l));break}}t=t.return}}function Jc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Km;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(qc=!0,i.add(a),e=Jm.bind(null,e,t,a),t.then(e,e))}function Jm(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xe===e&&(Ae&a)===a&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>Ve()-zi?(Ue&2)===0&&On(e,0):Vc|=a,Cn===Ae&&(Cn=0)),ya(e)}function qd(e,t){t===0&&(t=Ks()),e=_l(e,t),e!==null&&(Ll(e,t),ya(e))}function $m(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),qd(e,a)}function ep(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),qd(e,a)}function tp(e,t){return Al(e,t)}var Vi=null,jn=null,$c=!1,Xi=!1,eo=!1,ml=0;function ya(e){e!==jn&&e.next===null&&(jn===null?Vi=jn=e:jn=jn.next=e),Xi=!0,$c||($c=!0,lp())}function Rs(e,t){if(!eo&&Xi){eo=!0;do for(var a=!1,l=Vi;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var c=0;else{var g=l.suspendedLanes,S=l.pingedLanes;c=(1<<31-ot(42|e)+1)-1,c&=i&~(g&~S),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Zd(l,c))}else c=Ae,c=en(l,l===Xe?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||wl(l,c)||(a=!0,Zd(l,c));l=l.next}while(a);eo=!1}}function ap(){Vd()}function Vd(){Xi=$c=!1;var e=0;ml!==0&&hp()&&(e=ml);for(var t=Ve(),a=null,l=Vi;l!==null;){var i=l.next,c=Xd(l,t);c===0?(l.next=null,a===null?Vi=i:a.next=i,i===null&&(jn=a)):(a=l,(e!==0||(c&3)!==0)&&(Xi=!0)),l=i}ut!==0&&ut!==5||Rs(e),ml!==0&&(ml=0)}function Xd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-ot(c),S=1<<g,A=i[g];A===-1?((S&a)===0||(S&l)!==0)&&(i[g]=yr(S,t)):A<=t&&(e.expiredLanes|=S),c&=~S}if(t=Xe,a=Ae,a=en(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||wl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ia(l),ln(a)){case 2:case 8:a=vt;break;case 32:a=$e;break;case 268435456:a=Ka;break;default:a=$e}return l=Kd.bind(null,e),a=Al(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ia(l),e.callbackPriority=2,e.callbackNode=null,2}function Kd(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qi()&&e.callbackNode!==a)return null;var l=Ae;return l=en(e,e===Xe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wd(e,l,t),Xd(e,Ve()),e.callbackNode!=null&&e.callbackNode===a?Kd.bind(null,e):null)}function Zd(e,t){if(qi())return null;wd(e,t,!0)}function lp(){pp(function(){(Ue&6)!==0?Al(Tt,ap):Vd()})}function to(){if(ml===0){var e=vn;e===0&&(e=Jl,Jl<<=1,(Jl&261888)===0&&(Jl=256)),ml=e}return ml}function Qd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function Fd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function np(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var c=Qd((i[Ce]||null).action),g=l.submitter;g&&(t=(t=g[Ce]||null)?Qd(t.formAction):g.getAttribute("formAction"),t!==null&&(c=t,g=null));var S=new ni("action","action",null,l,i);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ml!==0){var A=g?Fd(i,g):new FormData(i);xc(a,{pending:!0,data:A,method:i.method,action:c},null,A)}}else typeof c=="function"&&(S.preventDefault(),A=g?Fd(i,g):new FormData(i),xc(a,{pending:!0,data:A,method:i.method,action:c},c,A))},currentTarget:i}]})}}for(var ao=0;ao<zr.length;ao++){var lo=zr[ao],sp=lo.toLowerCase(),ip=lo[0].toUpperCase()+lo.slice(1);oa(sp,"on"+ip)}oa(Ru,"onAnimationEnd"),oa(Nu,"onAnimationIteration"),oa(wu,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(Em,"onTransitionRun"),oa(Mm,"onTransitionStart"),oa(Tm,"onTransitionCancel"),oa(Lu,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ns));function Wd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var g=l.length-1;0<=g;g--){var S=l[g],A=S.instance,j=S.currentTarget;if(S=S.listener,A!==c&&i.isPropagationStopped())break e;c=S,i.currentTarget=j;try{c(i)}catch(Y){ri(Y)}i.currentTarget=null,c=A}else for(g=0;g<l.length;g++){if(S=l[g],A=S.instance,j=S.currentTarget,S=S.listener,A!==c&&i.isPropagationStopped())break e;c=S,i.currentTarget=j;try{c(i)}catch(Y){ri(Y)}i.currentTarget=null,c=A}}}}function Ee(e,t){var a=t[At];a===void 0&&(a=t[At]=new Set);var l=e+"__bubble";a.has(l)||(Jd(t,e,2,!1),a.add(l))}function no(e,t,a){var l=0;t&&(l|=4),Jd(a,e,l,t)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function so(e){if(!e[Ki]){e[Ki]=!0,Qs.forEach(function(a){a!=="selectionchange"&&(rp.has(a)||no(a,!1,e),no(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ki]||(t[Ki]=!0,no("selectionchange",!1,t))}}function Jd(e,t,a,l){switch(N0(t)){case 2:var i=Up;break;case 8:i=Bp;break;default:i=xo}a=i.bind(null,t,a,e),i=void 0,!Ar||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function io(e,t,a,l,i){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===i)break;if(g===4)for(g=l.return;g!==null;){var A=g.tag;if((A===3||A===4)&&g.stateNode.containerInfo===i)return;g=g.return}for(;S!==null;){if(g=Ct(S),g===null)return;if(A=g.tag,A===5||A===6||A===26||A===27){l=c=g;continue e}S=S.parentNode}}l=l.return}au(function(){var j=c,Y=Mr(a),V=[];e:{var B=Cu.get(e);if(B!==void 0){var k=ni,le=e;switch(e){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":k=em;break;case"focusin":le="focus",k=Lr;break;case"focusout":le="blur",k=Lr;break;case"beforeblur":case"afterblur":k=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=lm;break;case Ru:case Nu:case wu:k=Vh;break;case Lu:k=sm;break;case"scroll":case"scrollend":k=Gh;break;case"wheel":k=rm;break;case"copy":case"cut":case"paste":k=Kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ru;break;case"toggle":case"beforetoggle":k=om}var pe=(t&4)!==0,Pe=!pe&&(e==="scroll"||e==="scrollend"),C=pe?B!==null?B+"Capture":null:B;pe=[];for(var N=j,_;N!==null;){var q=N;if(_=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||_===null||C===null||(q=Qn(N,C),q!=null&&pe.push(ws(N,q,_))),Pe)break;N=N.return}0<pe.length&&(B=new k(B,le,null,a,Y),V.push({event:B,listeners:pe}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",B&&a!==Er&&(le=a.relatedTarget||a.fromElement)&&(Ct(le)||le[ht]))break e;if((k||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,k?(le=a.relatedTarget||a.toElement,k=j,le=le?Ct(le):null,le!==null&&(Pe=d(le),pe=le.tag,le!==Pe||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(k=null,le=j),k!==le)){if(pe=su,q="onMouseLeave",C="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pe=ru,q="onPointerLeave",C="onPointerEnter",N="pointer"),Pe=k==null?B:Aa(k),_=le==null?B:Aa(le),B=new pe(q,N+"leave",k,a,Y),B.target=Pe,B.relatedTarget=_,q=null,Ct(Y)===j&&(pe=new pe(C,N+"enter",le,a,Y),pe.target=_,pe.relatedTarget=Pe,q=pe),Pe=q,k&&le)t:{for(pe=cp,C=k,N=le,_=0,q=C;q;q=pe(q))_++;q=0;for(var ue=N;ue;ue=pe(ue))q++;for(;0<_-q;)C=pe(C),_--;for(;0<q-_;)N=pe(N),q--;for(;_--;){if(C===N||N!==null&&C===N.alternate){pe=C;break t}C=pe(C),N=pe(N)}pe=null}else pe=null;k!==null&&$d(V,B,k,pe,!1),le!==null&&Pe!==null&&$d(V,Pe,le,pe,!0)}}e:{if(B=j?Aa(j):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var De=pu;else if(hu(B))if(gu)De=vm;else{De=ym;var ie=gm}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&xr(j.elementType)&&(De=pu):De=bm;if(De&&(De=De(e,j))){mu(V,De,a,Y);break e}ie&&ie(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Sr(B,"number",B.value)}switch(ie=j?Aa(j):window,e){case"focusin":(hu(ie)||ie.contentEditable==="true")&&(fn=ie,Ur=j,ls=null);break;case"focusout":ls=Ur=fn=null;break;case"mousedown":Br=!0;break;case"contextmenu":case"mouseup":case"dragend":Br=!1,Tu(V,a,Y);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":Tu(V,a,Y)}var ve;if(Dr)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else un?fu(e,a)&&(Re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(cu&&a.locale!=="ko"&&(un||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&un&&(ve=lu()):(Ja=Y,Rr="value"in Ja?Ja.value:Ja.textContent,un=!0)),ie=Zi(j,Re),0<ie.length&&(Re=new iu(Re,e,null,a,Y),V.push({event:Re,listeners:ie}),ve?Re.data=ve:(ve=du(a),ve!==null&&(Re.data=ve)))),(ve=fm?dm(e,a):hm(e,a))&&(Re=Zi(j,"onBeforeInput"),0<Re.length&&(ie=new iu("onBeforeInput","beforeinput",null,a,Y),V.push({event:ie,listeners:Re}),ie.data=ve)),np(V,e,j,a,Y)}Wd(V,t)})}function ws(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=Qn(e,a),i!=null&&l.unshift(ws(e,i,c)),i=Qn(e,t),i!=null&&l.push(ws(e,i,c))),e.tag===3)return l;e=e.return}return[]}function cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $d(e,t,a,l,i){for(var c=t._reactName,g=[];a!==null&&a!==l;){var S=a,A=S.alternate,j=S.stateNode;if(S=S.tag,A!==null&&A===l)break;S!==5&&S!==26&&S!==27||j===null||(A=j,i?(j=Qn(a,c),j!=null&&g.unshift(ws(a,j,A))):i||(j=Qn(a,c),j!=null&&g.push(ws(a,j,A)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var op=/\r\n?/g,up=/\u0000|\uFFFD/g;function e0(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(up,"")}function t0(e,t){return t=e0(t),e0(e)===t}function Ye(e,t,a,l,i,c){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&rn(e,""+l);break;case"className":Js(e,"class",l);break;case"tabIndex":Js(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(e,a,l);break;case"style":eu(e,l,c);break;case"data":if(t!=="object"){Js(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ye(e,t,"name",i.name,i,null),Ye(e,t,"formEncType",i.formEncType,i,null),Ye(e,t,"formMethod",i.formMethod,i,null),Ye(e,t,"formTarget",i.formTarget,i,null)):(Ye(e,t,"encType",i.encType,i,null),Ye(e,t,"method",i.method,i,null),Ye(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Na);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),Ws(e,"popover",l);break;case"xlinkActuate":Ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ra(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ra(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ra(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ra(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zh.get(a)||a,Ws(e,a,l))}}function ro(e,t,a,l,i,c){switch(a){case"style":eu(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),c=e[Ce]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof l=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ws(e,a,l)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,i=!1,c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(g!=null)switch(c){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ye(e,t,c,g,a,null)}}i&&Ye(e,t,"srcSet",a.srcSet,a,null),l&&Ye(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var S=c=g=i=null,A=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":i=Y;break;case"type":g=Y;break;case"checked":A=Y;break;case"defaultChecked":j=Y;break;case"value":c=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,t));break;default:Ye(e,t,l,Y,a,null)}}Fo(e,c,S,A,j,g,i,!1);return;case"select":Ee("invalid",e),l=g=c=null;for(i in a)if(a.hasOwnProperty(i)&&(S=a[i],S!=null))switch(i){case"value":c=S;break;case"defaultValue":g=S;break;case"multiple":l=S;default:Ye(e,t,i,S,a,null)}t=c,a=g,e.multiple=!!l,t!=null?sn(e,!!l,t,!1):a!=null&&sn(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),c=i=l=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":l=S;break;case"defaultValue":i=S;break;case"children":c=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ye(e,t,g,S,a,null)}Jo(e,l,i,c);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(e,t,A,l,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<Ns.length;l++)Ee(Ns[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ye(e,t,j,l,a,null)}return;default:if(xr(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&ro(e,t,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ye(e,t,S,l,a,null))}function fp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,g=null,S=null,A=null,j=null,Y=null;for(k in a){var V=a[k];if(a.hasOwnProperty(k)&&V!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":A=V;default:l.hasOwnProperty(k)||Ye(e,t,k,null,l,V)}}for(var B in l){var k=l[B];if(V=a[B],l.hasOwnProperty(B)&&(k!=null||V!=null))switch(B){case"type":c=k;break;case"name":i=k;break;case"checked":j=k;break;case"defaultChecked":Y=k;break;case"value":g=k;break;case"defaultValue":S=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,t));break;default:k!==V&&Ye(e,t,B,k,l,V)}}vr(e,g,S,A,j,Y,c,i);return;case"select":k=g=S=B=null;for(c in a)if(A=a[c],a.hasOwnProperty(c)&&A!=null)switch(c){case"value":break;case"multiple":k=A;default:l.hasOwnProperty(c)||Ye(e,t,c,null,l,A)}for(i in l)if(c=l[i],A=a[i],l.hasOwnProperty(i)&&(c!=null||A!=null))switch(i){case"value":B=c;break;case"defaultValue":S=c;break;case"multiple":g=c;default:c!==A&&Ye(e,t,i,c,l,A)}t=S,a=g,l=k,B!=null?sn(e,!!a,B,!1):!!l!=!!a&&(t!=null?sn(e,!!a,t,!0):sn(e,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(S in a)if(i=a[S],a.hasOwnProperty(S)&&i!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ye(e,t,S,null,l,i)}for(g in l)if(i=l[g],c=a[g],l.hasOwnProperty(g)&&(i!=null||c!=null))switch(g){case"value":B=i;break;case"defaultValue":k=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&Ye(e,t,g,i,l,c)}Wo(e,B,k);return;case"option":for(var le in a)if(B=a[le],a.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Ye(e,t,le,null,l,B)}for(A in l)if(B=l[A],k=a[A],l.hasOwnProperty(A)&&B!==k&&(B!=null||k!=null))switch(A){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ye(e,t,A,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Ye(e,t,pe,null,l,B);for(j in l)if(B=l[j],k=a[j],l.hasOwnProperty(j)&&B!==k&&(B!=null||k!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:Ye(e,t,j,B,l,k)}return;default:if(xr(t)){for(var Pe in a)B=a[Pe],a.hasOwnProperty(Pe)&&B!==void 0&&!l.hasOwnProperty(Pe)&&ro(e,t,Pe,void 0,l,B);for(Y in l)B=l[Y],k=a[Y],!l.hasOwnProperty(Y)||B===k||B===void 0&&k===void 0||ro(e,t,Y,B,l,k);return}}for(var C in a)B=a[C],a.hasOwnProperty(C)&&B!=null&&!l.hasOwnProperty(C)&&Ye(e,t,C,null,l,B);for(V in l)B=l[V],k=a[V],!l.hasOwnProperty(V)||B===k||B==null&&k==null||Ye(e,t,V,B,l,k)}function a0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var i=a[l],c=i.transferSize,g=i.initiatorType,S=i.duration;if(c&&S&&a0(g)){for(g=0,S=i.responseEnd,l+=1;l<a.length;l++){var A=a[l],j=A.startTime;if(j>S)break;var Y=A.transferSize,V=A.initiatorType;Y&&a0(V)&&(A=A.responseEnd,g+=Y*(A<S?1:(S-j)/(A-j)))}if(--l,t+=8*(c+g)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var co=null,oo=null;function Qi(e){return e.nodeType===9?e:e.ownerDocument}function l0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fo=null;function hp(){var e=window.event;return e&&e.type==="popstate"?e===fo?!1:(fo=e,!0):(fo=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,mp=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(e){return i0.resolve(null).then(e).catch(gp)}:s0;function gp(e){setTimeout(function(){throw e})}function pl(e){return e==="head"}function r0(e,t){var a=t,l=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(i),zn(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ls(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ls(a);for(var c=a.firstChild;c;){var g=c.nextSibling,S=c.nodeName;c[Fa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=g}}else a==="body"&&Ls(e.ownerDocument.body);a=i}while(a);zn(t)}function c0(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function ho(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ho(a),nn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function yp(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Fa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=la(e.nextSibling),e===null)break}return null}function bp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=la(e.nextSibling),e===null))return null;return e}function o0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=la(e.nextSibling),e===null))return null;return e}function mo(e){return e.data==="$?"||e.data==="$~"}function po(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var go=null;function u0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return la(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function f0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function d0(e,t,a){switch(t=Qi(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);nn(e)}var na=new Map,h0=new Set;function Fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pa=Z.d;Z.d={f:Sp,r:xp,D:Ep,C:Mp,L:Tp,m:Ap,X:Np,S:Rp,M:wp};function Sp(){var e=Pa.f(),t=Ii();return e||t}function xp(e){var t=Zt(e);t!==null&&t.tag===5&&t.type==="form"?Cf(t):Pa.r(e)}var Un=typeof document>"u"?null:document;function m0(e,t,a){var l=Un;if(l&&typeof t=="string"&&t){var i=Ft(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),h0.has(i)||(h0.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),bt(t,"link",e),lt(t),l.head.appendChild(t)))}}function Ep(e){Pa.D(e),m0("dns-prefetch",e,null)}function Mp(e,t){Pa.C(e,t),m0("preconnect",e,t)}function Tp(e,t,a){Pa.L(e,t,a);var l=Un;if(l&&e&&t){var i='link[rel="preload"][as="'+Ft(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Ft(a.imageSizes)+'"]')):i+='[href="'+Ft(e)+'"]';var c=i;switch(t){case"style":c=Bn(e);break;case"script":c=Hn(e)}na.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),na.set(c,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(Cs(c))||t==="script"&&l.querySelector(Ds(c))||(t=l.createElement("link"),bt(t,"link",e),lt(t),l.head.appendChild(t)))}}function Ap(e,t){Pa.m(e,t);var a=Un;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(e)+'"]',c=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Hn(e)}if(!na.has(c)&&(e=b({rel:"modulepreload",href:e},t),na.set(c,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ds(c)))return}l=a.createElement("link"),bt(l,"link",e),lt(l),a.head.appendChild(l)}}}function Rp(e,t,a){Pa.S(e,t,a);var l=Un;if(l&&e){var i=Wa(l).hoistableStyles,c=Bn(e);t=t||"default";var g=i.get(c);if(!g){var S={loading:0,preload:null};if(g=l.querySelector(Cs(c)))S.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=na.get(c))&&yo(e,a);var A=g=l.createElement("link");lt(A),bt(A,"link",e),A._p=new Promise(function(j,Y){A.onload=j,A.onerror=Y}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wi(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:S},i.set(c,g)}}}function Np(e,t){Pa.X(e,t);var a=Un;if(a&&e){var l=Wa(a).hoistableScripts,i=Hn(e),c=l.get(i);c||(c=a.querySelector(Ds(i)),c||(e=b({src:e,async:!0},t),(t=na.get(i))&&bo(e,t),c=a.createElement("script"),lt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(i,c))}}function wp(e,t){Pa.M(e,t);var a=Un;if(a&&e){var l=Wa(a).hoistableScripts,i=Hn(e),c=l.get(i);c||(c=a.querySelector(Ds(i)),c||(e=b({src:e,async:!0,type:"module"},t),(t=na.get(i))&&bo(e,t),c=a.createElement("script"),lt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(i,c))}}function p0(e,t,a,l){var i=(i=he.current)?Fi(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Bn(a.href),a=Wa(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Bn(a.href);var c=Wa(i).hoistableStyles,g=c.get(e);if(g||(i=i.ownerDocument||i,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=i.querySelector(Cs(e)))&&!c._p&&(g.instance=c,g.state.loading=5),na.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},na.set(e,a),c||Lp(i,e,a,g.state))),t&&l===null)throw Error(r(528,""));return g}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hn(a),a=Wa(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Bn(e){return'href="'+Ft(e)+'"'}function Cs(e){return'link[rel="stylesheet"]['+e+"]"}function g0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Lp(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),bt(t,"link",a),lt(t),e.head.appendChild(t))}function Hn(e){return'[src="'+Ft(e)+'"]'}function Ds(e){return"script[async]"+e}function y0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(l)return t.instance=l,lt(l),l;var i=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),bt(l,"style",i),Wi(l,a.precedence,e),t.instance=l;case"stylesheet":i=Bn(a.href);var c=e.querySelector(Cs(i));if(c)return t.state.loading|=4,t.instance=c,lt(c),c;l=g0(a),(i=na.get(i))&&yo(l,i),c=(e.ownerDocument||e).createElement("link"),lt(c);var g=c;return g._p=new Promise(function(S,A){g.onload=S,g.onerror=A}),bt(c,"link",l),t.state.loading|=4,Wi(c,a.precedence,e),t.instance=c;case"script":return c=Hn(a.src),(i=e.querySelector(Ds(c)))?(t.instance=i,lt(i),i):(l=a,(i=na.get(c))&&(l=b({},a),bo(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),lt(i),bt(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Wi(l,a.precedence,e));return t.instance}function Wi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,c=i,g=0;g<l.length;g++){var S=l[g];if(S.dataset.precedence===t)c=S;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ji=null;function b0(e,t,a){if(Ji===null){var l=new Map,i=Ji=new Map;i.set(a,l)}else i=Ji,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var c=a[i];if(!(c[Fa]||c[oe]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(t)||"";g=e+g;var S=l.get(g);S?S.push(c):l.set(g,[c])}}return l}function v0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Cp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function S0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dp(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=Bn(l.href),c=t.querySelector(Cs(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$i.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,lt(c);return}c=t.ownerDocument||t,l=g0(l),(i=na.get(i))&&yo(l,i),c=c.createElement("link"),lt(c);var g=c;g._p=new Promise(function(S,A){g.onload=S,g.onerror=A}),bt(c,"link",l),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=$i.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var vo=0;function Op(e,t){return e.stylesheets&&e.count===0&&tr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&tr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&vo===0&&(vo=62500*dp());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&tr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>vo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function $i(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var er=null;function tr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,er=new Map,t.forEach(_p,e),er=null,$i.call(e))}function _p(e,t){if(!(t.state.loading&4)){var a=er.get(e);if(a)var l=a.get(null);else{a=new Map,er.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var g=i[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}i=t.instance,g=i.getAttribute("data-precedence"),c=a.get(g)||l,c===l&&a.set(null,i),a.set(g,i),this.count++,l=$i.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Os={$$typeof:H,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function jp(e,t,a,l,i,c,g,S,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function x0(e,t,a,l,i,c,g,S,A,j,Y,V){return e=new jp(e,t,a,g,A,j,Y,V,S),t=1,c===!0&&(t|=24),c=Gt(3,null,null,t),e.current=c,c.stateNode=e,t=Wr(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:a,cache:t},tc(c),e}function E0(e){return e?(e=mn,e):mn}function M0(e,t,a,l,i,c){i=E0(i),l.context===null?l.context=i:l.pendingContext=i,l=nl(t),l.payload={element:a},c=c===void 0?null:c,c!==null&&(l.callback=c),a=sl(e,l,t),a!==null&&(Bt(a,e,t),us(a,e,t))}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function So(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function A0(e){if(e.tag===13||e.tag===31){var t=_l(e,67108864);t!==null&&Bt(t,e,67108864),So(e,67108864)}}function R0(e){if(e.tag===13||e.tag===31){var t=Vt();t=an(t);var a=_l(e,t);a!==null&&Bt(a,e,t),So(e,t)}}var ar=!0;function Up(e,t,a,l){var i=O.T;O.T=null;var c=Z.p;try{Z.p=2,xo(e,t,a,l)}finally{Z.p=c,O.T=i}}function Bp(e,t,a,l){var i=O.T;O.T=null;var c=Z.p;try{Z.p=8,xo(e,t,a,l)}finally{Z.p=c,O.T=i}}function xo(e,t,a,l){if(ar){var i=Eo(l);if(i===null)io(e,t,l,lr,a),w0(e,l);else if(zp(i,e,t,a,l))l.stopPropagation();else if(w0(e,l),t&4&&-1<Hp.indexOf(e)){for(;i!==null;){var c=Zt(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=St(c.pendingLanes);if(g!==0){var S=c;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var A=1<<31-ot(g);S.entanglements[1]|=A,g&=~A}ya(c),(Ue&6)===0&&(ki=Ve()+500,Rs(0))}}break;case 31:case 13:S=_l(c,2),S!==null&&Bt(S,c,2),Ii(),So(c,2)}if(c=Eo(l),c===null&&io(e,t,l,lr,a),c===i)break;i=c}i!==null&&l.stopPropagation()}else io(e,t,l,null,a)}}function Eo(e){return e=Mr(e),Mo(e)}var lr=null;function Mo(e){if(lr=null,e=Ct(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lr=e,null}function N0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kt()){case Tt:return 2;case vt:return 8;case $e:case Nl:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var To=!1,gl=null,yl=null,bl=null,_s=new Map,js=new Map,vl=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Us(e,t,a,l,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:c,targetContainers:[i]},t!==null&&(t=Zt(t),t!==null&&A0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zp(e,t,a,l,i){switch(t){case"focusin":return gl=Us(gl,e,t,a,l,i),!0;case"dragenter":return yl=Us(yl,e,t,a,l,i),!0;case"mouseover":return bl=Us(bl,e,t,a,l,i),!0;case"pointerover":var c=i.pointerId;return _s.set(c,Us(_s.get(c)||null,e,t,a,l,i)),!0;case"gotpointercapture":return c=i.pointerId,js.set(c,Us(js.get(c)||null,e,t,a,l,i)),!0}return!1}function L0(e){var t=Ct(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,re(e.priority,function(){R0(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,re(e.priority,function(){R0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Eo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Er=l,a.target.dispatchEvent(l),Er=null}else return t=Zt(a),t!==null&&A0(t),e.blockedOn=a,!1;t.shift()}return!0}function C0(e,t,a){nr(e)&&a.delete(t)}function kp(){To=!1,gl!==null&&nr(gl)&&(gl=null),yl!==null&&nr(yl)&&(yl=null),bl!==null&&nr(bl)&&(bl=null),_s.forEach(C0),js.forEach(C0)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kp)))}var ir=null;function D0(e){ir!==e&&(ir=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ir===e&&(ir=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(Mo(l||a)===null)continue;break}var c=Zt(a);c!==null&&(e.splice(t,3),t-=3,xc(c,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function zn(e){function t(A){return sr(A,e)}gl!==null&&sr(gl,e),yl!==null&&sr(yl,e),bl!==null&&sr(bl,e),_s.forEach(t),js.forEach(t);for(var a=0;a<vl.length;a++){var l=vl[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vl.length&&(a=vl[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&vl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],c=a[l+1],g=i[Ce]||null;if(typeof c=="function")g||D0(a);else if(g){var S=null;if(c&&c.hasAttribute("formAction")){if(i=c,g=c[Ce]||null)S=g.formAction;else if(Mo(i)!==null)continue}else S=g.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),D0(a)}}}function O0(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(g){return i=g})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Ao(e){this._internalRoot=e}rr.prototype.render=Ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,l=Vt();M0(a,l,e,t,null,null)},rr.prototype.unmount=Ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;M0(e.current,2,null,e,null,null),Ii(),t[ht]=null}};function rr(e){this._internalRoot=e}rr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<vl.length&&t!==0&&t<vl[a].priority;a++);vl.splice(a,0,e),a===0&&L0(e)}};var _0=n.version;if(_0!=="19.2.3")throw Error(r(527,_0,"19.2.3"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Gp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cr.isDisabled&&cr.supportsFiber)try{ra=cr.inject(Gp),at=cr}catch{}}return Hs.createRoot=function(e,t){if(!u(e))throw Error(r(299));var a=!1,l="",i=Gf,c=If,g=Yf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=x0(e,1,!1,null,null,a,l,null,i,c,g,O0),e[ht]=t.current,so(e),new Ao(t)},Hs.hydrateRoot=function(e,t,a){if(!u(e))throw Error(r(299));var l=!1,i="",c=Gf,g=If,S=Yf,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),t=x0(e,1,!0,t,a??null,l,i,A,c,g,S,O0),t.context=E0(null),a=t.current,l=Vt(),l=an(l),i=nl(l),i.callback=null,sl(a,i,l),a=l,t.current.lanes=a,Ll(t,a),ya(t),e[ht]=t.current,so(e),new rr(t)},Hs.version="19.2.3",Hs}var P0;function Fp(){if(P0)return wo.exports;P0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),wo.exports=Qp(),wo.exports}var Wp=Fp();const Jp=uh(Wp);var Me=(s=>(s.PLAYER="PLAYER",s.ASTEROID="ASTEROID",s.BULLET="BULLET",s.PLAYER_BULLET="PLAYER_BULLET",s.ENEMY_BULLET="ENEMY_BULLET",s.XP_GEM="XP_GEM",s.POWERUP="POWERUP",s.CREDIT="CREDIT",s.EXPLOSION="EXPLOSION",s.DAMAGE_NUMBER="DAMAGE_NUMBER",s.SPAWN_FLASH="SPAWN_FLASH",s.LIGHTNING="LIGHTNING",s))(Me||{}),D=(s=>(s.SCOUT="SCOUT",s.STRIKER="STRIKER",s.LASER_SCOUT="LASER_SCOUT",s.KAMIKAZE="KAMIKAZE",s.SHIELDER="SHIELDER",s.CARRIER="CARRIER",s.ASTEROID="ASTEROID",s.BOSS_DREADNOUGHT="BOSS_DREADNOUGHT",s.BOSS_DESTROYER="BOSS_DESTROYER",s))(D||{}),J=(s=>(s.NORMAL="NORMAL",s.ELITE="ELITE",s.LEGENDARY="LEGENDARY",s.MINIBOSS="MINIBOSS",s))(J||{}),va=(s=>(s.ORBIT="ORBIT",s.CHASE="CHASE",s.KITE="KITE",s.CHARGE="CHARGE",s.DRIFT="DRIFT",s.SHIELDING="SHIELDING",s.BOSS_STANDARD="BOSS_STANDARD",s.BOSS_DESTROYER="BOSS_DESTROYER",s))(va||{}),Sa=(s=>(s.NONE="NONE",s.SINGLE_SHOT="SINGLE_SHOT",s.CHARGED_BEAM="CHARGED_BEAM",s.TWIN_PLASMA="TWIN_PLASMA",s.MISSILE_SALVO="MISSILE_SALVO",s.BOSS_BEAM="BOSS_BEAM",s))(Sa||{}),fh=(s=>(s.PLAYER_BULLET="PLAYER_BULLET",s.ENEMY_BULLET="ENEMY_BULLET",s))(fh||{}),He=(s=>(s.NONE="NONE",s.EXPLOSIVE="EXPLOSIVE",s.PIERCING="PIERCING",s.HOMING="HOMING",s.SPLIT="SPLIT",s.LASER="LASER",s.PULSING="PULSING",s.CHAIN="CHAIN",s))(He||{}),_e=(s=>(s.START="START",s.PLAYING="PLAYING",s.LEVELING="LEVELING",s.DYING="DYING",s.GAMEOVER="GAMEOVER",s.GARAGE="GARAGE",s.DEBUG_MENU="DEBUG_MENU",s))(_e||{}),Nt=(s=>(s.STANDARD="STANDARD",s.DEBUG="DEBUG",s))(Nt||{}),Mt=(s=>(s.NORMAL="NORMAL",s.HARD="HARD",s.NIGHTMARE="NIGHTMARE",s.HELL="HELL",s))(Mt||{}),we=(s=>(s.NONE="NONE",s.AFTERBURNER="AFTERBURNER",s.SHIELD_BURST="SHIELD_BURST",s.PHASE_SHIFT="PHASE_SHIFT",s.TIME_WARP="TIME_WARP",s))(we||{}),je=(s=>(s.TWIN_STICK="TWIN_STICK",s.TAP_TO_AIM="TAP_TO_AIM",s.KEYBOARD_MOUSE="KEYBOARD_MOUSE",s))(je||{}),G=(s=>(s.PLASMA="PLASMA",s.MISSILE="MISSILE",s.LASER="LASER",s.SWARM_LAUNCHER="SWARM_LAUNCHER",s.RAILGUN="RAILGUN",s.FLAK_CANNON="FLAK_CANNON",s.ENERGY_ORB="ENERGY_ORB",s.ARC_CASTER="ARC_CASTER",s.FLAMETHROWER="FLAMETHROWER",s))(G||{}),Kl=(s=>(s.INTERCEPTOR="INTERCEPTOR",s.CRUISER="CRUISER",s.DREADNOUGHT="DREADNOUGHT",s.PHANTOM="PHANTOM",s))(Kl||{}),ct=(s=>(s.STAT="STAT",s.CONSUMABLE="CONSUMABLE",s))(ct||{});const q0={credits:0,metaLevels:{},unlockedShips:[Kl.INTERCEPTOR],equippedShip:Kl.INTERCEPTOR,equippedWeapon:G.PLASMA,unlockedWeapons:[G.PLASMA],equippedModules:[],unlockedModules:[],currentLevel:1,currentXp:0,xpToNextLevel:100,acquiredUpgradeIds:[],highScores:[],settings:{controlScheme:je.KEYBOARD_MOUSE,zoomLevel:1,autoShowLevelUp:!0,showDpsMeter:!1,showDebugLog:!1}},Is={[G.PLASMA]:{fireRate:4,damage:28,bulletSpeed:900,areaSize:0,duration:2e3},[G.MISSILE]:{fireRate:.8,damage:200,bulletSpeed:600,areaSize:195,duration:2e3},[G.LASER]:{fireRate:1,damage:200,bulletSpeed:0,areaSize:0,duration:0},[G.SWARM_LAUNCHER]:{fireRate:.6,damage:90,bulletSpeed:650,areaSize:150,duration:3e3},[G.RAILGUN]:{fireRate:.5,damage:350,bulletSpeed:2800,areaSize:0,duration:2e3},[G.FLAK_CANNON]:{fireRate:1.2,damage:40,bulletSpeed:700,areaSize:0,duration:600},[G.ENERGY_ORB]:{fireRate:.5,damage:60,bulletSpeed:150,areaSize:150,duration:5e3},[G.ARC_CASTER]:{fireRate:3.2,damage:48,bulletSpeed:1400,areaSize:0,duration:500},[G.FLAMETHROWER]:{fireRate:15,damage:12,bulletSpeed:450,areaSize:45,duration:650}},Be=8e3,V0=.08,dh=450,Ys=1800,Ho=.65,hh=15,$p=[{label:"Close",value:1,icon:"fa-magnifying-glass-plus"},{label:"Standard",value:.65,icon:"fa-eye"},{label:"Far",value:.45,icon:"fa-binoculars"},{label:"Ultra",value:.35,icon:"fa-earth-americas"}],or={maxHealth:100,currentHealth:100,maxShield:20,currentShield:20,shieldRegen:3,lastShieldHitTime:0,speed:240,fireRate:Is[G.PLASMA].fireRate,damage:Is[G.PLASMA].damage,bulletSpeed:Is[G.PLASMA].bulletSpeed,bulletCount:1,magnetRange:200,xp:0,level:1,xpToNextLevel:250,pendingLevelUps:0,weaponType:G.PLASMA,pierceCount:1,hasShield:!0,credits:5e3,shipType:"INTERCEPTOR",acquiredUpgrades:[],invulnerableUntil:0,critChance:.05,critMultiplier:1.5,creditMultiplier:1,areaSize:0,duration:0,chainRange:250,laserDuration:.3,swarmCount:3,swarmAgility:1.5,moduleSlots:[],activeBuffs:{},combatLog:[]},Yn={[Mt.NORMAL]:{id:Mt.NORMAL,name:"CADET",description:"Standard Operations",minRank:1,enemyLevelBonus:0,statMultiplier:1,lootMultiplier:1,color:"#38bdf8"},[Mt.HARD]:{id:Mt.HARD,name:"VETERAN",description:"Enemies +LV 10 | Loot +50%",minRank:1,enemyLevelBonus:10,statMultiplier:2,lootMultiplier:1.5,color:"#fbbf24"},[Mt.NIGHTMARE]:{id:Mt.NIGHTMARE,name:"ELITE",description:"Enemies +LV 30 | Loot +150%",minRank:1,enemyLevelBonus:30,statMultiplier:5,lootMultiplier:2.5,color:"#ef4444"},[Mt.HELL]:{id:Mt.HELL,name:"VOIDWALKER",description:"Enemies +LV 60 | Loot +400%",minRank:1,enemyLevelBonus:60,statMultiplier:12,lootMultiplier:5,color:"#d946ef"}},kn={[D.SCOUT]:{type:D.SCOUT,baseHealth:45,baseRadius:22,baseSpeed:80,name:"Void Scout",role:"Swarm / Fodder",guideIcon:"fa-shuttle-space",description:"Basic fast unit. Colors vary by speed.",color:{hueMin:260,hueMax:290,saturation:80,lightness:60},movementBehavior:va.ORBIT,attackPattern:Sa.SINGLE_SHOT,attackCooldown:2500,projectileSpeed:320,projectileRadius:7,projectileColor:"#f97316",xpValue:15,creditValue:5,powerUpChance:.02,attacks:{projectile:10}},[D.STRIKER]:{type:D.STRIKER,baseHealth:130,baseRadius:26,baseSpeed:110,name:"Crimson Striker",role:"Melee Rusher",guideIcon:"fa-jet-fighter",description:"Tries to ram the player. High damage collision.",color:{hueMin:340,hueMax:360,saturation:80,lightness:60},movementBehavior:va.CHASE,attackPattern:Sa.SINGLE_SHOT,attackCooldown:2500,projectileSpeed:320,projectileRadius:7,projectileColor:"#f97316",xpValue:25,creditValue:10,powerUpChance:.03,attacks:{collision:15}},[D.LASER_SCOUT]:{type:D.LASER_SCOUT,baseHealth:90,baseRadius:24,baseSpeed:80,name:"Sniper Drone",role:"Ranged Support",guideIcon:"fa-satellite",description:"Orbits at distance. Charges a laser beam.",color:"#a855f7",movementBehavior:va.KITE,attackPattern:Sa.CHARGED_BEAM,attackCooldown:4e3,xpValue:35,creditValue:15,powerUpChance:.04,attacks:{beam:12}},[D.KAMIKAZE]:{type:D.KAMIKAZE,baseHealth:25,baseRadius:18,baseSpeed:350,name:"Kamikaze Drone",role:"Suicide Bomber",guideIcon:"fa-bomb",description:"Drifts fast and explodes on contact. Elite has shield gate.",color:"#f97316",movementBehavior:va.CHARGE,attackPattern:Sa.NONE,attackCooldown:0,xpValue:20,creditValue:8,powerUpChance:.02,attacks:{explosion:40}},[D.SHIELDER]:{type:D.SHIELDER,baseHealth:80,baseRadius:24,baseSpeed:60,name:"Shield Drone",role:"Support Unit",guideIcon:"fa-shield",description:"Creates protective shield bubble around nearby enemies. Priority target.",color:"#22d3ee",movementBehavior:va.SHIELDING,attackPattern:Sa.NONE,attackCooldown:0,xpValue:50,creditValue:25,powerUpChance:.08,attacks:{}},[D.CARRIER]:{type:D.CARRIER,baseHealth:400,baseRadius:35,baseSpeed:50,name:"Drone Carrier",role:"Spawner",guideIcon:"fa-shuttle-space",description:"Slow, tanky unit that periodically deploys Scout drones.",color:"#64748b",movementBehavior:va.KITE,attackPattern:Sa.NONE,attackCooldown:8e3,xpValue:80,creditValue:40,powerUpChance:.1,spawning:{spawnType:D.SCOUT,count:3,spread:Math.PI/3,maxWaves:9},attacks:{}},[D.ASTEROID]:{type:D.ASTEROID,baseHealth:120,baseRadius:40,baseSpeed:40,name:"Asteroid Field",role:"Environmental Hazard",guideIcon:"fa-meteor",description:"Drifting space debris. Rich in minerals (Credits).",color:"#475569",movementBehavior:va.DRIFT,attackPattern:Sa.NONE,attackCooldown:0,xpValue:10,creditValue:20,powerUpChance:.05,attacks:{collision:10}},[D.BOSS_DREADNOUGHT]:{type:D.BOSS_DREADNOUGHT,baseHealth:1350,baseRadius:70,baseSpeed:40,name:"Dreadnought Boss",role:"Capital Ship",guideIcon:"fa-skull",description:"Common Boss. Massive laser cannon.",color:"#4ade80",movementBehavior:va.BOSS_STANDARD,attackPattern:Sa.BOSS_BEAM,attackCooldown:6e3,isBoss:!0,phases:[{healthPercent:100,abilities:["beam"]},{healthPercent:50,abilities:["beam","enrage"]}],xpValue:500,creditValue:1e3,powerUpChance:1,attacks:{beam:20}},[D.BOSS_DESTROYER]:{type:D.BOSS_DESTROYER,baseHealth:1200,baseRadius:75,baseSpeed:35,name:"Imperial Destroyer",role:"Heavy Carrier",guideIcon:"fa-shapes",description:"Rare Boss. Deploys Drones, Homing Missiles, and Twin Plasma.",color:"#334155",movementBehavior:va.BOSS_DESTROYER,attackPattern:Sa.TWIN_PLASMA,attackCooldown:1200,isBoss:!0,projectileSpeed:480,projectileRadius:12,projectileColor:"#f43f5e",phases:[{healthPercent:100,abilities:["plasma","missiles","spawn_kamikaze"]},{healthPercent:30,abilities:["plasma","missiles","spawn_kamikaze","enrage"]}],xpValue:600,creditValue:1200,powerUpChance:1,attacks:{projectile:15,missile:25}}};function wt(s){return kn[s]}function mh(s,n){if(typeof s.color=="string")return s.color;const{hueMin:o,hueMax:r,saturation:u,lightness:d}=s.color;return`hsl(${o+n*(r-o)}, ${u}%, ${d}%)`}const zo={[J.NORMAL]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1},[J.ELITE]:{healthMult:3,radiusMult:1.3,speedMult:.9,damageMult:1.5,xpMult:3,creditMult:2.5,colorOverride:"#d946ef",glowColor:"#f0abfc",hasShield:!0,shieldPercent:.4,specialAbilities:["hasDeathDefiance"]},[J.LEGENDARY]:{healthMult:8,radiusMult:1.6,speedMult:.85,damageMult:2,xpMult:8,creditMult:6,colorOverride:"#fbbf24",glowColor:"#fef08a",hasShield:!0,shieldPercent:.5,specialAbilities:["hasDeathDefiance","enrage"]},[J.MINIBOSS]:{healthMult:15,radiusMult:2,speedMult:.75,damageMult:2.5,xpMult:15,creditMult:10,colorOverride:"#ef4444",glowColor:"#fca5a5",hasShield:!0,shieldPercent:.6,specialAbilities:["enrage","summon"]}},ph={[J.NORMAL]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1},[J.ELITE]:{healthMult:2,radiusMult:1.15,speedMult:1.1,damageMult:1.5,xpMult:2.5,creditMult:2,colorOverride:"#d946ef",glowColor:"#f0abfc",hasShield:!0,shieldPercent:.7,specialAbilities:["enrage"]},[J.LEGENDARY]:{healthMult:4,radiusMult:1.25,speedMult:1.2,damageMult:2,xpMult:5,creditMult:4,colorOverride:"#fbbf24",glowColor:"#fef08a",hasShield:!0,shieldPercent:.8,specialAbilities:["enrage","summon","berserk"]},[J.MINIBOSS]:{healthMult:1,radiusMult:1,speedMult:1,damageMult:1,xpMult:1,creditMult:1}},Oo={elite:.08,legendary:.02,miniboss:.01},X0={elite:.2,legendary:.05};function eg(s){return zo[s]}function tg(s){return ph[s]}function ag(s){const n=Math.min(2,1+s/10),o=Math.random();let r=0;return r+=Oo.miniboss*n,o<r&&s>2?J.MINIBOSS:(r+=Oo.legendary*n,o<r&&s>1.5?J.LEGENDARY:(r+=Oo.elite*n,o<r&&s>.5?J.ELITE:J.NORMAL))}function lg(s){const n=1+s*.3,o=Math.random();let r=0;return r+=X0.legendary*n,o<r&&s>=2?J.LEGENDARY:(r+=X0.elite*n,o<r&&s>=1?J.ELITE:J.NORMAL)}const gh=Object.values(D).filter(s=>!s.startsWith("BOSS_")&&s!==D.ASTEROID);function ng(s){return gh.includes(s)}const sg=[...gh.map(s=>({type:s,label:kn[s].name,icon:kn[s].guideIcon})),{type:D.BOSS_DREADNOUGHT,label:kn[D.BOSS_DREADNOUGHT].name,icon:"fa-skull"},{type:D.BOSS_DESTROYER,label:kn[D.BOSS_DESTROYER].name,icon:"fa-shapes"}],El=[{type:Kl.INTERCEPTOR,name:"Ghost-7",description:"Agile scout. Fast shield regen.",baseStats:{speed:260,maxHealth:80,maxShield:30,shieldRegen:4,critChance:.1},cost:0,color:"#22d3ee"},{type:Kl.CRUISER,name:"Valkyrie",description:"Heavy armor. High sustain.",baseStats:{speed:200,maxHealth:250,maxShield:50,shieldRegen:2},cost:5e4,color:"#a855f7"},{type:Kl.DREADNOUGHT,name:"Behemoth",description:"Mobile fortress. Huge firepower.",baseStats:{speed:175,maxHealth:500,maxShield:120,shieldRegen:1,bulletCount:2},cost:15e4,color:"#facc15"},{type:Kl.PHANTOM,name:"Phantom",description:"Glass cannon. Phase through danger.",baseStats:{speed:320,maxHealth:60,maxShield:10,shieldRegen:5,critChance:.2},cost:8e4,color:"#818cf8",intrinsicModule:we.PHASE_SHIFT}],K0={[we.NONE]:0,[we.AFTERBURNER]:5e3,[we.SHIELD_BURST]:12e3,[we.PHASE_SHIFT]:25e3,[we.TIME_WARP]:4e4},Z0={[G.PLASMA]:0,[G.MISSILE]:1500,[G.LASER]:2e3,[G.SWARM_LAUNCHER]:2e3,[G.RAILGUN]:1500,[G.FLAK_CANNON]:1500,[G.ENERGY_ORB]:2500,[G.ARC_CASTER]:2500,[G.FLAMETHROWER]:1800},Yo=[{id:"titan_gen",type:ct.STAT,name:"Titan Generator",description:"+50 Max Shield (instant recharge).",icon:"fa-shield-halved",rarity:"LEGENDARY",maxStacks:1,weight:3,effects:[{stat:"maxShield",value:50,operation:"addFlat"},{stat:"currentShield",value:50,operation:"addFlat"}]},{id:"berserker_mod",type:ct.STAT,name:"Berserker Module",description:"+35% Damage, -20% Max HP.",icon:"fa-skull",rarity:"LEGENDARY",maxStacks:1,weight:3,effects:[{stat:"damage",value:.35,operation:"addPercent"},{stat:"maxHealth",value:.8,operation:"setMultiply"},{stat:"currentHealth",value:.8,operation:"setMultiply"}]},{id:"nano_repair",type:ct.STAT,name:"Nanite Weaver",description:"Triples Shield Regen.",icon:"fa-rotate",rarity:"RARE",maxStacks:1,weight:5,effects:[{stat:"shieldRegen",value:3,operation:"setMultiply"}]},{id:"hull_plate",type:ct.STAT,name:"Hull Plating",description:"+10 Max HP (heals 10).",icon:"fa-heart",rarity:"COMMON",maxStacks:20,weight:15,effects:[{stat:"maxHealth",value:10,operation:"addFlat"},{stat:"currentHealth",value:10,operation:"addFlat"}]},{id:"dmg_boost",type:ct.STAT,name:"Core Reactor",description:"+10% Damage.",icon:"fa-burst",rarity:"COMMON",maxStacks:99,weight:12,effects:[{stat:"damage",value:.1,operation:"addPercent"}]},{id:"fire_rate",type:ct.STAT,name:"Rapid Cycler",description:"+5% Fire Rate.",icon:"fa-bolt",rarity:"COMMON",maxStacks:99,weight:12,effects:[{stat:"fireRate",value:.05,operation:"addPercent"}]},{id:"speed_boost",type:ct.STAT,name:"Ion Thrusters",description:"+5% Movement Speed.",icon:"fa-forward",rarity:"COMMON",maxStacks:10,weight:12,effects:[{stat:"speed",value:.05,operation:"addPercent"}]},{id:"crit_mod",type:ct.STAT,name:"Lens Polish",description:"+5% Critical Chance.",icon:"fa-crosshairs",rarity:"RARE",maxStacks:10,weight:8,effects:[{stat:"critChance",value:.05,operation:"addFlat",cap:1}]},{id:"magnet_boost",type:ct.STAT,name:"Gravity Field",description:"+15% Pickup Range.",icon:"fa-magnet",rarity:"COMMON",maxStacks:5,weight:10,effects:[{stat:"magnetRange",value:.15,operation:"addPercent"}]},{id:"cons_heal",type:ct.CONSUMABLE,name:"Emergency Repair",description:"Instant: Restore 100% Hull Integrity.",icon:"fa-heart-pulse",rarity:"COMMON",maxStacks:999,weight:8},{id:"cons_shield",type:ct.CONSUMABLE,name:"Shield Reboot",description:"Instant: Fully Recharge Shields.",icon:"fa-shield-virus",rarity:"COMMON",maxStacks:999,weight:8},{id:"cons_emp",type:ct.CONSUMABLE,name:"EMP Blast",description:"Tactical: Destroy all active enemies and bullets on screen.",icon:"fa-car-battery",rarity:"RARE",maxStacks:999,weight:4},{id:"cons_nuke",type:ct.CONSUMABLE,name:"Tactical Nuke",description:"Tactical: Detonate a massive explosion around your ship.",icon:"fa-radiation",rarity:"RARE",maxStacks:999,weight:4},{id:"cons_score",type:ct.CONSUMABLE,name:"Data Cache",description:"Bonus: Instantly gain 2,500 Score.",icon:"fa-database",rarity:"COMMON",maxStacks:999,weight:10}],Pn=[{id:"meta_hp",name:"Titanium Hull",description:"+10% Max HP per level.",icon:"fa-shield-heart",maxLevel:50,costBase:100,costFactor:1.3,effects:[{stat:"maxHealth",perLevel:.1,operation:"addPercent"}]},{id:"meta_shield",name:"Shield Generator",description:"+15% Shield Capacity per level.",icon:"fa-shield-halved",maxLevel:30,costBase:150,costFactor:1.35,effects:[{stat:"maxShield",perLevel:.15,operation:"addPercent"}]},{id:"meta_regen",name:"Auto-Repair",description:"+10% Shield Regen per level.",icon:"fa-rotate",maxLevel:20,costBase:300,costFactor:1.4,effects:[{stat:"shieldRegen",perLevel:.1,operation:"addPercent"}]},{id:"meta_dmg",name:"Weapon Overclock",description:"+5% Base Damage per level.",icon:"fa-fire",maxLevel:100,costBase:200,costFactor:1.25,effects:[{stat:"baseDamage",perLevel:.05,operation:"addPercent"}]},{id:"meta_crit_chance",name:"Predictive Algo",description:"+1% Crit Chance per level.",icon:"fa-crosshairs",maxLevel:25,costBase:500,costFactor:1.5,effects:[{stat:"critChance",perLevel:.01,operation:"add"}]},{id:"meta_crit_dmg",name:"Lethal Frequency",description:"+5% Crit Damage per level.",icon:"fa-skull-crossbones",maxLevel:50,costBase:400,costFactor:1.3,effects:[{stat:"critDamage",perLevel:.05,operation:"addPercent"}]},{id:"meta_magnet",name:"Tractor Beam",description:"+5% Pickup Radius per level.",icon:"fa-magnet",maxLevel:20,costBase:100,costFactor:1.25,effects:[{stat:"magnetRange",perLevel:.05,operation:"addPercent"}]},{id:"meta_speed",name:"Thruster Tuning",description:"+2% Flight Speed per level.",icon:"fa-forward-fast",maxLevel:20,costBase:800,costFactor:1.4,effects:[{stat:"speed",perLevel:.02,operation:"addPercent"}]},{id:"meta_salvage",name:"Salvage Protocols",description:"+5% Credits per level.",icon:"fa-coins",maxLevel:50,costBase:500,costFactor:1.2,effects:[{stat:"salvageBonus",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_rate",name:"Plasma Cycler",description:"+5% Fire Rate per level.",icon:"fa-bolt",maxLevel:10,costBase:500,costFactor:1.2,weaponType:G.PLASMA,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_area",name:"Cryo-Plasma",description:"Plasma slows enemies effectively (Chill).",icon:"fa-snowflake",maxLevel:10,costBase:1e3,costFactor:1.6,weaponType:G.PLASMA},{id:"meta_plas_dmg",name:"Plasma Intensity",description:"+5% Damage per level.",icon:"fa-fire-burner",maxLevel:100,costBase:200,costFactor:1.12,weaponType:G.PLASMA,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_plas_speed",name:"Velocity Coil",description:"+8% Projectile Speed per level.",icon:"fa-wind",maxLevel:30,costBase:400,costFactor:1.2,weaponType:G.PLASMA,effects:[{stat:"bulletSpeed",perLevel:.08,operation:"addPercent"}]},{id:"meta_plas_count",name:"Split Chamber",description:"+1 Projectile count.",icon:"fa-clone",maxLevel:2,costBase:5e3,costFactor:2.5,weaponType:G.PLASMA,effects:[{stat:"bulletCount",perLevel:1,operation:"add"}]},{id:"meta_msl_rad",name:"Warhead Yield",description:"+10% explosion radius per level.",icon:"fa-bomb",maxLevel:20,costBase:4e3,costFactor:1.6,weaponType:G.MISSILE,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_msl_dmg",name:"Payload Potency",description:"+5% Damage per level.",icon:"fa-explosion",maxLevel:100,costBase:500,costFactor:1.12,weaponType:G.MISSILE,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_msl_reload",name:"Auto-Loader",description:"+5% Fire Rate per level.",icon:"fa-repeat",maxLevel:40,costBase:1e3,costFactor:1.25,weaponType:G.MISSILE,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_lsr_recharge",name:"Capacitor Banks",description:"+8% Fire Rate per level.",icon:"fa-battery-full",maxLevel:20,costBase:2e3,costFactor:1.45,weaponType:G.LASER,effects:[{stat:"fireRate",perLevel:.08,operation:"addPercent"}]},{id:"meta_lsr_dmg",name:"Beam Focus",description:"+5% Damage per level.",icon:"fa-sun",maxLevel:100,costBase:800,costFactor:1.12,weaponType:G.LASER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_lsr_duration",name:"Heat Sinks",description:"+10% Beam Duration per level.",icon:"fa-hourglass-start",maxLevel:20,costBase:1500,costFactor:1.3,weaponType:G.LASER,effects:[{stat:"laserDuration",perLevel:.1,operation:"addPercent"}]},{id:"meta_swarm_count",name:"Extended Magazines",description:"+1 Rocket per salvo.",icon:"fa-layer-group",maxLevel:17,costBase:1e4,costFactor:1.55,weaponType:G.SWARM_LAUNCHER,effects:[{stat:"swarmCount",perLevel:1,operation:"add"}]},{id:"meta_swarm_agility",name:"Thrust Vectoring",description:"+15% homing turn rate.",icon:"fa-paper-plane",maxLevel:20,costBase:2e3,costFactor:1.3,weaponType:G.SWARM_LAUNCHER,effects:[{stat:"swarmAgility",perLevel:.15,operation:"addPercent"}]},{id:"meta_swarm_dmg",name:"Micro-Warheads",description:"+5% Damage per level.",icon:"fa-burst",maxLevel:100,costBase:600,costFactor:1.15,weaponType:G.SWARM_LAUNCHER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_swarm_cd",name:"Reloader Mechanism",description:"+5% Fire Rate per level.",icon:"fa-clock",maxLevel:50,costBase:3e3,costFactor:1.25,weaponType:G.SWARM_LAUNCHER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_ab_dur",name:"Fuel Injectors",description:"+1s Duration.",icon:"fa-stopwatch",maxLevel:10,costBase:2e3,costFactor:1.3,moduleType:we.AFTERBURNER,effects:[{stat:"duration",perLevel:1e3,operation:"add"}]},{id:"meta_ab_cd",name:"Coolant Flush",description:"-2s Cooldown.",icon:"fa-snowflake",maxLevel:15,costBase:3e3,costFactor:1.35,moduleType:we.AFTERBURNER,effects:[{stat:"cooldown",perLevel:-2e3,operation:"add"}]},{id:"meta_ab_spd",name:"Turbine Overclock",description:"+10% Speed Boost.",icon:"fa-forward",maxLevel:10,costBase:2500,costFactor:1.4,moduleType:we.AFTERBURNER,effects:[{stat:"power",perLevel:.1,operation:"addPercent"}]},{id:"meta_sb_dur",name:"Extended Barrier",description:"+0.25s Invulnerability.",icon:"fa-hourglass-half",maxLevel:6,costBase:2500,costFactor:1.35,moduleType:we.SHIELD_BURST,effects:[{stat:"duration",perLevel:250,operation:"add"}]},{id:"meta_sb_cd",name:"Rapid Recharge",description:"-0.2s Cooldown.",icon:"fa-bolt",maxLevel:8,costBase:3e3,costFactor:1.4,moduleType:we.SHIELD_BURST,effects:[{stat:"cooldown",perLevel:-200,operation:"add"}]},{id:"meta_rail_dmg",name:"Core Penetrator",description:"+5% Damage per level.",icon:"fa-bolt",maxLevel:100,costBase:800,costFactor:1.12,weaponType:G.RAILGUN,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_rail_rate",name:"Capacitor Array",description:"+5% Fire Rate per level.",icon:"fa-gauge-high",maxLevel:40,costBase:1500,costFactor:1.25,weaponType:G.RAILGUN,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_rail_speed",name:"Hypervelocity",description:"+10% Speed, +2% Damage.",icon:"fa-fighter-jet",maxLevel:20,costBase:1e3,costFactor:1.3,weaponType:G.RAILGUN,effects:[{stat:"bulletSpeed",perLevel:.1,operation:"addPercent"},{stat:"damageMult",perLevel:.02,operation:"addPercent"}]},{id:"meta_flak_dmg",name:"Frag Rounds",description:"+5% Damage per level.",icon:"fa-spray-can",maxLevel:100,costBase:600,costFactor:1.12,weaponType:G.FLAK_CANNON,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_flak_pellets",name:"Scattershot",description:"+2 Pellets per shot.",icon:"fa-ellipsis",maxLevel:4,costBase:8e3,costFactor:2,weaponType:G.FLAK_CANNON,effects:[{stat:"bulletCount",perLevel:2,operation:"add"}]},{id:"meta_flak_range",name:"Barrel Extension",description:"+8% Range per level.",icon:"fa-ruler-horizontal",maxLevel:20,costBase:1200,costFactor:1.25,weaponType:G.FLAK_CANNON,effects:[{stat:"bulletSpeed",perLevel:.08,operation:"addPercent"}]},{id:"meta_flak_rate",name:"Rapid Pump",description:"+3% Fire Rate per level.",icon:"fa-gauge-high",maxLevel:10,costBase:1500,costFactor:1.3,weaponType:G.FLAK_CANNON,effects:[{stat:"fireRate",perLevel:.03,operation:"addPercent"}]},{id:"meta_orb_dmg",name:"Core Instability",description:"+5% Damage per level.",icon:"fa-atom",maxLevel:100,costBase:800,costFactor:1.12,weaponType:G.ENERGY_ORB,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_orb_rad",name:"Event Horizon",description:"+10% Area Size per level.",icon:"fa-circle-dot",maxLevel:20,costBase:2500,costFactor:1.35,weaponType:G.ENERGY_ORB,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_orb_cd",name:"Gravitic Cycler",description:"+5% Fire Rate per level.",icon:"fa-clock",maxLevel:30,costBase:2e3,costFactor:1.25,weaponType:G.ENERGY_ORB,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_orb_dur",name:"Stable Field",description:"+15% Flight Duration.",icon:"fa-hourglass-half",maxLevel:10,costBase:3e3,costFactor:1.4,weaponType:G.ENERGY_ORB,effects:[{stat:"duration",perLevel:.15,operation:"addPercent"}]},{id:"meta_arc_dmg",name:"Voltage Step-Up",description:"+5% Damage per level.",icon:"fa-bolt-lightning",maxLevel:100,costBase:600,costFactor:1.12,weaponType:G.ARC_CASTER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_arc_jumps",name:"Conductive Nodes",description:"+1 Chain Jump count.",icon:"fa-share-nodes",maxLevel:5,costBase:8e3,costFactor:2.2,weaponType:G.ARC_CASTER,effects:[{stat:"pierceCount",perLevel:1,operation:"add"}]},{id:"meta_arc_range",name:"High Voltage",description:"+10% Chain Range.",icon:"fa-tower-broadcast",maxLevel:20,costBase:1500,costFactor:1.3,weaponType:G.ARC_CASTER,effects:[{stat:"chainRange",perLevel:.1,operation:"addPercent"}]},{id:"meta_arc_rate",name:"Discharge Rate",description:"+5% Fire Rate.",icon:"fa-stopwatch-20",maxLevel:40,costBase:1200,costFactor:1.25,weaponType:G.ARC_CASTER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_flame_dmg",name:"Napalm Mix",description:"+5% Damage per level.",icon:"fa-fire",maxLevel:100,costBase:600,costFactor:1.12,weaponType:G.FLAMETHROWER,effects:[{stat:"damageMult",perLevel:.05,operation:"addPercent"}]},{id:"meta_flame_dur",name:"Pressure Tank",description:"+10% Flame Range (Duration).",icon:"fa-ruler-horizontal",maxLevel:25,costBase:1200,costFactor:1.3,weaponType:G.FLAMETHROWER,effects:[{stat:"duration",perLevel:.1,operation:"addPercent"}]},{id:"meta_flame_area",name:"Wide Nozzle",description:"+10% Flame Width.",icon:"fa-vector-square",maxLevel:20,costBase:2e3,costFactor:1.4,weaponType:G.FLAMETHROWER,effects:[{stat:"explosionRadius",perLevel:.1,operation:"addPercent"}]},{id:"meta_flame_rate",name:"Turbo Pump",description:"+5% Fire Rate.",icon:"fa-gauge-high",maxLevel:40,costBase:1500,costFactor:1.25,weaponType:G.FLAMETHROWER,effects:[{stat:"fireRate",perLevel:.05,operation:"addPercent"}]},{id:"meta_warp_dur",name:"Chronosphere",description:"+0.5s Duration.",icon:"fa-clock",maxLevel:6,costBase:3e3,costFactor:1.4,moduleType:we.TIME_WARP,effects:[{stat:"duration",perLevel:500,operation:"add"}]},{id:"meta_warp_slow",name:"Viscosity",description:"-5% Enemy Speed (Stronger Slow).",icon:"fa-hourglass",maxLevel:10,costBase:4e3,costFactor:1.5,moduleType:we.TIME_WARP,effects:[{stat:"power",perLevel:.05,operation:"add"}]},{id:"meta_warp_cd",name:"Flux Capacitor",description:"-2s Cooldown.",icon:"fa-rotate",maxLevel:10,costBase:3500,costFactor:1.35,moduleType:we.TIME_WARP,effects:[{stat:"cooldown",perLevel:-2e3,operation:"add"}]}],Gn={OVERDRIVE:{id:"OVERDRIVE",name:"Overdrive",type:"DURATION",duration:8e3,weight:10,color:"#d946ef",icon:"fa-bolt-lightning",label:"F",description:"2x fire rate for 8 seconds"},OMNI:{id:"OMNI",name:"Omni Shot",type:"DURATION",duration:1e4,weight:8,color:"#fbbf24",icon:"fa-arrows-split-up-and-left",label:"M",description:"Fire in all directions for 10 seconds"},PIERCE:{id:"PIERCE",name:"Super Pierce",type:"DURATION",duration:7e3,weight:8,color:"#22d3ee",icon:"fa-ghost",label:"P",description:"Projectiles pierce through enemies for 7 seconds"},SPEED:{id:"SPEED",name:"Nitro Boost",type:"DURATION",duration:6e3,weight:12,color:"#34d399",icon:"fa-forward-fast",label:"S",description:"+50% movement speed for 6 seconds"},HEALTH:{id:"HEALTH",name:"Repair Kit",type:"INSTANT",weight:5,color:"#ef4444",icon:"fa-heart-pulse",label:"+",description:"Restore 35% health"},SHIELD:{id:"SHIELD",name:"Shield Battery",type:"INSTANT",weight:5,color:"#3b82f6",icon:"fa-shield-virus",label:"B",description:"Fully restore shield"}},yh={[D.SCOUT]:1,[D.STRIKER]:3,[D.LASER_SCOUT]:5,[D.KAMIKAZE]:2,[D.ASTEROID]:.5,[D.BOSS_DESTROYER]:20,[D.BOSS_DREADNOUGHT]:20},bh={[D.SCOUT]:30,[D.STRIKER]:60,[D.LASER_SCOUT]:150,[D.KAMIKAZE]:40,[D.ASTEROID]:300,[D.BOSS_DESTROYER]:1e3,[D.BOSS_DREADNOUGHT]:1e3},vh={[D.SCOUT]:100,[D.STRIKER]:250,[D.LASER_SCOUT]:500,[D.KAMIKAZE]:150,[D.ASTEROID]:50,[D.BOSS_DESTROYER]:5e3,[D.BOSS_DREADNOUGHT]:5e3},zs={normal:1,elite:4,legendary:6,miniboss:9.5,boss:12},ba={credit:{base:.33,elite:1,miniboss:1,legendary:1,boss:1},powerUp:{base:.05,elite:.25,miniboss:.5,legendary:.75,boss:1}},Ps={xpPerLevel:.1,creditPerLevel:.2,scorePerLevel:.2},ks={creditMin:300,creditMax:600,xpValue:10,score:50},qs={waveDuration:45,lullDuration:15,rushHourDuration:15,bossInterval:180,destroyerChance:.35,bossCalmDuration:60,bossCalmDelayMultiplier:3,spawnRates:{base:2.2,min:.15,decayPerSecond:300,rushMultiplier:2.5},enemyTypeRolls:{laserScoutThreshold:.85,laserScoutUnlockTime:180,strikerThreshold:.7,shielderThreshold:.8,shielderUnlockTime:240,carrierThreshold:.78,carrierUnlockTime:360,kamikazeThreshold:.95,kamikazeUnlockTime:120,kamikazeCooldown:30,kamikazeMinCount:2,kamikazeMaxCount:5,eliteWaveChance:.1},lullSpawnDelay:3,lullSpawnChance:.5};Mt.HARD+"",{...qs.spawnRates},Mt.NIGHTMARE+"",{...qs.spawnRates},Mt.HELL+"",{...qs.spawnRates};const Q0=({onMove:s,className:n})=>{const[o,r]=U.useState(null),[u,d]=U.useState({x:0,y:0}),h=U.useRef(null),p=U.useRef(null),y=U.useCallback((b,x,E)=>{h.current=E,r({x:b,y:x}),d({x:0,y:0})},[]),m=U.useCallback((b,x)=>{if(!o)return;const E=b-o.x,M=x-o.y,T=Math.sqrt(E*E+M*M),L=60,w=Math.min(T,L),I=Math.atan2(M,E),H=Math.cos(I)*w,F=Math.sin(I)*w;d({x:H,y:F}),s({x:H/L,y:F/L})},[o,s]),v=U.useCallback(()=>{h.current=null,r(null),d({x:0,y:0}),s({x:0,y:0})},[s]);return U.useEffect(()=>{const b=p.current;if(!b)return;const x=T=>{if(T.cancelable&&T.preventDefault(),h.current===null&&T.changedTouches.length>0){const L=T.changedTouches[0];y(L.clientX,L.clientY,L.identifier)}},E=T=>{if(h.current!==null){for(let L=0;L<T.changedTouches.length;L++)if(T.changedTouches[L].identifier===h.current){T.cancelable&&T.preventDefault(),m(T.changedTouches[L].clientX,T.changedTouches[L].clientY);break}}},M=T=>{if(h.current!==null){for(let L=0;L<T.changedTouches.length;L++)if(T.changedTouches[L].identifier===h.current){T.cancelable&&T.preventDefault(),v();break}}};return b.addEventListener("touchstart",x,{passive:!1}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",M),window.addEventListener("touchcancel",M),()=>{b.removeEventListener("touchstart",x),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",M),window.removeEventListener("touchcancel",M)}},[y,m,v]),U.useEffect(()=>{const b=p.current;if(!b)return;const x=T=>{y(T.clientX,T.clientY,999)},E=T=>{h.current===999&&m(T.clientX,T.clientY)},M=()=>{h.current===999&&v()};return b.addEventListener("mousedown",x),window.addEventListener("mousemove",E),window.addEventListener("mouseup",M),()=>{b.removeEventListener("mousedown",x),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",M)}},[y,m,v]),f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:p,className:`${n} touch-none`}),o&&f.jsx("div",{className:"fixed z-[999] pointer-events-none",style:{left:o.x,top:o.y},children:f.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 w-32 h-32 border-4 border-cyan-400/20 rounded-full bg-cyan-900/10 backdrop-blur-sm flex items-center justify-center",children:f.jsx("div",{className:"w-14 h-14 bg-cyan-400 rounded-full shadow-[0_0_30px_rgba(34,211,238,0.8)] border-2 border-white/40",style:{transform:`translate(${u.x}px, ${u.y}px)`}})})})]})},Xl={player:"#fff",enemy:"#ef4444",enemyKamikaze:"#f97316",enemyBoss:"#db2777",xp:"rgba(59, 130, 246, 0.6)",credit:"rgba(234, 179, 8, 0.6)"},ig=({playerPosRef:s,enemiesRef:n,pickupsRef:o,range:r=2500,size:u=110,className:d=""})=>{const h=U.useRef(null);return U.useEffect(()=>{const p=h.current;if(!p)return;const y=p.getContext("2d");if(!y)return;let m;const v=()=>{if(!s.current||!n.current||!o.current){m=requestAnimationFrame(v);return}y.clearRect(0,0,u,u);const b=u/2,x=u/2/r,E=u/2;y.beginPath(),y.moveTo(b,0),y.lineTo(b,u),y.moveTo(0,b),y.lineTo(u,b),y.strokeStyle="rgba(56, 189, 248, 0.1)",y.stroke();const M=(L,w)=>Math.abs(L)<=E&&Math.abs(w)<=E,T=s.current;o.current.forEach(L=>{var Q,P;const w=((Q=L.pos)==null?void 0:Q.x)??0,I=((P=L.pos)==null?void 0:P.y)??0,H=(w-T.x)*x,F=(I-T.y)*x;if(M(H,F)){let X=Xl.xp,$=!1;(L.type==="CREDIT"||L.type==="POWERUP"&&L.powerUpId==="CREDIT_SMALL")&&(X=Xl.credit,$=!0),y.fillStyle=X,y.beginPath(),y.fillRect(b+H-($?1:.75),b+F-($?1:.75),$?2:1.5,$?2:1.5)}}),n.current.forEach(L=>{if(L.health&&L.health<=0)return;const w=L.pos.x,I=L.pos.y,H=(w-T.x)*x,F=(I-T.y)*x;if(M(H,F)){let Q=Xl.enemy,P=2;L.isBoss?(Q=Xl.enemyBoss,P=5):L.type===D.KAMIKAZE&&(Q=Math.floor(performance.now()/200)%2===0?Xl.enemyKamikaze:"#fff",P=3),y.fillStyle=Q,L.isBoss?y.fillRect(b+H-P,b+F-P,P*2,P*2):(y.beginPath(),y.arc(b+H,b+F,P,0,Math.PI*2),y.fill())}else if(L.isBoss){const Q=Math.max(-E+4,Math.min(E-4,H)),P=Math.max(-E+4,Math.min(E-4,F));y.fillStyle=Xl.enemyBoss,y.beginPath(),y.arc(b+Q,b+P,4,0,Math.PI*2),y.fill()}}),y.fillStyle=Xl.player,y.beginPath(),y.arc(b,b,3,0,Math.PI*2),y.fill(),m=requestAnimationFrame(v)};return v(),()=>{cancelAnimationFrame(m)}},[n,o,s,r,u]),f.jsx("canvas",{ref:h,width:u,height:u,className:`shadow-lg bg-slate-900/80 border border-slate-700/50 backdrop-blur-md ${d}`})},rg=5,ur=500;let hr=0;function cg(s){hr+=s}function og(){hr=0}const Sh=({enabled:s})=>{const[n,o]=U.useState(0),[r,u]=U.useState(0),d=U.useRef([]),h=U.useRef(0),p=U.useCallback(()=>{const y=performance.now();if(y-h.current<ur)return;h.current=y,d.current.push(hr),hr=0;const m=Math.ceil(rg*1e3/ur);for(;d.current.length>m;)d.current.shift();const v=d.current.reduce((E,M)=>E+M,0),b=d.current.length*ur/1e3,x=b>0?v/b:0;o(Math.round(x)),u(E=>Math.max(E,Math.round(x)))},[]);return U.useEffect(()=>{if(!s)return;const y=setInterval(p,ur);return()=>clearInterval(y)},[s,p]),s?f.jsxs("div",{className:"bg-slate-950/80 backdrop-blur-sm border border-slate-800 rounded-xl px-4 py-2 min-w-[100px] mb-2 pointer-events-none animate-in fade-in zoom-in duration-300",children:[f.jsx("div",{className:"text-[10px] uppercase tracking-widest text-slate-500 font-bold",children:"DPS"}),f.jsx("div",{className:"text-2xl font-black text-cyan-400 tabular-nums",children:n.toLocaleString()}),f.jsxs("div",{className:"text-[9px] text-slate-500 mt-1",children:["Peak: ",f.jsx("span",{className:"text-orange-400 font-bold",children:r.toLocaleString()})]})]}):null},ug=Object.freeze(Object.defineProperty({__proto__:null,default:Sh,recordDamage:cg,resetDamageMeter:og},Symbol.toStringTag,{value:"Module"})),F0=s=>s>=1e6?(s/1e6).toFixed(2)+"M":s>=1e3?(s/1e3).toFixed(1)+"k":Math.floor(s).toLocaleString(),fg=({until:s,maxDuration:n,color:o,icon:r})=>{const[u,d]=U.useState(0);if(U.useEffect(()=>{const x=setInterval(()=>{const E=performance.now(),M=Math.max(0,s-E);d(M),M<=0&&clearInterval(x)},50);return()=>clearInterval(x)},[s]),u<=0)return null;const h=48,p=4,y=h/2-p,m=y*2*Math.PI,v=u/n,b=m-v*m;return f.jsxs("div",{className:"flex flex-col items-center gap-1 animate-in zoom-in fade-in duration-300 pointer-events-none",children:[f.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center bg-slate-900/80 rounded-full border border-slate-700 shadow-lg",children:[f.jsxs("svg",{width:h,height:h,className:"absolute -rotate-90",children:[f.jsx("circle",{cx:h/2,cy:h/2,r:y,stroke:"rgba(255,255,255,0.1)",strokeWidth:p,fill:"none"}),f.jsx("circle",{cx:h/2,cy:h/2,r:y,stroke:o,strokeWidth:p,fill:"none",strokeDasharray:m,strokeDashoffset:b,strokeLinecap:"round",className:"transition-[stroke-dashoffset] duration-100 ease-linear"})]}),f.jsx("div",{className:"text-lg drop-shadow-lg",style:{color:o},children:f.jsx("i",{className:`fa-solid ${r}`})})]}),f.jsxs("span",{className:"text-[9px] font-black uppercase text-white tracking-widest drop-shadow-md bg-slate-900/60 px-1 rounded",children:[(u/1e3).toFixed(1),"s"]})]})},dg={[we.NONE]:"fa-circle",[we.AFTERBURNER]:"fa-forward-fast",[we.SHIELD_BURST]:"fa-shield-heart",[we.PHASE_SHIFT]:"fa-ghost",[we.TIME_WARP]:"fa-clock"},hg=({slot:s,slotIndex:n,onActivate:o})=>{const[r,u]=U.useState({ready:!1,progress:0,active:!1,timeLeft:0});U.useEffect(()=>{const p=()=>{const m=performance.now(),v=m<s.activeUntil,b=m>=s.readyTime;let x=0,E=0;if(v){const M=s.activeUntil-m;x=M/s.duration,E=M}else b?x=1:x=1-(s.readyTime-m)/s.cooldownMax;u({ready:b,progress:x,active:v,timeLeft:E})},y=setInterval(p,50);return p(),()=>clearInterval(y)},[s.readyTime,s.activeUntil,s.duration,s.cooldownMax]);const d=p=>{p.stopPropagation(),(r.ready||r.active)&&o(n)},h=dg[s.type]||"fa-puzzle-piece";return f.jsxs("div",{className:"flex flex-col items-center relative",children:[f.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-amber-500 text-slate-950 text-[10px] font-black rounded-full flex items-center justify-center shadow-md z-20",style:{fontFamily:"system-ui, sans-serif",fontVariantNumeric:"tabular-nums"},children:n+1}),f.jsxs("button",{onPointerDown:d,className:`relative w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all
          ${r.ready||r.active?"active:scale-95 cursor-pointer":"cursor-not-allowed opacity-80"}
          ${r.active?"bg-fuchsia-600 animate-pulse ring-2 ring-white":r.ready?"bg-slate-900 border-2 border-fuchsia-500 text-fuchsia-400":"bg-slate-900 border-2 border-slate-700 text-slate-600"}`,children:[f.jsx("i",{className:`fa-solid ${h} text-xl z-10 ${r.ready||r.active?"text-white":"text-slate-600"}`}),!r.ready&&!r.active&&f.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",viewBox:"0 0 56 56",children:[f.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"rgba(255,255,255,0.05)",strokeWidth:"3"}),f.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"#d946ef",strokeWidth:"3",strokeOpacity:"0.5",strokeDasharray:157,strokeDashoffset:157*(1-r.progress),strokeLinecap:"round"})]}),r.active&&f.jsx("svg",{className:"absolute inset-0 w-full h-full -rotate-90 pointer-events-none",viewBox:"0 0 56 56",children:f.jsx("circle",{cx:"28",cy:"28",r:"25",fill:"none",stroke:"rgba(255,255,255,0.8)",strokeWidth:"3",strokeDasharray:157,strokeDashoffset:157*(1-r.progress),strokeLinecap:"round"})})]}),f.jsx("span",{className:"mt-1 bg-slate-900/80 text-[8px] font-black uppercase text-fuchsia-400 px-1.5 py-0.5 rounded border border-fuchsia-500/30 shadow-lg",children:r.active?`${(r.timeLeft/1e3).toFixed(1)}s`:r.ready?"READY":"WAIT"})]})},mg=({stats:s,score:n,autoAttack:o,setAutoAttack:r,totalCredits:u,onPause:d,onShowUpgrades:h,onOpenGarage:p,onLevelClick:y,onActivateModule:m,enemiesRef:v,pickupsRef:b,playerPosRef:x,showDpsMeter:E})=>{var ae;const M=Math.max(0,s.currentHealth/s.maxHealth*100),T=Math.max(0,s.currentShield/s.maxShield*100),L=Math.max(0,Math.min(100,s.xp/s.xpToNextLevel*100)),w=performance.now()<s.invulnerableUntil,I=s.pendingLevelUps>0,H=((ae=El.find(K=>K.type===s.shipType))==null?void 0:ae.name)||"Vessel",[F,Q]=U.useState([]),P=U.useRef(s.currentHealth),X=U.useRef(s.currentShield);U.useEffect(()=>{if(s.currentHealth<P.current){const K=Math.floor(P.current-s.currentHealth);K>0&&$(K,"HULL")}if(P.current=s.currentHealth,s.currentShield<X.current){const K=Math.floor(X.current-s.currentShield);K>0&&$(K,"SHIELD")}X.current=s.currentShield},[s.currentHealth,s.currentShield]);const $=(K,ce)=>{const me=Date.now()+Math.random();Q(Te=>[...Te,{id:me,value:K,type:ce}]),setTimeout(()=>{Q(Te=>Te.filter(Ge=>Ge.id!==me))},800)},ee=(K,ce)=>{K.stopPropagation(),ce()};return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
      @keyframes floatUp {
        0% { transform: translateY(0) scale(1); opacity: 1; }
        50% { transform: translateY(-20px) scale(1.2); opacity: 1; }
        100% { transform: translateY(-40px) scale(1); opacity: 0; }
      }
    `}),f.jsxs("div",{className:"fixed top-0 left-0 w-full p-2 pointer-events-none z-50 flex flex-col gap-4",children:[f.jsxs("div",{className:"flex justify-between items-start w-full",children:[f.jsxs("div",{className:"flex flex-col gap-2 pointer-events-auto max-w-[45%]",children:[f.jsxs("button",{onPointerDown:K=>I&&y?ee(K,y):void 0,className:`bg-slate-900/80 backdrop-blur-md border border-cyan-500/40 rounded-xl p-2 flex flex-col shadow-2xl min-w-[140px] transition-all
                ${I?"animate-pulse ring-2 ring-cyan-400 cursor-pointer active:scale-95":""}`,children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"text-cyan-400/70 text-[9px] font-black uppercase tracking-widest truncate",children:H}),f.jsx("div",{className:`bg-cyan-500 text-slate-950 px-1.5 rounded text-[9px] font-black shrink-0 ${I?"bg-white":""}`,children:I?"UPGRADE!":`LV ${s.level}`})]}),f.jsx("div",{className:"w-full h-1.5 bg-slate-950 rounded-full overflow-hidden border border-slate-700/50 mb-1",children:f.jsx("div",{className:"h-full bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.8)] transition-all duration-700",style:{width:`${L}%`}})})]}),f.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-amber-500/40 rounded-xl p-2 flex flex-col gap-0.5 shadow-2xl min-w-[140px] w-fit",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-coins text-amber-400 text-xs"}),f.jsx("span",{className:"text-amber-400 font-black text-sm leading-none",children:F0(s.credits)}),f.jsx("span",{className:"text-[9px] text-amber-500/60 font-bold uppercase",children:"EARNED"})]}),f.jsxs("div",{className:"flex items-center gap-2 border-t border-amber-500/20 pt-0.5 mt-0.5",children:[f.jsx("i",{className:"fa-solid fa-wallet text-slate-500 text-[10px]"}),f.jsx("span",{className:"text-slate-400 font-bold text-xs leading-none",children:F0(u)}),f.jsx("span",{className:"text-[8px] text-slate-600 font-bold uppercase",children:"TOTAL"})]})]}),f.jsx("div",{className:"mt-1 pointer-events-auto",style:{width:"140px",height:"140px"},children:f.jsx(ig,{playerPosRef:x,enemiesRef:v,pickupsRef:b,size:140,range:3e3,className:"rounded-xl"})})]}),f.jsxs("div",{className:"flex flex-col items-end gap-3 pointer-events-auto",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onPointerDown:K=>ee(K,()=>r(!o)),className:`w-12 h-12 bg-slate-900/90 border-2 rounded-xl flex items-center justify-center transition-all shadow-2xl active:scale-90 ${o?"border-emerald-500 text-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"border-slate-700 text-slate-500 opacity-60"}`,children:f.jsx("i",{className:`fa-solid ${o?"fa-crosshairs":"fa-slash"} text-lg`})}),f.jsx("button",{onPointerDown:K=>ee(K,d),className:"w-12 h-12 bg-slate-900/90 border-2 border-slate-700 rounded-xl flex items-center justify-center text-white active:scale-90 transition-all shadow-2xl",children:f.jsx("i",{className:"fa-solid fa-pause text-lg"})})]}),f.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-sm px-3 py-1.5 rounded-lg border border-white/10 flex flex-col items-end shadow-xl",children:[f.jsx("span",{className:"text-white/40 text-[9px] font-black uppercase tracking-widest",children:"SCORE"}),f.jsx("span",{className:"text-white text-lg font-black italic leading-none tabular-nums",children:n.toLocaleString()})]}),E&&f.jsx("div",{className:"mt-2",children:f.jsx(Sh,{enabled:!0})}),f.jsx("div",{className:"flex flex-col gap-2 mt-1 items-end",children:Object.entries(s.activeBuffs).map(([K,ce])=>{if(ce<=performance.now())return null;const me=Gn[K];return!me||me.type==="INSTANT"?null:f.jsx(fg,{label:me.name,until:ce,maxDuration:me.duration||1e3,color:me.color,icon:me.icon},K)})})]})]}),s.moduleSlots.length>0&&f.jsx("div",{className:"fixed bottom-32 left-6 pointer-events-auto z-[60] flex gap-3",children:s.moduleSlots.map((K,ce)=>f.jsx(hg,{slot:K,slotIndex:ce,onActivate:me=>m&&m(me)},`module-${ce}-${K.type}`))}),f.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-lg flex flex-col gap-3 pointer-events-none",children:[f.jsxs("div",{className:"flex flex-col gap-1 relative",children:[f.jsx("div",{className:"absolute bottom-full right-0 mb-2 flex flex-col items-end pointer-events-none",children:F.filter(K=>K.type==="HULL").map(K=>f.jsxs("div",{className:"text-red-500 font-black text-xl drop-shadow-md",style:{animation:"floatUp 0.8s ease-out forwards"},children:["-",K.value]},K.id))}),f.jsxs("div",{className:"flex justify-between items-end px-1",children:[f.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${M<30?"text-red-500 animate-pulse":"text-emerald-400"}`,children:[f.jsx("i",{className:"fa-solid fa-shield-heart mr-2"}),"HULL"]}),f.jsxs("span",{className:"text-white text-[10px] font-black tabular-nums drop-shadow-md",children:[Math.round(s.currentHealth),"/",Math.round(s.maxHealth)]})]}),f.jsx("div",{className:"w-full h-4 bg-slate-950/90 rounded-lg border border-slate-800 overflow-hidden relative shadow-2xl",children:f.jsx("div",{className:`h-full transition-all duration-300 ${w?"bg-white opacity-40":M<30?"bg-gradient-to-r from-red-600 to-red-400":"bg-gradient-to-r from-emerald-600 to-emerald-400"}`,style:{width:`${M}%`},children:f.jsx("div",{className:"w-full h-full opacity-30 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"})})})]}),f.jsxs("div",{className:"flex flex-col gap-1 relative",children:[f.jsx("div",{className:"absolute bottom-full right-0 mb-2 flex flex-col items-end pointer-events-none",children:F.filter(K=>K.type==="SHIELD").map(K=>f.jsxs("div",{className:"text-cyan-300 font-black text-lg drop-shadow-md",style:{animation:"floatUp 0.8s ease-out forwards"},children:["-",K.value]},K.id))}),f.jsxs("div",{className:"flex justify-between items-end px-1",children:[f.jsxs("span",{className:"text-blue-400 text-[9px] font-black uppercase tracking-widest",children:[f.jsx("i",{className:"fa-solid fa-shield-halved mr-2"}),"SHIELD"]}),f.jsxs("span",{className:"text-blue-200 text-[9px] font-black tabular-nums",children:[Math.round(s.currentShield),"/",Math.round(s.maxShield)]})]}),f.jsx("div",{className:"w-full h-2 bg-slate-950/90 rounded-full border border-slate-800 overflow-hidden shadow-2xl",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-blue-700 to-blue-400 transition-all duration-200 relative",style:{width:`${T}%`},children:f.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})})]})]})]})]})},W0={LEGENDARY:{bg:"bg-amber-900/30",border:"border-amber-500",text:"text-amber-400",glow:"shadow-[0_0_20px_rgba(251,191,36,0.3)]"},RARE:{bg:"bg-purple-900/30",border:"border-purple-500",text:"text-purple-400",glow:"shadow-[0_0_15px_rgba(168,85,247,0.2)]"},COMMON:{bg:"bg-slate-800",border:"border-slate-600",text:"text-slate-400",glow:""}},pg=({upgrades:s,onSelect:n})=>f.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center z-[500] p-4 sm:p-6",children:f.jsxs("div",{className:"max-w-md w-full flex flex-col gap-6 animate-in fade-in zoom-in duration-300",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-cyan-400 text-2xl sm:text-3xl font-black italic tracking-tighter uppercase",children:"Level Up!"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Select an enhancement for your vessel"})]}),f.jsx("div",{className:"flex flex-col gap-3",children:s.map((o,r)=>{const u=o.rarity||"COMMON",d=W0[u]||W0.COMMON;return f.jsxs("button",{onClick:()=>n(o),className:`flex items-center gap-4 p-4 rounded-xl border-2 transition-all group text-left
                                    ${d.bg} ${d.border} ${d.glow}
                                    hover:scale-[1.02] active:scale-[0.98]`,children:[f.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border 
                                    ${d.bg} ${d.border} group-hover:brightness-125 transition-all`,children:f.jsx("i",{className:`fa-solid ${o.icon} ${d.text} text-xl`})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[f.jsx("h3",{className:"text-white font-bold text-base sm:text-lg truncate",children:o.name}),f.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${d.text} ${d.bg} border ${d.border}`,children:u})]}),f.jsx("p",{className:"text-slate-400 text-xs sm:text-sm leading-snug",children:o.description})]}),f.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0",children:f.jsx("i",{className:`fa-solid fa-chevron-right ${d.text}`})})]},`${o.id}-${r}`)})})]})}),xh=U.createContext(null),Vs=()=>{const s=U.useContext(xh);if(!s)throw new Error("useGarage must be used within GarageProvider");return s},gg=s=>s>=1e6?(s/1e6).toFixed(2)+"M":s>=1e3?(s/1e3).toFixed(1)+"k":Math.floor(s).toLocaleString(),yg=({data:s,sessionCredits:n,onUpdate:o,onApplyEffect:r,children:u})=>{const d=U.useMemo(()=>s.credits+n,[s.credits,n]),h=(m,v)=>Math.floor(m.costBase*Math.pow(m.costFactor,v)),y={data:s,totalCredits:d,sessionCredits:n,onUpdate:o,onApplyEffect:r,getUpgradeCost:h,buyMeta:m=>{const v=s.metaLevels[m.id]||0;if(v>=m.maxLevel)return;const b=h(m,v);if(d>=b){const x=Math.min(n,b),E=s.credits-(b-x);o({...s,credits:E,metaLevels:{...s.metaLevels,[m.id]:v+1}},x)}},formatCredits:gg};return f.jsx(xh.Provider,{value:y,children:u})},bg=({onClose:s})=>{const{formatCredits:n,totalCredits:o}=Vs();return f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("h2",{className:"text-cyan-400 text-2xl sm:text-3xl font-black italic uppercase tracking-tighter",children:"Command Garage"}),f.jsx("div",{className:"flex items-center gap-4 mt-2",children:f.jsxs("div",{className:"flex items-center gap-2 text-amber-400 font-bold text-sm bg-amber-400/10 px-4 py-1.5 rounded-lg border border-amber-400/20 shadow-[0_0_15px_rgba(251,191,36,0.2)]",children:[f.jsx("i",{className:"fa-solid fa-coins"}),f.jsxs("span",{children:[n(o)," CREDITS"]})]})})]}),f.jsx("button",{onClick:s,className:"bg-cyan-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-2xl font-black uppercase shadow-lg shadow-cyan-600/30 active:scale-95 transition-all hover:bg-cyan-500 text-sm sm:text-base",children:"Resume"})]})},vg=[{id:"SHIPS",label:"Vessels",icon:"fa-shuttle-space"},{id:"WEAPONS",label:"Armory",icon:"fa-crosshairs"},{id:"MODULES",label:"Modules",icon:"fa-puzzle-piece"},{id:"CORE",label:"Avionics",icon:"fa-microchip"}],Sg={SHIPS:"text-cyan-400",WEAPONS:"text-amber-400",MODULES:"text-fuchsia-400",CORE:"text-emerald-400"},xg=({activeTab:s,onTabChange:n})=>f.jsxs("div",{className:"flex gap-1 mt-6",children:[vg.map(o=>{const r=s===o.id;return f.jsxs("button",{onClick:()=>n(o.id),className:`px-4 sm:px-6 py-3 rounded-t-xl font-bold text-xs sm:text-sm uppercase tracking-wider whitespace-nowrap flex items-center justify-center
                            ${r?`bg-slate-950 ${Sg[o.id]} border-t-2 border-x border-t-current border-x-slate-700/50`:"text-slate-500 hover:text-white hover:bg-slate-800/50 border-b border-slate-700/50"}`,children:[f.jsx("i",{className:`fa-solid ${o.icon} ${r?"mr-2":"sm:mr-2"}`}),f.jsx("span",{className:`${r?"inline":"hidden sm:inline"}`,children:o.label})]},o.id)}),f.jsx("div",{className:"flex-1 border-b border-slate-700/50"})]}),Eg=()=>{const{data:s,totalCredits:n,sessionCredits:o,onUpdate:r,formatCredits:u}=Vs(),d=h=>{const p=s.equippedModules||[],y=El.find(b=>b.type===s.equippedShip),m=y==null?void 0:y.intrinsicModule,v=()=>{let b=m?p.filter(E=>E!==m):p;if(!h.intrinsicModule)return b;const x=h.intrinsicModule;return b=b.filter(E=>E!==x),[x,...b.slice(0,2)]};if(s.unlockedShips.includes(h.type)){r({...s,equippedShip:h.type,equippedModules:v()},0);return}if(n>=h.cost){const b=Math.min(o,h.cost),x=s.credits-(h.cost-b);r({...s,credits:x,unlockedShips:[...s.unlockedShips,h.type],equippedShip:h.type,equippedModules:v()},b)}};return f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:El.map(h=>{const p=s.unlockedShips.includes(h.type),y=s.equippedShip===h.type,m=n>=h.cost;return f.jsxs("div",{className:`p-6 bg-slate-900/40 border rounded-3xl flex flex-col gap-4 transition-all 
                            ${y?"border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)] bg-cyan-900/10":"border-slate-800 opacity-90 hover:opacity-100"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-white text-xl sm:text-2xl font-black italic uppercase leading-tight",children:h.name}),f.jsxs("div",{className:"text-cyan-400 text-xs font-bold uppercase tracking-widest mt-1",children:["Class: ",h.type]})]}),f.jsx("div",{className:"w-10 h-10 rounded-full shrink-0 shadow-lg border-2 border-white/20",style:{backgroundColor:h.color}})]}),f.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:h.description}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs font-bold text-slate-400 uppercase",children:[f.jsxs("div",{children:[f.jsx("i",{className:"fa-solid fa-heart mr-1 text-red-400"})," HP: ",h.baseStats.maxHealth]}),f.jsxs("div",{children:[f.jsx("i",{className:"fa-solid fa-shield mr-1 text-cyan-400"})," SH: ",h.baseStats.maxShield]}),f.jsxs("div",{children:[f.jsx("i",{className:"fa-solid fa-bolt mr-1 text-yellow-400"})," SPD: ",h.baseStats.speed]}),h.baseStats.bulletCount&&h.baseStats.bulletCount>1&&f.jsxs("div",{children:[f.jsx("i",{className:"fa-solid fa-clone mr-1 text-purple-400"})," x",h.baseStats.bulletCount]})]}),f.jsxs("div",{className:"mt-auto pt-2",children:[!p&&f.jsxs("div",{className:"text-amber-400 text-sm font-bold mb-2 text-center",children:[f.jsx("i",{className:"fa-solid fa-coins mr-1"}),u(h.cost)," C"]}),f.jsx("button",{disabled:!p&&!m,onClick:()=>d(h),className:`w-full py-3 rounded-xl font-bold text-sm shadow-md active:scale-95 transition-all uppercase tracking-wide
                                    ${y?"bg-cyan-500 text-slate-950":p?"bg-slate-700 text-white hover:bg-slate-600":m?"bg-amber-600 text-white hover:bg-amber-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:y?"SYSTEMS ONLINE":p?"DEPLOY VESSEL":m?"PURCHASE":`NEED ${u(h.cost-n)} MORE`})]})]},h.type)})})},Po=({upgrade:s,accentColor:n="emerald"})=>{const{data:o,totalCredits:r,getUpgradeCost:u,buyMeta:d,formatCredits:h}=Vs(),p=o.metaLevels[s.id]||0,y=u(s,p),m=p>=s.maxLevel,v=r>=y,b=Math.min(100,p/s.maxLevel*100),E={amber:{icon:"text-amber-400",bar:"bg-amber-500",button:"text-amber-400 border-amber-400/20 hover:bg-amber-400/10",glow:"shadow-[0_0_15px_rgba(251,191,36,0.1)]"},fuchsia:{icon:"text-fuchsia-400",bar:"bg-fuchsia-500",button:"text-fuchsia-400 border-fuchsia-400/20 hover:bg-fuchsia-400/10",glow:"shadow-[0_0_15px_rgba(217,70,239,0.1)]"},emerald:{icon:"text-emerald-400",bar:"bg-emerald-500",button:"text-white bg-emerald-600 hover:bg-emerald-500",glow:"shadow-[0_0_15px_rgba(16,185,129,0.1)]"},cyan:{icon:"text-cyan-400",bar:"bg-cyan-500",button:"text-cyan-400 border-cyan-400/20 hover:bg-cyan-400/10",glow:"shadow-[0_0_15px_rgba(6,182,212,0.1)]"}}[n];return f.jsxs("div",{className:"p-4 bg-slate-900/60 border border-slate-800 rounded-2xl flex flex-col gap-3 hover:border-slate-700 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 bg-slate-800 rounded-xl flex items-center justify-center ${E.icon} ${E.glow} border border-slate-700`,children:f.jsx("i",{className:`fa-solid ${s.icon}`})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[f.jsx("h4",{className:"text-white font-bold text-xs uppercase truncate tracking-tight",children:s.name}),f.jsxs("div",{className:"text-slate-400 text-[10px] font-bold ml-2",children:["LV ",p,"/",s.maxLevel]})]}),f.jsx("div",{className:"w-full h-1.5 bg-slate-950 rounded-full overflow-hidden border border-slate-800/50",children:f.jsx("div",{className:`h-full ${E.bar} transition-all duration-300`,style:{width:`${b}%`}})})]})]}),f.jsx("p",{className:"text-slate-400 text-[11px] leading-snug min-h-[2.5em]",children:s.description}),f.jsx("button",{disabled:m||!v,onClick:()=>d(s),className:`w-full py-2.5 rounded-xl flex items-center justify-center font-bold text-xs transition-all uppercase tracking-wide
                    ${m?"bg-slate-950 text-emerald-500 cursor-default border border-emerald-900/20":v?`bg-slate-800 ${E.button} border active:scale-95`:"bg-slate-950 text-slate-500 cursor-not-allowed border border-slate-800"}`,children:m?"MAXED":`${h(y)} C`})]})},Mg=[{type:G.PLASMA,name:"Plasma Cannon",icon:"fa-fire-burner",description:"Fast fire rate, moderate damage"},{type:G.MISSILE,name:"Missile Launcher",icon:"fa-rocket",description:"Slow but powerful AOE explosions"},{type:G.LASER,name:"Beam Laser",icon:"fa-sun",description:"Charge to unleash devastating beam"},{type:G.SWARM_LAUNCHER,name:"Swarm Launcher",icon:"fa-hive",description:"Homing rockets, scales late game"},{type:G.RAILGUN,name:"Railgun",icon:"fa-bolt",description:"Pierces all enemies. Charge, aim, devastate."},{type:G.FLAK_CANNON,name:"Flak Cannon",icon:"fa-spray-can",description:"Shotgun spread. 8 pellets, short range destruction."},{type:G.ENERGY_ORB,name:"Energy Orb",icon:"fa-atom",description:"Slow pulsating orb. Area damage + final explosion."},{type:G.ARC_CASTER,name:"Arc Caster",icon:"fa-bolt-lightning",description:"Chain lightning. Zaps multiple targets."},{type:G.FLAMETHROWER,name:"Flamethrower",icon:"fa-fire",description:"Short range cone of fire. Infinite pierce, rapid damage."}],Tg=()=>{const{data:s,totalCredits:n,sessionCredits:o,onUpdate:r,formatCredits:u}=Vs(),[d,h]=U.useState(s.equippedWeapon||G.PLASMA),p=y=>{const m=(s.unlockedWeapons||[G.PLASMA]).includes(y),v=Z0[y]||0;if(m)r({...s,equippedWeapon:y},0),h(y);else if(n>=v){const b=Math.min(o,v),x=s.credits-(v-b);r({...s,credits:x,unlockedWeapons:[...s.unlockedWeapons||[G.PLASMA],y],equippedWeapon:y},b),h(y)}};return f.jsx("div",{className:"flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:Mg.map(y=>{const m=(s.unlockedWeapons||[G.PLASMA]).includes(y.type),v=(s.equippedWeapon||G.PLASMA)===y.type,b=Z0[y.type],x=n>=b,E=Pn.filter(T=>T.weaponType===y.type),M=d===y.type;return f.jsxs("div",{className:`p-5 sm:p-6 border rounded-2xl flex flex-col gap-4 transition-all 
                            ${v?"border-amber-500 bg-amber-500/5":"border-slate-800 bg-slate-900/40"}`,children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[f.jsxs("div",{className:`flex items-center gap-4 ${m?"cursor-pointer":""}`,onClick:()=>m&&h(M?null:y.type),children:[f.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center text-xl sm:text-2xl border 
                                    ${v?"bg-amber-500 text-slate-950 border-amber-400":"bg-slate-800 text-slate-400 border-slate-700"}`,children:f.jsx("i",{className:`fa-solid ${y.icon}`})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h3",{className:"text-white text-lg sm:text-xl font-black uppercase tracking-tight",children:y.name}),m&&f.jsx("i",{className:`fa-solid fa-chevron-${M?"up":"down"} text-slate-500 text-sm`})]}),f.jsx("div",{className:"text-slate-400 text-xs",children:y.description})]})]}),f.jsxs("div",{className:"flex flex-row sm:flex-col justify-between sm:justify-center items-center sm:items-end gap-3 sm:gap-1 w-full sm:w-auto mt-2 sm:mt-0 pl-16 sm:pl-0",children:[!m&&f.jsxs("div",{className:"text-amber-400 text-sm font-bold",children:[f.jsx("i",{className:"fa-solid fa-coins mr-1"}),u(b)," C"]}),f.jsx("button",{disabled:!m&&!x,onClick:()=>p(y.type),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all uppercase tracking-wider
                                        ${v?"bg-amber-500 text-slate-950 cursor-default":m?"bg-slate-700 text-white hover:bg-slate-600":x?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:v?"EQUIPPED":m?"EQUIP":x?"UNLOCK":"LOCKED"})]})]}),m&&M&&E.length>0&&f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-slate-800/50 animate-in fade-in slide-in-from-top-2 duration-200",children:E.map(T=>f.jsx(Po,{upgrade:T,accentColor:"amber"},T.id))})]},y.type)})})},J0=3,Ag=[{type:we.AFTERBURNER,name:"Afterburner",icon:"fa-forward-fast",description:"Temporary speed boost. Dodge attacks and reposition quickly."},{type:we.SHIELD_BURST,name:"Shield Burst",icon:"fa-shield-heart",description:"Instantly restores shield and grants brief invulnerability."},{type:we.PHASE_SHIFT,name:"Phase Shift",icon:"fa-ghost",description:"Phase through attacks. Pure invulnerability, no healing."},{type:we.TIME_WARP,name:"Time Warp",icon:"fa-clock",description:"Slows time for all enemies and projectiles by 50%."}],Rg=()=>{const{data:s,totalCredits:n,sessionCredits:o,onUpdate:r,formatCredits:u}=Vs(),d=s.equippedModules||[],[h,p]=U.useState(d[0]||null),y=El.find(M=>M.type===s.equippedShip);y==null||y.intrinsicModule;const m=El.map(M=>M.intrinsicModule).filter(M=>M!==void 0),v=Ag.filter(M=>!m.includes(M.type)),b=M=>d.includes(M),x=d.length<J0,E=M=>{const T=(s.unlockedModules||[]).includes(M),L=K0[M]||0;if(T){let w;if(b(M))w=d.filter(I=>I!==M);else if(x)w=[...d,M],p(M);else return;r({...s,equippedModules:w},0)}else if(n>=L){const w=Math.min(o,L),I=s.credits-(L-w),H=x?[...d,M]:d;r({...s,credits:I,unlockedModules:[...s.unlockedModules||[],M],equippedModules:H},w),p(M)}};return f.jsxs("div",{className:"flex flex-col gap-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[f.jsx("i",{className:"fa-solid fa-puzzle-piece text-fuchsia-400"}),f.jsxs("span",{children:["Module Slots: ",f.jsxs("strong",{className:"text-white",children:[d.length,"/",J0]})]})]}),v.map(M=>{const T=(s.unlockedModules||[]).includes(M.type),L=b(M.type),w=K0[M.type],I=n>=w,H=Pn.filter(P=>P.moduleType===M.type),F=h===M.type,Q=L?d.indexOf(M.type)+1:null;return f.jsxs("div",{className:`p-5 sm:p-6 border rounded-2xl flex flex-col gap-4 transition-all 
                            ${L?"border-fuchsia-500 bg-fuchsia-500/5":"border-slate-800 bg-slate-900/40"}`,children:[f.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[f.jsxs("div",{className:`flex items-center gap-4 ${T?"cursor-pointer":""}`,onClick:()=>T&&p(F?null:M.type),children:[f.jsxs("div",{className:`relative w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center text-xl sm:text-2xl border 
                                    ${L?"bg-fuchsia-500 text-slate-950 border-fuchsia-400":"bg-slate-800 text-slate-400 border-slate-700"}`,children:[f.jsx("i",{className:`fa-solid ${M.icon}`}),Q&&f.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-amber-500 text-slate-950 text-xs font-black rounded-full flex items-center justify-center",children:Q})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h3",{className:"text-white text-lg sm:text-xl font-black uppercase tracking-tight",children:M.name}),T&&f.jsx("i",{className:`fa-solid fa-chevron-${F?"up":"down"} text-slate-500 text-sm`})]}),f.jsx("div",{className:"text-slate-400 text-xs",children:M.description})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!T&&f.jsxs("div",{className:"text-fuchsia-400 text-sm font-bold",children:[f.jsx("i",{className:"fa-solid fa-coins mr-1"}),u(w)," C"]}),f.jsx("button",{disabled:!T&&!I,onClick:()=>E(M.type),className:`px-6 py-2.5 rounded-xl text-xs font-bold transition-all uppercase tracking-wider
                                        ${L?"bg-slate-700 text-fuchsia-400 border border-fuchsia-500 hover:bg-red-900/30 hover:text-red-400 hover:border-red-500":T?x?"bg-slate-700 text-white hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed":I?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:L?"UNEQUIP":T?x?"EQUIP":"SLOTS FULL":I?"UNLOCK":"LOCKED"})]})]}),T&&F&&H.length>0&&f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4 border-t border-slate-800/50 animate-in fade-in slide-in-from-top-2 duration-200",children:H.map(P=>f.jsx(Po,{upgrade:P,accentColor:"fuchsia"},P.id))})]},M.type)})]})},Ng=()=>{const s=u=>u.startsWith("meta_hp")||u.startsWith("meta_shield")||u.startsWith("meta_regen")?"SURVIVAL":u.startsWith("meta_dmg")||u.startsWith("meta_crit")?"OFFENSE":"UTILITY",n=Pn.filter(u=>!u.weaponType&&!u.moduleType),o={OFFENSE:n.filter(u=>s(u.id)==="OFFENSE"),SURVIVAL:n.filter(u=>s(u.id)==="SURVIVAL"),UTILITY:n.filter(u=>s(u.id)==="UTILITY")},r=[{id:"OFFENSE",label:"Combat Systems",icon:"fa-crosshairs",color:"text-rose-400",border:"border-rose-500/30"},{id:"SURVIVAL",label:"hull & Shields",icon:"fa-shield-halved",color:"text-emerald-400",border:"border-emerald-500/30"},{id:"UTILITY",label:"Utility & Economics",icon:"fa-microchip",color:"text-cyan-400",border:"border-cyan-500/30"}];return f.jsx("div",{className:"flex flex-col gap-8 animate-in fade-in slide-in-from-bottom-4 duration-300 pb-10",children:r.map(u=>{const d=o[u.id];return d.length===0?null:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:`flex items-center gap-3 pb-2 border-b ${u.border}`,children:[f.jsx("i",{className:`fa-solid ${u.icon} ${u.color}`}),f.jsx("h3",{className:`font-black uppercase tracking-widest text-sm ${u.color}`,children:u.label})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(h=>f.jsx(Po,{upgrade:h,accentColor:u.id==="OFFENSE"?"fuchsia":u.id==="SURVIVAL"?"emerald":"cyan"},h.id))})]},u.id)})})},wg=({data:s,sessionCredits:n,onClose:o,onUpdate:r,onApplyEffect:u})=>{const[d,h]=U.useState("SHIPS");return f.jsx("div",{className:"garage-container fixed inset-0 bg-slate-950 flex flex-col z-[300] overflow-hidden",children:f.jsxs(yg,{data:s,sessionCredits:n,onUpdate:r,onApplyEffect:u,children:[f.jsx("div",{className:"shrink-0 p-4 sm:p-6 bg-slate-900 border-b border-slate-800",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx(bg,{onClose:o}),f.jsx(xg,{activeTab:d,onTabChange:h})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-slate-950",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[d==="SHIPS"&&f.jsx(Eg,{}),d==="WEAPONS"&&f.jsx(Tg,{}),d==="MODULES"&&f.jsx(Rg,{}),d==="CORE"&&f.jsx(Ng,{})]})})]})})},Lg=({acquired:s,onClose:n})=>f.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-6 shadow-2xl max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-cyan-400 text-2xl font-black italic uppercase",children:"System Manifest"}),f.jsx("button",{onClick:n,className:"text-slate-500 hover:text-white transition-colors",children:f.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:s.length===0?f.jsx("div",{className:"text-center py-12 text-slate-500 font-bold uppercase tracking-widest",children:"No upgrades acquired"}):f.jsx("div",{className:"flex flex-col gap-3",children:s.map((o,r)=>f.jsxs("div",{className:"flex items-center gap-4 p-3 bg-slate-950/50 border border-slate-800 rounded-xl",children:[f.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-lg flex items-center justify-center text-cyan-400 border border-slate-800",children:f.jsx("i",{className:`fa-solid ${o.icon}`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-bold text-sm uppercase tracking-tight",children:o.name}),f.jsx("p",{className:"text-slate-500 text-[10px]",children:o.description})]})]},`${o.id}-${r}`))})}),f.jsx("button",{onClick:n,className:"mt-6 w-full py-4 bg-cyan-600 text-white font-black rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Close Manifest"})]})}),Cg=({data:s,onUpdate:n,onReset:o,onClose:r})=>{var M,T,L,w;const[u,d]=U.useState(!1),h=((M=s.settings)==null?void 0:M.controlScheme)||je.TWIN_STICK,p=((T=s.settings)==null?void 0:T.zoomLevel)||Ho,y=((L=s.settings)==null?void 0:L.autoShowLevelUp)??!0,m=((w=s.settings)==null?void 0:w.showDpsMeter)??!1,v=I=>{n({...s,settings:{...s.settings,controlScheme:I}})},b=I=>{n({...s,settings:{...s.settings,zoomLevel:I}})},x=()=>{n({...s,settings:{...s.settings,autoShowLevelUp:!y}})},E=()=>{u?o():(d(!0),setTimeout(()=>d(!1),3e3))};return f.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[300] p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col gap-8 max-h-[90vh] overflow-y-auto custom-scrollbar",children:[f.jsx("div",{className:"flex justify-between items-center",children:f.jsx("h2",{className:"text-cyan-400 text-3xl font-black italic uppercase tracking-tighter",children:"System Config"})}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest px-1",children:"Fire Control Systems"}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("button",{onClick:()=>v(je.TWIN_STICK),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${h===je.TWIN_STICK?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${h===je.TWIN_STICK?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-gamepad text-xl"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-black uppercase text-sm ${h===je.TWIN_STICK?"text-white":"text-slate-400"}`,children:"Twin Stick"}),f.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Left Stick: Aim & Fire",f.jsx("br",{}),"Right Stick: Movement"]})]})]}),f.jsxs("button",{onClick:()=>v(je.TAP_TO_AIM),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${h===je.TAP_TO_AIM?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${h===je.TAP_TO_AIM?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-fingerprint text-xl"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-black uppercase text-sm ${h===je.TAP_TO_AIM?"text-white":"text-slate-400"}`,children:"Touch Targeting"}),f.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Tap/Hold Screen: Aim & Fire",f.jsx("br",{}),"Right Stick: Movement"]})]})]}),f.jsxs("button",{onClick:()=>v(je.KEYBOARD_MOUSE),className:`p-4 rounded-xl border-2 flex items-center gap-4 transition-all ${h===je.KEYBOARD_MOUSE?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_20px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 ${h===je.KEYBOARD_MOUSE?"border-cyan-500 text-cyan-400":"border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-computer-mouse text-xl"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-black uppercase text-sm ${h===je.KEYBOARD_MOUSE?"text-white":"text-slate-400"}`,children:"Keyboard & Mouse"}),f.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:["Mouse: Aim (Click/Toggle to Fire)",f.jsx("br",{}),"WASD/Arrows: Movement"]})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest px-1",children:"Interface"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:$p.map(I=>{const H=Math.abs(p-I.value)<.01;return f.jsxs("button",{onClick:()=>b(I.value),className:`p-3 rounded-xl border transition-all flex flex-col items-center gap-2
                             ${H?"bg-cyan-900/20 border-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.2)]":"bg-slate-950 border-slate-800 opacity-60 hover:opacity-100"}`,children:[f.jsx("i",{className:`fa-solid ${I.icon} text-lg ${H?"text-cyan-400":"text-slate-500"}`}),f.jsx("span",{className:`text-[10px] font-bold uppercase ${H?"text-white":"text-slate-500"}`,children:I.label})]},I.value)})}),f.jsxs("button",{onClick:x,className:`p-4 rounded-xl border transition-all flex justify-between items-center
                  ${y?"bg-slate-900 border-emerald-500/50":"bg-slate-950 border-slate-800"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border ${y?"bg-emerald-900/30 border-emerald-500 text-emerald-400":"bg-slate-900 border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-layer-group"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-bold text-xs uppercase ${y?"text-white":"text-slate-400"}`,children:"Auto-Open Level Up"}),f.jsx("div",{className:"text-[9px] text-slate-500",children:"Show selection menu immediately"})]})]}),f.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${y?"bg-emerald-500":"bg-slate-700"}`,children:f.jsx("div",{className:`absolute top-1 bottom-1 w-3 rounded-full bg-white transition-all ${y?"left-6":"left-1"}`})})]}),f.jsxs("button",{onClick:()=>n({...s,settings:{...s.settings,showDpsMeter:!m}}),className:`p-4 rounded-xl border transition-all flex justify-between items-center
                  ${m?"bg-slate-900 border-cyan-500/50":"bg-slate-950 border-slate-800"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border ${m?"bg-cyan-900/30 border-cyan-500 text-cyan-400":"bg-slate-900 border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-chart-line"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-bold text-xs uppercase ${m?"text-white":"text-slate-400"}`,children:"DPS Meter"}),f.jsx("div",{className:"text-[9px] text-slate-500",children:"Show damage per second overlay"})]})]}),f.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${m?"bg-cyan-500":"bg-slate-700"}`,children:f.jsx("div",{className:`absolute top-1 bottom-1 w-3 rounded-full bg-white transition-all ${m?"left-6":"left-1"}`})})]}),f.jsxs("button",{onClick:()=>n({...s,settings:{...s.settings,showDebugLog:!s.settings.showDebugLog}}),className:`p-4 rounded-xl border transition-all flex justify-between items-center
                  ${s.settings.showDebugLog?"bg-slate-900 border-amber-500/50":"bg-slate-950 border-slate-800"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center border ${s.settings.showDebugLog?"bg-amber-900/30 border-amber-500 text-amber-400":"bg-slate-900 border-slate-700 text-slate-600"}`,children:f.jsx("i",{className:"fa-solid fa-terminal"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:`font-bold text-xs uppercase ${s.settings.showDebugLog?"text-white":"text-slate-400"}`,children:"Debug Log"}),f.jsx("div",{className:"text-[9px] text-slate-500",children:"Show real-time game events"})]})]}),f.jsx("div",{className:`w-10 h-5 rounded-full relative transition-colors ${s.settings.showDebugLog?"bg-amber-500":"bg-slate-700"}`,children:f.jsx("div",{className:`absolute top-1 bottom-1 w-3 rounded-full bg-white transition-all ${s.settings.showDebugLog?"left-6":"left-1"}`})})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-800 pt-6",children:[f.jsx("h3",{className:"text-red-500 text-xs font-bold uppercase tracking-widest px-1",children:"Danger Zone"}),f.jsxs("button",{onClick:E,className:`p-4 rounded-xl border transition-all flex items-center justify-center gap-2 font-black uppercase text-xs 
               ${u?"bg-red-600 text-white border-red-500 scale-105 shadow-xl animate-pulse":"bg-red-950/20 text-red-500 border-red-900/50 hover:bg-red-900/40 hover:border-red-500/50"}`,children:[f.jsx("i",{className:`fa-solid ${u?"fa-exclamation-circle":"fa-trash"}`}),u?"CONFIRM RESET? (TAP AGAIN)":"RESET PROGRESS"]})]}),f.jsx("button",{onClick:r,className:"w-full py-4 bg-white text-slate-950 font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Close"})]})})};class Dg{constructor(){this.sprites=new Map,this.isInitialized=!1,this.SPRITE_SIZES={[D.SCOUT]:120,[D.STRIKER]:120,[D.LASER_SCOUT]:120,[D.KAMIKAZE]:120,[D.SHIELDER]:140,[D.CARRIER]:160,[D.BOSS_DESTROYER]:320,[D.BOSS_DREADNOUGHT]:400},this.TIER_GLOW_COLORS={[J.NORMAL]:null,[J.ELITE]:"#d946ef",[J.LEGENDARY]:"#fbbf24",[J.MINIBOSS]:"#ef4444"},this.TIER_FILL_COLORS={[J.NORMAL]:null,[J.ELITE]:"#d946ef",[J.LEGENDARY]:"#fbbf24",[J.MINIBOSS]:"#ef4444"},this.VARIANT_COLORS={NORMAL:null,HIT:"#ff0000",SHIELD_HIT:"#ffffff"}}initialize(){if(this.isInitialized)return;const n=Object.values(D).filter(u=>u!==D.ASTEROID),o=Object.values(J),r=["NORMAL","HIT","SHIELD_HIT"];for(const u of n)for(const d of o)if(!(d===J.MINIBOSS&&(u===D.BOSS_DESTROYER||u===D.BOSS_DREADNOUGHT)))for(const h of r)this.renderToCache(u,d,h);this.isInitialized=!0,console.log(`[SpriteCache] Initialized ${this.sprites.size} sprites`)}getSprite(n,o,r="NORMAL"){if(n===D.ASTEROID)return null;const u=`${n}_${o}_${r}`;return this.sprites.get(u)||null}get ready(){return this.isInitialized}renderToCache(n,o,r){const u=this.SPRITE_SIZES[n]||120,d=new OffscreenCanvas(u,u),h=d.getContext("2d");if(!h){console.warn(`[SpriteCache] Failed to create context for ${n}_${o}_${r}`);return}let p;const y=this.VARIANT_COLORS[r];if(y)p=y;else{const E=this.TIER_FILL_COLORS[o];if(E)p=E;else{const M=wt(n);typeof M.color=="string"?p=M.color:p=mh(M,.5)}}let m;y?m=y:m=this.TIER_GLOW_COLORS[o]||p,h.translate(u/2,u/2);const v=o===J.LEGENDARY?30:o===J.ELITE?25:o===J.MINIBOSS?35:15;h.shadowBlur=v,h.shadowColor=m,h.fillStyle=p;const b=u/4;this.renderBodyShape(h,n,b,p,o);const x=`${n}_${o}_${r}`;this.sprites.set(x,{canvas:d,ctx:h,size:u})}renderBodyShape(n,o,r,u,d){switch(o){case D.SCOUT:this.renderScoutBody(n,r);break;case D.STRIKER:this.renderStrikerBody(n,r);break;case D.LASER_SCOUT:this.renderLaserScoutBody(n,r,u);break;case D.KAMIKAZE:this.renderKamikazeBody(n,r);break;case D.SHIELDER:this.renderShielderBody(n,r);break;case D.CARRIER:this.renderCarrierBody(n,r);break;case D.BOSS_DESTROYER:this.renderDestroyerBody(n,r,d);break;case D.BOSS_DREADNOUGHT:this.renderDreadnoughtBody(n,r);break}}renderScoutBody(n,o){n.beginPath(),n.moveTo(0,-o),n.lineTo(-o*.8,o*.5),n.lineTo(-o*.3,o*.3),n.lineTo(0,o*.8),n.lineTo(o*.3,o*.3),n.lineTo(o*.8,o*.5),n.closePath(),n.fill()}renderStrikerBody(n,o){n.beginPath(),n.moveTo(0,-o),n.lineTo(-o,0),n.lineTo(-o*.8,o),n.lineTo(0,o*.4),n.lineTo(o*.8,o),n.lineTo(o,0),n.closePath(),n.fill()}renderLaserScoutBody(n,o,r){const u=o*.85,d=u*.55,h=u*2.2,p=u*.75,y=h*.15;n.beginPath(),[-1,1].forEach(v=>{const b=v*p,x=d,E=-h*.5,M=-h*.25,T=h*.5;n.moveTo(b-x/2,T),n.lineTo(b-x/2,M),n.lineTo(b-x/4,E),n.lineTo(b+x/4,E),n.lineTo(b+x/2,M),n.lineTo(b+x/2,T)});const m=h*.2;n.rect(-p+d/2,y-m/2,p*2-d,m),n.fill(),n.fillStyle="rgba(0, 0, 0, 0.2)",n.beginPath(),[-1,1].forEach(v=>{const b=v*p;v===-1?n.rect(b+d*.2,-h*.25,d*.3,h*.75):n.rect(b-d*.5,-h*.25,d*.3,h*.75)}),n.fill(),n.fillStyle="#7e22ce",[-1,1].forEach(v=>{const b=v*p;n.fillRect(b-d*.2,-h*.1,d*.4,h*.4)}),n.fillStyle="#1e293b",n.beginPath(),n.arc(0,y,d*.6,0,Math.PI*2),n.fill(),n.fillStyle="#9333ea",n.shadowColor="#a855f7",n.shadowBlur=6,n.beginPath(),n.arc(0,y,d*.3,0,Math.PI*2),n.fill(),n.shadowBlur=0,n.fillStyle="#f97316",n.shadowColor="#f97316",n.shadowBlur=8,n.beginPath(),[-1,1].forEach(v=>{const b=v*p;n.rect(b-d*.4,h*.5,d*.8,h*.08)}),n.fill(),n.shadowBlur=0}renderKamikazeBody(n,o){n.beginPath(),n.moveTo(0,-o*1.5),n.lineTo(-o,o),n.lineTo(0,o*.5),n.lineTo(o,o),n.closePath(),n.fill(),n.fillStyle="#fff",n.beginPath(),n.arc(0,o*.8,o*.3,0,Math.PI*2),n.fill()}renderShielderBody(n,o){n.beginPath();for(let r=0;r<6;r++){const u=r*Math.PI/3-Math.PI/2,d=Math.cos(u)*o,h=Math.sin(u)*o;r===0?n.moveTo(d,h):n.lineTo(d,h)}n.closePath(),n.fill(),n.fillStyle="rgba(255, 255, 255, 0.3)",n.beginPath(),n.arc(0,0,o*.4,0,Math.PI*2),n.fill()}renderCarrierBody(n,o){n.beginPath();for(let r=0;r<6;r++){const u=Math.PI/3*r-Math.PI/2,d=Math.cos(u)*o,h=Math.sin(u)*o;r===0?n.moveTo(d,h):n.lineTo(d,h)}n.closePath(),n.fill(),n.fillStyle="rgba(0, 0, 0, 0.4)",n.beginPath();for(let r=0;r<6;r++){const u=Math.PI/3*r-Math.PI/2,d=Math.cos(u)*o*.5,h=Math.sin(u)*o*.5;r===0?n.moveTo(d,h):n.lineTo(d,h)}n.closePath(),n.fill()}renderDestroyerBody(n,o,r){const u=o*.8,d=o*1.8;n.beginPath(),n.moveTo(0,-d),n.lineTo(u,d*.6),n.lineTo(0,d*.4),n.lineTo(-u,d*.6),n.closePath(),n.fill(),n.fillStyle="#475569",n.beginPath(),n.rect(-u*.3,0,u*.6,d*.3),n.fill(),n.fillStyle="#f97316",n.shadowColor="#f97316",n.shadowBlur=20,n.beginPath(),n.arc(-u*.5,d*.6,5,0,Math.PI*2),n.fill(),n.beginPath(),n.arc(u*.5,d*.6,5,0,Math.PI*2),n.fill(),n.fillStyle="#fff",n.fillRect(-u-2,0,4,15),n.fillRect(u-2,0,4,15),n.shadowBlur=0}renderDreadnoughtBody(n,o){const r=n.createRadialGradient(-o*.2,-o*.2,o*.1,0,0,o);r.addColorStop(0,"#52525b"),r.addColorStop(1,"#18181b"),n.fillStyle=r,n.beginPath(),n.arc(0,0,o,0,Math.PI*2),n.fill(),n.strokeStyle="#000",n.lineWidth=4,n.beginPath(),n.moveTo(-o,0),n.lineTo(o,0),n.stroke();const u=-o*.5;n.fillStyle="#27272a",n.beginPath(),n.arc(0,u,o*.25,0,Math.PI*2),n.fill(),n.strokeStyle="#10b981",n.lineWidth=2,n.stroke()}}const Eh=new Dg;function fr(s){return"enemyType"in s&&s.enemyType!==void 0}function Og(s,n){const o=h=>{const p=Math.sin(h*12.9898)*43758.5453;return p-Math.floor(p)},r=[];let d=s;for(let h=0;h<8;h++){const p=Math.PI*2/8*h,y=n*(.7+o(d)*.5);d+=1.618,r.push({x:Math.cos(p)*y,y:Math.sin(p)*y})}return r}const Mh={[D.BOSS_DESTROYER]:(s,n,o,r)=>Hg(s,n,r),[D.BOSS_DREADNOUGHT]:(s,n,o,r)=>zg(s,n,r),[D.SCOUT]:(s,n)=>kg(s,n),[D.STRIKER]:(s,n)=>Rh(s,n),[D.LASER_SCOUT]:(s,n,o,r)=>Gg(s,n,r),[D.KAMIKAZE]:(s,n)=>Ig(s,n),[D.SHIELDER]:(s,n,o)=>Yg(s,n,o),[D.CARRIER]:(s,n)=>Pg(s,n)};function _g(s,n,o){for(const r of n){s.save(),s.translate(r.pos.x,r.pos.y),!fr(r)&&r.type!=="ASTEROID"&&r.type;const u=fr(r)?r.enemyType:D.ASTEROID,d=fr(r)?r.tier:J.NORMAL;if(u===D.ASTEROID){jg(s,r,o),s.restore();continue}const p=o-(r.lastHitTime||0)<80,y=o-(r.lastShieldHitTime||0)<120,m=d===J.ELITE,v=d===J.LEGENDARY,b=d===J.MINIBOSS,x=u===D.BOSS_DREADNOUGHT||u===D.BOSS_DESTROYER;Ug(s,r,u,d,x),(u===D.LASER_SCOUT||u===D.BOSS_DREADNOUGHT)&&(r.isFiring||r.isCharging)&&Bg(s,r,x,d),(u===D.LASER_SCOUT||u===D.BOSS_DREADNOUGHT)&&(r.isCharging||r.isFiring)?s.rotate((r.angle||0)+Math.PI/2):s.rotate(Math.atan2(r.vel.y,r.vel.x)+Math.PI/2),s.shadowBlur=x?50:b?35:v?30:m?25:15,s.shadowColor=r.color,y?s.fillStyle="#ffffff":p?s.fillStyle="#ff0000":s.fillStyle=r.color;const E=y?"SHIELD_HIT":p?"HIT":"NORMAL",M=fr(r)?Eh.getSprite(r.enemyType,r.tier,E):null;if(u===D.SHIELDER&&Th(s,r,o),M){const T=M.size,L=r.radius*4/T;s.save(),s.scale(L,L),s.drawImage(M.canvas,-T/2|0,-T/2|0),s.restore(),u===D.SHIELDER&&Ah(s,r,o)}else{const T=Mh[u];T?T(s,r,o,p):Rh(s,r)}r.shield!==void 0&&r.shield>0&&qg(s,r,y),s.restore()}}function jg(s,n,o){const r=o-(n.lastHitTime||0)<80,u="seed"in n&&n.seed||0,d=Og(u,n.radius);s.beginPath(),s.moveTo(d[0].x,d[0].y);for(let p=1;p<d.length;p++)s.lineTo(d[p].x,d[p].y);s.closePath();const h=s.createRadialGradient(-n.radius*.3,-n.radius*.3,.1,0,0,Math.max(.1,n.radius));h.addColorStop(0,r?"#ffffff":"#64748b"),h.addColorStop(1,r?"#ffffff":"#1e293b"),s.fillStyle=h,s.fill(),s.strokeStyle=r?"#ffffff":"#475569",s.lineWidth=2,s.stroke(),s.strokeStyle="rgba(0,0,0,0.3)",s.lineWidth=1,s.beginPath(),s.moveTo(d[0].x*.4,d[0].y*.4),s.lineTo(d[4].x*.6,d[4].y*.6),s.stroke()}function Ug(s,n,o,r,u){s.save();const d=-n.radius-20;if(s.font="bold 10px Arial",s.textAlign="center",o===D.BOSS_DESTROYER){s.shadowBlur=25;const v=r===J.LEGENDARY?"#fbbf24":r===J.ELITE?"#d946ef":"#f97316";s.shadowColor=v,s.fillStyle=v,s.font="900 16px Arial";const b=r===J.LEGENDARY?" LEGENDARY ":r===J.ELITE?" ELITE ":"";s.fillText(b+"IMPERIAL DESTROYER",0,d-25)}else if(o===D.BOSS_DREADNOUGHT){s.shadowBlur=25;const v=r===J.LEGENDARY?"#fbbf24":r===J.ELITE?"#d946ef":"#4ade80";s.shadowColor=v,s.fillStyle=v,s.font="900 16px Arial";const b=r===J.LEGENDARY?" LEGENDARY ":r===J.ELITE?" ELITE ":"";s.fillText(b+"GALACTIC DREADNOUGHT",0,d-25)}else if(r===J.MINIBOSS)s.shadowBlur=15,s.shadowColor="#ef4444",s.fillStyle="#ef4444",s.font="900 12px Arial",s.fillText("MINIBOSS",0,d-20);else if(r===J.LEGENDARY)s.shadowBlur=15,s.shadowColor="#fbbf24",s.fillStyle="#fbbf24",s.font="900 12px Arial",s.fillText(" LEGENDARY",0,d-20);else if(r===J.ELITE){s.shadowBlur=10,s.shadowColor="#d946ef",s.fillStyle="#d946ef";const v="hasDeathDefiance"in n&&n.hasDeathDefiance;s.fillText(v?"ELITE [ARMORED]":"ELITE",0,d-20)}else s.fillStyle="rgba(255,255,255,0.5)",s.fillText(`LV ${n.level||1}`,0,d-10);const h=Math.max(40,n.radius*2),p=4,y=-h/2;s.fillStyle="rgba(0,0,0,0.7)",s.fillRect(y,d-5,h,p);const m=Math.max(0,n.health/n.maxHealth);if(s.fillStyle=m<.3?"#f87171":u?"#4ade80":"#ef4444",s.fillRect(y,d-5,h*m,p),n.maxShield&&n.maxShield>0){s.fillStyle="rgba(0,0,0,0.7)",s.fillRect(y,d,h,p);const v=Math.max(0,(n.shield||0)/n.maxShield);s.fillStyle="#06fdfd",s.fillRect(y,d,h*v,p)}s.restore()}function Bg(s,n,o,r=J.NORMAL){s.save(),s.rotate(n.angle||0);let u=o?"74, 222, 128":"255, 0, 0",d=o?"#4ade80":"#ff0000";r===J.LEGENDARY?(u="251, 191, 36",d="#fbbf24"):r===J.ELITE?(u="217, 70, 239",d="#d946ef"):r===J.MINIBOSS&&(u="239, 68, 68",d="#ef4444");const h=o?1600:1200,p=o?2.5:r===J.MINIBOSS?1.8:r===J.LEGENDARY?1.5:r===J.ELITE?1.3:1;if(n.isCharging){const y=n.chargeProgress||0;s.strokeStyle=`rgba(${u}, ${.1+y*.6})`,s.lineWidth=(1+y*3)*p,s.setLineDash([20,10]),s.beginPath(),s.moveTo(0,0),s.lineTo(h,0),s.stroke()}if(n.isFiring){const m=30*(1-(n.chargeProgress||0))*p;s.shadowBlur=50,s.shadowColor=d,s.fillStyle="#fff",s.fillRect(0,-m/2,h,m),s.fillStyle=`rgba(${u}, 0.4)`,s.fillRect(0,-m,h,m*2)}s.restore()}function Hg(s,n,o){const r=n.radius*.8,u=n.radius*1.8;s.beginPath(),s.moveTo(0,-u),s.lineTo(r,u*.6),s.lineTo(0,u*.4),s.lineTo(-r,u*.6),s.closePath(),s.fill(),s.fillStyle=o?"#ffaaaa":"#475569",s.beginPath(),s.rect(-r*.3,0,r*.6,u*.3),s.fill(),s.fillStyle="#f97316",s.shadowColor="#f97316",s.shadowBlur=20,s.beginPath(),s.arc(-r*.5,u*.6,5,0,Math.PI*2),s.fill(),s.beginPath(),s.arc(r*.5,u*.6,5,0,Math.PI*2),s.fill(),s.fillStyle="#fff",s.fillRect(-r-2,0,4,15),s.fillRect(r-2,0,4,15)}function zg(s,n,o){const r=s.createRadialGradient(-n.radius*.2,-n.radius*.2,n.radius*.1,0,0,n.radius);r.addColorStop(0,"#52525b"),r.addColorStop(1,"#18181b"),s.fillStyle=o?"#ff0000":r,s.beginPath(),s.arc(0,0,n.radius,0,Math.PI*2),s.fill(),s.strokeStyle="#000",s.lineWidth=4,s.beginPath(),s.moveTo(-n.radius,0),s.lineTo(n.radius,0),s.stroke();const u=-n.radius*.5;if(s.fillStyle="#27272a",s.beginPath(),s.arc(0,u,n.radius*.25,0,Math.PI*2),s.fill(),s.strokeStyle="#10b981",s.lineWidth=2,s.stroke(),n.isCharging||n.isFiring){const d=n.chargeProgress||0;s.fillStyle=`rgba(16, 185, 129, ${d})`,s.beginPath(),s.arc(0,u,n.radius*.15*d,0,Math.PI*2),s.fill()}}function kg(s,n){s.beginPath(),s.moveTo(0,-n.radius),s.lineTo(-n.radius*.8,n.radius*.5),s.lineTo(-n.radius*.3,n.radius*.3),s.lineTo(0,n.radius*.8),s.lineTo(n.radius*.3,n.radius*.3),s.lineTo(n.radius*.8,n.radius*.5),s.closePath(),s.fill()}function Gg(s,n,o){const r=n.radius*1.3,u=r*.55,d=r*2.2,h=r*.75,p=d*.15;s.beginPath(),[-1,1].forEach(m=>{const v=m*h,b=u,x=-d*.5,E=-d*.25,M=d*.5;s.moveTo(v-b/2,M),s.lineTo(v-b/2,E),s.lineTo(v-b/4,x),s.lineTo(v+b/4,x),s.lineTo(v+b/2,E),s.lineTo(v+b/2,M)});const y=d*.2;s.rect(-h+u/2,p-y/2,h*2-u,y),s.fill(),s.fillStyle="rgba(0, 0, 0, 0.2)",s.beginPath(),[-1,1].forEach(m=>{const v=m*h;m===-1?s.rect(v+u*.2,-d*.25,u*.3,d*.75):s.rect(v-u*.5,-d*.25,u*.3,d*.75)}),s.fill(),s.fillStyle=o?"#ffaaaa":"#7e22ce",[-1,1].forEach(m=>{const v=m*h;s.fillRect(v-u*.2,-d*.1,u*.4,d*.4)}),s.fillStyle="#1e293b",s.beginPath(),s.arc(0,p,u*.6,0,Math.PI*2),s.fill(),s.fillStyle=o?"#ffe4e6":"#9333ea",s.shadowColor="#a855f7",s.shadowBlur=6,s.beginPath(),s.arc(0,p,u*.3,0,Math.PI*2),s.fill(),s.shadowBlur=0,s.fillStyle="#f97316",s.shadowColor="#f97316",s.shadowBlur=8,s.beginPath(),[-1,1].forEach(m=>{const v=m*h;s.rect(v-u*.4,d*.5,u*.8,d*.08)}),s.fill(),s.shadowBlur=0}function Ig(s,n){s.beginPath(),s.moveTo(0,-n.radius*1.5),s.lineTo(-n.radius,n.radius),s.lineTo(0,n.radius*.5),s.lineTo(n.radius,n.radius),s.closePath(),s.fill(),s.fillStyle="#fff",s.beginPath(),s.arc(0,n.radius*.8,n.radius*.3,0,Math.PI*2),s.fill()}function Yg(s,n,o){Th(s,n,o),s.beginPath();for(let r=0;r<6;r++){const u=r*Math.PI/3-Math.PI/2,d=Math.cos(u)*n.radius,h=Math.sin(u)*n.radius;r===0?s.moveTo(d,h):s.lineTo(d,h)}s.closePath(),s.fill(),s.fillStyle="rgba(255, 255, 255, 0.3)",s.beginPath(),s.arc(0,0,n.radius*.4,0,Math.PI*2),s.fill(),Ah(s,n,o)}function Th(s,n,o){const r=.7+Math.sin(o*.003)*.3,u=150;s.save(),s.globalAlpha=.15*r;const d=s.createRadialGradient(0,0,0,0,0,u);d.addColorStop(0,"rgba(34, 211, 238, 0.4)"),d.addColorStop(.7,"rgba(34, 211, 238, 0.2)"),d.addColorStop(1,"rgba(34, 211, 238, 0)"),s.fillStyle=d,s.beginPath(),s.arc(0,0,u,0,Math.PI*2),s.fill(),s.globalAlpha=.3*r,s.strokeStyle="#22d3ee",s.lineWidth=2,s.setLineDash([10,5]),s.beginPath(),s.arc(0,0,u,0,Math.PI*2),s.stroke(),s.setLineDash([]),s.restore()}function Ah(s,n,o){s.strokeStyle="#22d3ee",s.lineWidth=2,s.save(),s.rotate(o*.002),s.beginPath(),s.arc(0,0,n.radius*.7,0,Math.PI*1.5),s.stroke(),s.restore()}function Pg(s,n){const o=n.radius;s.beginPath();for(let r=0;r<6;r++){const u=Math.PI/3*r-Math.PI/2,d=Math.cos(u)*o,h=Math.sin(u)*o;r===0?s.moveTo(d,h):s.lineTo(d,h)}s.closePath(),s.fill(),s.fillStyle="rgba(0, 0, 0, 0.4)",s.beginPath();for(let r=0;r<6;r++){const u=Math.PI/3*r-Math.PI/2,d=Math.cos(u)*o*.5,h=Math.sin(u)*o*.5;r===0?s.moveTo(d,h):s.lineTo(d,h)}s.closePath(),s.fill()}function Rh(s,n){s.beginPath(),s.moveTo(0,-n.radius),s.lineTo(-n.radius,0),s.lineTo(-n.radius*.8,n.radius),s.lineTo(0,n.radius*.4),s.lineTo(n.radius*.8,n.radius),s.lineTo(n.radius,0),s.closePath(),s.fill()}function qg(s,n,o){const r=n.radius*1.3;s.shadowBlur=o?30:15,s.shadowColor=o?"#fff":"#06fdfd",s.strokeStyle=o?"#fff":"rgba(6, 253, 253, 0.5)",s.lineWidth=3,s.beginPath(),s.arc(0,0,r,0,Math.PI*2),s.stroke()}const Vg=({onClose:s})=>{const[n,o]=U.useState("UPGRADES"),[r,u]=U.useState(1),[d,h]=U.useState(J.NORMAL),p=m=>{switch(m){case G.PLASMA:return"fa-fire-burner";case G.MISSILE:return"fa-rocket";case G.LASER:return"fa-sun";case G.SWARM_LAUNCHER:return"fa-hive";case G.ENERGY_ORB:return"fa-atom";case G.ARC_CASTER:return"fa-bolt-lightning";case G.FLAMETHROWER:return"fa-fire";default:return"fa-gun"}},y=m=>{switch(m){case G.PLASMA:return"Plasma Cannon";case G.MISSILE:return"Havoc Missile";case G.LASER:return"Phase Laser";case G.SWARM_LAUNCHER:return"Swarm Launcher";case G.ENERGY_ORB:return"Energy Orb";case G.ARC_CASTER:return"Arc Caster";case G.FLAMETHROWER:return"Flamethrower";default:return m}};return f.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[400] p-4 md:p-8 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"max-w-4xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-6 md:p-10 shadow-2xl flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-cyan-400 text-3xl md:text-4xl font-black italic uppercase tracking-tighter",children:"Database"}),f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:[{id:"UPGRADES",label:"Upgrades",icon:"fa-microchip"},{id:"WEAPONS",label:"Arsenal",icon:"fa-crosshairs"},{id:"ENEMIES",label:"Intel",icon:"fa-eye"},{id:"HELP",label:"Help",icon:"fa-circle-question"}].map(m=>f.jsxs("button",{onClick:()=>o(m.id),className:`px-4 py-2 rounded-lg font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2
                        ${n===m.id?"bg-cyan-500 text-slate-950 shadow-[0_0_15px_rgba(6,182,212,0.4)]":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:[f.jsx("i",{className:`fa-solid ${m.icon}`}),m.label]},m.id))})]}),f.jsx("button",{onClick:s,className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-red-500 transition-colors shrink-0",children:f.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[n==="UPGRADES"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{className:"col-span-full text-slate-500 text-xs font-bold uppercase tracking-widest mb-2 px-1",children:"Available System Enhancements"}),Yo.map(m=>f.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-950/50 border border-slate-800 rounded-2xl group hover:border-cyan-500/50 transition-all",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center text-cyan-400 border border-slate-800 group-hover:bg-cyan-400 group-hover:text-slate-950 transition-all",children:f.jsx("i",{className:`fa-solid ${m.icon} text-xl`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black text-sm uppercase tracking-tight",children:m.name}),f.jsx("p",{className:"text-slate-400 text-xs leading-snug",children:m.description})]})]},m.id))]}),n==="WEAPONS"&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.values(G).map(m=>{const v=Is[m];let b=[];return m===G.SWARM_LAUNCHER?(b.push({label:"Burst Count",val:"3 - 9"}),b.push({label:"Blast Radius",val:"150px"}),b.push({label:"Homing",val:"Active"})):m===G.MISSILE?(b.push({label:"Blast Radius",val:"195px"}),b.push({label:"Pierce",val:"No"})):m===G.LASER?(b.push({label:"Beam Duration",val:"0.3s"}),b.push({label:"Tick Rate",val:"10/sec"}),b.push({label:"Pierce",val:"Infinite"})):m===G.PLASMA?b.push({label:"Effect",val:"Slows Enemies"}):m===G.RAILGUN?(b.push({label:"Pierce",val:"Infinite"}),b.push({label:"Charge Time",val:"0.5s"})):m===G.FLAK_CANNON?(b.push({label:"Pellets",val:"8"}),b.push({label:"Spread",val:"45"})):m===G.ENERGY_ORB?(b.push({label:"Pierce",val:"Infinite"}),b.push({label:"Duration",val:"5.0s"})):m===G.ARC_CASTER?(b.push({label:"Chain",val:"Yes"}),b.push({label:"Range",val:"250px"})):m===G.FLAMETHROWER&&(b.push({label:"Pierce",val:"Infinite"}),b.push({label:"Range",val:"Short"})),f.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-2xl p-5 hover:border-amber-500/50 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4 border-b border-slate-800 pb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-slate-900 rounded-xl flex items-center justify-center text-amber-400 border border-slate-800",children:f.jsx("i",{className:`fa-solid ${p(m)} text-xl`})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-black text-lg uppercase tracking-tight",children:y(m)}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[m," CLASS"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-6",children:[f.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[f.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Base Damage"}),f.jsx("span",{className:"text-white font-black text-sm",children:v.damage})]}),f.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[f.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Fire Rate"}),f.jsxs("span",{className:"text-white font-black text-sm",children:[v.fireRate,"/s"]})]}),f.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[f.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase",children:"Velocity"}),f.jsx("span",{className:"text-white font-black text-sm",children:v.bulletSpeed})]}),b.map((x,E)=>f.jsxs("div",{className:"flex justify-between items-baseline border-b border-slate-800/50 pb-1",children:[f.jsx("span",{className:"text-amber-500/80 text-xs font-bold uppercase",children:x.label}),f.jsx("span",{className:"text-white font-black text-sm",children:x.val})]},E))]})]},m)})}),n==="ENEMIES"&&f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl sticky top-0 z-10 shadow-xl space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-end mb-4",children:[f.jsxs("label",{className:"text-cyan-400 font-black uppercase text-sm tracking-widest",children:[f.jsx("i",{className:"fa-solid fa-calculator mr-2"}),"Threat Level Simulation"]}),f.jsxs("span",{className:"text-3xl font-black text-white tabular-nums",children:["LV ",r]})]}),f.jsx("input",{type:"range",min:"1",max:"100",value:r,onChange:m=>u(parseInt(m.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-fuchsia-400 font-black uppercase text-xs tracking-widest mb-3 block",children:"Class Classification"}),f.jsx("div",{className:"flex gap-2",children:[J.NORMAL,J.ELITE,J.LEGENDARY,J.MINIBOSS].map(m=>f.jsx("button",{onClick:()=>h(m),className:`flex-1 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all border
                            ${d===m?m===J.ELITE?"bg-fuchsia-600 border-fuchsia-400 text-white shadow-[0_0_15px_rgba(217,70,239,0.4)]":m===J.LEGENDARY?"bg-amber-500 border-amber-300 text-slate-950 shadow-[0_0_15px_rgba(251,191,36,0.4)]":m===J.MINIBOSS?"bg-red-600 border-red-400 text-white shadow-[0_0_15px_rgba(220,38,38,0.4)]":"bg-slate-700 border-slate-500 text-white":"bg-slate-950 border-slate-800 text-slate-500 hover:bg-slate-900 hover:text-white"}`,children:m},m))})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D.SCOUT,D.STRIKER,D.LASER_SCOUT,D.KAMIKAZE,D.SHIELDER,D.CARRIER,D.BOSS_DREADNOUGHT,D.BOSS_DESTROYER].map(m=>{var Z,se,Se;const v=kn[m];let b,x=d;v.isBoss?(x===J.MINIBOSS&&(x=J.LEGENDARY),b=ph[x]):b=zo[x],b||(b=zo[J.NORMAL]);let E="#fff";b.colorOverride?E=b.colorOverride:typeof v.color=="string"?E=v.color:E=`hsl(${v.color.hueMin}, ${v.color.saturation}%, ${v.color.lightness}%)`;let M=b.specialAbilities?[...b.specialAbilities]:[];m!==D.KAMIKAZE&&(M=M.filter(fe=>fe!=="hasDeathDefiance")),v.isBoss?M.includes("berserk")&&(M=M.filter(fe=>fe!=="berserk"),M.includes("enrage")||M.push("enrage")):M=M.filter(fe=>fe!=="enrage"&&fe!=="berserk"),m===D.CARRIER||m===D.BOSS_DESTROYER?M.includes("summon")||M.push("summon"):M=M.filter(fe=>fe!=="summon");const L=Math.round(v.baseHealth*r*b.healthMult);let w=0;if(b.hasShield){const fe=b.shieldPercent??.5;w=Math.round(L*fe)}const I=1+r*.05,H=v.baseSpeed*b.speedMult*I,Q=`${(fe=>fe<100?"Very Slow":fe<200?"Slow":fe<350?"Normal":fe<500?"Fast":fe<700?"Very Fast":"Extreme")(H)} (${Math.round(H)})`,P=(yh[m]??1)*hh,X=1+r*Ps.xpPerLevel,$=Math.round(P*b.xpMult*X),ee=bh[m]??30,ae=1+r*Ps.creditPerLevel,K=Math.round(ee*b.creditMult*ae),ce=vh[m]??100,me=Math.round(ce*b.xpMult*ae);let Te=10,Ge=1+r*.05;(Z=v.attacks)!=null&&Z.projectile?Te=v.attacks.projectile:(se=v.attacks)!=null&&se.collision?Te=v.attacks.collision:(Se=v.attacks)!=null&&Se.beam&&(Te=v.attacks.beam,Ge=1+r*(v.isBoss?.03:.02));const O=Math.round(Te*b.damageMult*Ge);return f.jsx(Xg,{type:m,tier:x,name:v.name,role:v.role,hp:L,shield:w,xp:$,credits:K,score:me,damage:O,speedLabel:Q,desc:v.description,color:E,isBoss:v.isBoss,abilities:M},m)})})]}),n==="HELP"&&f.jsxs("div",{className:"flex flex-col gap-8 text-slate-300",children:[f.jsxs("section",{children:[f.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Controls"}),f.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-white font-bold",children:"Movement:"})," Use Right Stick / WASD / Arrows"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-white font-bold",children:"Aiming:"})," Use Left Stick / Mouse / Touch Screen"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-white font-bold",children:"Firing:"})," Automatic when aiming at enemies, or hold Trigger/Mouse Click"]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Gameplay"}),f.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-3 text-sm",children:[f.jsxs("p",{children:["Survive endless waves of enemies in deep space. Collect ",f.jsx("span",{className:"text-cyan-400 font-bold italic",children:"Neural XP Sync"})," gems to level up and acquire random upgrades."]}),f.jsxs("p",{children:["Collect ",f.jsx("span",{className:"text-amber-400 font-bold italic",children:"Credits"})," during missions to unlock permanent ship upgrades in the ",f.jsx("span",{className:"text-white font-bold",children:"Command Garage"}),"."]}),f.jsxs("p",{children:["Watch out for ",f.jsx("span",{className:"text-red-500 font-bold italic",children:"Elite Enemies"})," marked with a magenta glowthey are tougher but drop better loot."]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-cyan-400 font-black uppercase text-sm mb-3",children:"Ship Systems"}),f.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-2xl border border-slate-800 space-y-3 text-sm",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-emerald-400 font-bold",children:"Integrity Hull:"})," Your primary health. If this reaches zero, mission ends."]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-blue-400 font-bold",children:"Plasma Shields:"})," Recharges after not taking damage for 3 seconds."]})]})]})]})]}),f.jsx("button",{onClick:s,className:"mt-6 w-full py-4 bg-slate-800 text-white font-black text-xl rounded-2xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-slate-700 shrink-0",children:"Close Database"})]})})},Xg=({type:s,tier:n,name:o,role:r,hp:u,shield:d,xp:h,credits:p,score:y,damage:m,speedLabel:v,desc:b,color:x,isBoss:E,abilities:M})=>{const T=dr.useRef(null);return dr.useEffect(()=>{const L=T.current;if(!L)return;const w=L.getContext("2d");if(!w)return;let I,H=0;const F=()=>{w.clearRect(0,0,L.width,L.height),w.save(),w.translate(L.width/2,L.height/2),w.rotate(H);let Q=18;s===D.LASER_SCOUT&&(Q=14),s===D.KAMIKAZE&&(Q=13),s===D.BOSS_DREADNOUGHT&&(Q=16),s===D.BOSS_DESTROYER&&(Q=16),s===D.CARRIER&&(Q=15);const P={radius:Q,pos:{x:0,y:0},vel:{x:0,y:0},turretAngle:0,enemyType:s,tier:n};w.fillStyle=x,w.strokeStyle=x,w.shadowColor=x,w.shadowBlur=15;const X=Mh[s];X&&X(w,P,performance.now(),!1),w.restore(),H+=.005,I=requestAnimationFrame(F)};return F(),()=>{cancelAnimationFrame(I)}},[s,x,n]),f.jsxs("div",{className:`p-4 rounded-2xl border bg-slate-950/40 flex flex-col gap-4 ${E?"border-emerald-500/50 bg-emerald-900/10 col-span-1 md:col-span-2":"border-slate-800"}`,children:[f.jsx("div",{className:"flex justify-between items-start",children:f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsx("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center bg-black border border-slate-700 overflow-hidden shrink-0 shadow-[inset_0_0_20px_rgba(0,0,0,0.8)]",children:f.jsx("canvas",{ref:T,width:80,height:80,className:"w-full h-full"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"text-white font-black uppercase text-base tracking-wide",style:{color:E?x:void 0},children:o}),E&&f.jsx("span",{className:"px-2 py-0.5 bg-red-500 text-white text-[10px] font-black uppercase rounded",children:"BOSS"})]}),f.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[r," - ",n," CLASS"]}),M&&M.length>0&&f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:M.map(L=>f.jsx("span",{className:"px-1.5 py-0.5 bg-fuchsia-500/20 text-fuchsia-300 border border-fuchsia-500/30 rounded text-[9px] font-bold uppercase",children:L.replace(/([A-Z])/g," $1").trim()},L))})]})]})}),f.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-900/50 p-3 rounded-lg border border-slate-800/50",children:[f.jsxs("div",{className:"col-span-1 border-r border-slate-800 pr-2",children:[f.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-bold mb-0.5",children:"Health"}),f.jsx("div",{className:"text-white font-bold text-sm leading-none",children:u.toLocaleString()}),d>0&&f.jsxs("div",{className:"text-[9px] text-cyan-400 font-bold mt-1",children:["+",d.toLocaleString()," Shield"]})]}),f.jsxs("div",{className:"col-span-1 border-r border-slate-800 pr-2 pl-2",children:[f.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-bold mb-0.5",children:"Attack"}),f.jsx("div",{className:"text-red-400 font-bold text-sm leading-none",children:m})]}),f.jsxs("div",{className:"col-span-1 border-r border-slate-800 pr-2 pl-2",children:[f.jsx("div",{className:"text-[9px] text-slate-500 uppercase font-bold mb-0.5",children:"Speed"}),f.jsx("div",{className:"text-emerald-400 font-bold text-sm leading-none",children:v})]}),f.jsxs("div",{className:"col-span-1 pl-2",children:[f.jsxs("div",{className:"flex justify-between items-center text-[9px] text-slate-500 uppercase font-bold border-b border-slate-800 pb-0.5 mb-0.5",children:[f.jsx("span",{children:"XP"}),f.jsx("span",{className:"text-cyan-400",children:h})]}),f.jsxs("div",{className:"flex justify-between items-center text-[9px] text-slate-500 uppercase font-bold",children:[f.jsx("span",{children:"Credits"}),f.jsx("span",{className:"text-amber-400",children:p})]})]})]}),f.jsxs("div",{className:"flex justify-between items-end border-t border-slate-800/50 pt-3",children:[f.jsx("p",{className:"text-slate-400 text-xs italic",children:b}),f.jsxs("div",{className:"text-[9px] text-slate-600 font-bold uppercase shrink-0 ml-4 py-1 px-2 bg-slate-900 rounded",children:["Score Value: ",f.jsx("span",{className:"text-slate-300",children:y.toLocaleString()})]})]})]})},Kg=({data:s,onUpdate:n,onClose:o})=>{const r=p=>{n({...s,credits:s.credits+p})},[u,d]=dr.useState(1e6),h=p=>p>=1e9?(p/1e9).toFixed(1)+"B":p>=1e6?(p/1e6).toFixed(0)+"M":p.toLocaleString();return f.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-red-900/50 rounded-3xl p-8 shadow-2xl flex flex-col gap-8",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-red-500 text-3xl font-black italic uppercase tracking-tighter",children:"Debug Console"}),f.jsx("button",{onClick:o,className:"text-slate-500 hover:text-white",children:f.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("p",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest text-center",children:"Authorization Level: OMNI"}),f.jsx("button",{onClick:()=>r(1e5),className:"group relative overflow-hidden py-4 bg-slate-950 border border-red-500/30 rounded-2xl text-red-500 font-black text-xl uppercase transition-all active:scale-95 hover:bg-red-500/10 hover:border-red-500",children:f.jsx("div",{className:"relative z-10 flex flex-col items-center",children:f.jsx("span",{children:"Add 100,000 Credits"})})}),f.jsxs("div",{className:"flex flex-col gap-4 bg-slate-950 p-4 rounded-xl border border-emerald-500/30",children:[f.jsxs("label",{className:"text-emerald-500 text-[10px] font-bold uppercase tracking-widest",children:["Custom Amount: ",u.toLocaleString()," C"]}),f.jsx("input",{type:"range",min:"1000000",max:"1000000000",step:"1000000",value:u,onChange:p=>d(parseInt(p.target.value)),className:"w-full h-2 bg-slate-900 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),f.jsxs("button",{onClick:()=>r(u),className:"w-full py-3 bg-emerald-900/50 text-emerald-400 font-bold uppercase text-sm rounded-lg border border-emerald-500/50 hover:bg-emerald-500 hover:text-slate-950 transition-colors",children:["Add ",h(u)]})]})]}),f.jsxs("div",{className:"p-4 bg-slate-950 rounded-xl border border-slate-800 text-center",children:[f.jsx("div",{className:"text-slate-500 text-[10px] uppercase font-bold mb-1",children:"Current Bank"}),f.jsxs("div",{className:"text-white font-black text-2xl tabular-nums",children:[s.credits.toLocaleString()," C"]})]}),f.jsx("button",{onClick:o,className:"w-full py-4 bg-red-600 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg",children:"Exit Debug"})]})})},Zg=({scores:s,onClose:n})=>{const[o,r]=U.useState(Mt.NORMAL),u=s.filter(h=>h.difficulty===o||!h.difficulty&&o===Mt.NORMAL).slice(0,50),d=h=>{if(!h)return"-";const p=Math.floor(h/60),y=Math.floor(h%60);return`${p}:${y.toString().padStart(2,"0")}`};return f.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[400] p-6 animate-in fade-in zoom-in duration-200",children:f.jsxs("div",{className:"max-w-3xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col gap-6 max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-amber-400 text-3xl font-black italic uppercase tracking-tighter",children:"Hall of Fame"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Top commanders per operational tier"})]}),f.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:f.jsx("i",{className:"fa-solid fa-times"})})]}),f.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 border-b border-slate-800 custom-scrollbar",children:Object.values(Yn).map(h=>{const p=o===h.id;return f.jsx("button",{onClick:()=>r(h.id),className:`px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-widest transition-all whitespace-nowrap border
                            ${p?"bg-slate-800 border-slate-600 text-white shadow-lg":"bg-transparent border-transparent text-slate-500 hover:text-slate-300"}`,style:{color:p?h.color:void 0,borderColor:p?h.color:void 0},children:h.name},h.id)})}),f.jsx("div",{className:"bg-slate-950/50 rounded-2xl border border-slate-800 flex-1 w-full min-h-0 overflow-hidden flex flex-col",children:f.jsx("div",{className:"overflow-x-auto overflow-y-hidden flex-1 w-full custom-scrollbar",children:f.jsxs("div",{className:"min-w-[600px] h-full flex flex-col",children:[f.jsxs("div",{className:"grid grid-cols-11 bg-slate-900/80 p-3 text-[10px] font-black uppercase text-slate-500 tracking-widest border-b border-slate-800 shrink-0",children:[f.jsx("div",{className:"col-span-1 text-center",children:"#"}),f.jsx("div",{className:"col-span-3",children:"Pilot"}),f.jsx("div",{className:"col-span-1 text-center",children:"Time"}),f.jsx("div",{className:"col-span-1 text-center",children:"Acc"}),f.jsx("div",{className:"col-span-2 text-center",children:"Kills"}),f.jsx("div",{className:"col-span-1 text-center",children:"Credits"}),f.jsx("div",{className:"col-span-2 text-right",children:"Score"})]}),f.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-1",children:u.length===0?f.jsxs("div",{className:"p-12 text-center flex flex-col items-center gap-3",children:[f.jsx("i",{className:"fa-solid fa-ghost text-4xl text-slate-800"}),f.jsxs("div",{className:"text-slate-600 font-bold uppercase text-xs",children:["No Records Found for ",Yn[o].name," Tier"]})]}):u.map((h,p)=>f.jsxs("div",{className:`grid grid-cols-11 p-3 border-b border-slate-800/50 items-center hover:bg-slate-800/30 transition-colors ${p===0?"bg-amber-400/5":""}`,children:[f.jsx("div",{className:"col-span-1 text-center font-black text-slate-600",children:p===0?f.jsx("i",{className:"fa-solid fa-crown text-amber-400"}):p+1}),f.jsxs("div",{className:"col-span-3 truncate pr-2",children:[f.jsx("div",{className:`font-bold truncate ${p===0?"text-amber-200":"text-white"}`,children:h.name||"Unknown Pilot"}),f.jsx("div",{className:"text-[9px] text-slate-500",children:new Date(h.date).toLocaleDateString()})]}),f.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-slate-300",children:d(h.survivalTime)}),f.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-slate-400",children:h.accuracy!==void 0?`${h.accuracy.toFixed(0)}%`:"-"}),f.jsx("div",{className:"col-span-2 text-center text-xs font-bold text-slate-400",children:h.enemiesKilled!==void 0?h.enemiesKilled.toLocaleString():"-"}),f.jsx("div",{className:"col-span-1 text-center text-xs font-bold text-amber-400/70",children:h.creditsEarned!==void 0?(h.creditsEarned/1e3).toFixed(1)+"k":"-"}),f.jsx("div",{className:"col-span-2 text-right font-black text-cyan-400 tabular-nums",children:h.score.toLocaleString()})]},p))})]})})}),f.jsx("button",{onClick:n,className:"w-full py-4 bg-slate-800 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-slate-700 shrink-0",children:"Close"})]})})};class Xs{constructor(n=""){this.counter=0,this.prefix=n}next(){return this.prefix?`${this.prefix}-${this.counter++}`:`${this.counter++}`}reset(){this.counter=0}}const _o=new Xs("p"),Nh=new Xs("b"),jo=new Xs("e"),Uo=new Xs("PU"),Qg=new Xs("g");class Fg{applyBuff(n,o,r){const u=Gn[o];return!u||u.type!=="DURATION"||!u.duration?n:{...n,activeBuffs:{...n.activeBuffs,[o]:r+u.duration}}}isBuffActive(n,o,r){const u=n.activeBuffs[o];return u!==void 0&&u>r}getActiveBuffs(n,o){const r=[];for(const[u,d]of Object.entries(n.activeBuffs))d>o&&r.push(u);return r}applyPickupEffect(n,o,r){const u=Gn[n];if(!u)return o;if(u.type==="DURATION")return this.applyBuff(o,n,r);switch(n){case"HEALTH":return{...o,currentHealth:Math.min(o.maxHealth,o.currentHealth+o.maxHealth*.35)};case"SHIELD":return{...o,currentShield:o.maxShield};default:return o}}getWeightedRandomPowerUp(){const n=Object.values(Gn),o=n.reduce((u,d)=>u+d.weight,0);let r=Math.random()*o;for(const u of n){if(r<u.weight)return u.id;r-=u.weight}return"OVERDRIVE"}calculateDrops(n,o){const r=[],u=n.enemyType;if(u===D.ASTEROID)return this.calculateAsteroidDrops(n);const d=n.level||1,h=o.lootMultiplier,p=this.getRewardMultiplier(n),y=1+d*Ps.scorePerLevel,m=vh[u]||100,v=Math.floor(m*y*p),b=yh[u]||1,x=Math.ceil(hh*b*(1+d*Ps.xpPerLevel)*p*h);r.push(this.createXpGem(n.pos,x));const E=this.getCreditDropChance(n);if(Math.random()<E){const T=bh[u]||30,L=Math.floor(T*(1+d*Ps.creditPerLevel)*p*h);r.push(this.createCredit(n.pos,L))}const M=this.getPowerUpDropChance(n);if(Math.random()<M){const T=this.getWeightedRandomPowerUp();r.push(this.createPowerUp(n.pos,T))}return{drops:r,score:v}}getRewardMultiplier(n){return n.isBoss?zs.boss:n.isLegendary?zs.legendary:n.isMiniboss?zs.miniboss:n.isElite?zs.elite:zs.normal}getCreditDropChance(n){return n.isBoss?ba.credit.boss:n.isLegendary?ba.credit.legendary:n.isMiniboss?ba.credit.miniboss:n.isElite?ba.credit.elite:ba.credit.base}getPowerUpDropChance(n){return n.isBoss?ba.powerUp.boss:n.isLegendary?ba.powerUp.legendary:n.isMiniboss?ba.powerUp.miniboss:n.isElite?ba.powerUp.elite:ba.powerUp.base}calculateAsteroidDrops(n){const o=[],r=ks.creditMin+Math.floor(Math.random()*(ks.creditMax-ks.creditMin));return o.push(this.createCredit(n.pos,r,22)),o.push(this.createXpGem({x:n.pos.x+(Math.random()-.5)*30,y:n.pos.y+(Math.random()-.5)*30},ks.xpValue)),{drops:o,score:ks.score}}createXpGem(n,o){return{id:Uo.next(),type:Me.XP_GEM,pos:{...n},vel:{x:0,y:0},radius:14,health:1,maxHealth:1,color:"#06b6d4",value:o,isAlive:!0}}createCredit(n,o,r=15){return{id:Uo.next(),type:Me.CREDIT,pos:{...n},vel:{x:0,y:0},radius:r,health:1,maxHealth:1,color:"#fbbf24",value:o,isAlive:!0}}createPowerUp(n,o){const r=Gn[o];return{id:Uo.next(),type:Me.POWERUP,pos:{...n},vel:{x:0,y:0},radius:24,health:1,maxHealth:1,color:r.color,powerUpId:o,isAlive:!0}}}const xl=new Fg,ft=({label:s,value:n,subValue:o,icon:r,highlight:u})=>f.jsxs("div",{className:`flex justify-between items-center p-3 rounded-xl border ${u?"bg-emerald-900/20 border-emerald-500/50":"bg-slate-900/50 border-slate-800"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center bg-slate-900 border border-slate-700 ${u?"text-emerald-400":"text-slate-400"}`,children:f.jsx("i",{className:`fa-solid ${r}`})}),f.jsx("span",{className:"text-slate-300 text-xs font-bold uppercase tracking-wide",children:s})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:`font-black text-lg ${u?"text-emerald-400":"text-white"}`,children:n}),o&&f.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase",children:o})]})]}),Wg=({stats:s,onClose:n,gameTime:o=performance.now()})=>{const r=xl.isBuffActive(s,"SPEED",o),u=xl.isBuffActive(s,"OVERDRIVE",o),d=s.speed*(r?1.5:1),h=s.fireRate*(u?2.5:1),p=Math.round(s.damage*h*s.bulletCount);return f.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-blur-xl flex items-center justify-center z-[450] p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"max-w-2xl w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-cyan-400 text-3xl font-black italic uppercase tracking-tighter",children:"System Diagnostic"}),f.jsx("p",{className:"text-slate-400 text-sm",children:"Real-time vessel performance telemetry"})]}),f.jsx("button",{onClick:n,className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:f.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-2",children:"Integrity Systems"}),f.jsx(ft,{label:"Hull Integrity",value:`${Math.round(s.currentHealth)} / ${Math.round(s.maxHealth)}`,icon:"fa-heart-pulse"}),f.jsx(ft,{label:"Plasma Shield",value:`${Math.round(s.currentShield)} / ${Math.round(s.maxShield)}`,subValue:`Regen: ${s.shieldRegen.toFixed(1)}/sec`,icon:"fa-shield-halved"}),f.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:"Weapons Systems"}),f.jsx(ft,{label:"Damage Output",value:Math.round(s.damage),subValue:`~${p} DPS (Est.)`,icon:"fa-burst"}),f.jsx(ft,{label:"Fire Cycle",value:`${h.toFixed(2)} /s`,subValue:u?"OVERDRIVE ACTIVE":"Standard Cycle",icon:"fa-bolt",highlight:u}),f.jsx(ft,{label:"Critical Hit",value:`${(s.critChance*100).toFixed(0)}%`,subValue:`Multiplier: x${s.critMultiplier.toFixed(1)}`,icon:"fa-crosshairs"}),f.jsx(ft,{label:"Projectiles",value:s.bulletCount,subValue:s.weaponType===G.LASER?"Beam Emitters":"Per Shot",icon:"fa-clone"}),f.jsx("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:"Navigation & Utility"}),f.jsx(ft,{label:"Thruster Output",value:Math.round(d),subValue:r?"NITRO INJECTION":"Standard Cruise",icon:"fa-gauge-high",highlight:r}),f.jsx(ft,{label:"Magnet Field",value:`${Math.round(s.magnetRange)}m`,icon:"fa-magnet"}),f.jsx(ft,{label:"Salvage Efficiency",value:`x${s.creditMultiplier.toFixed(2)}`,icon:"fa-coins"}),s.weaponType!==G.PLASMA&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"col-span-full text-slate-500 text-[10px] font-black uppercase tracking-widest mt-4",children:["Class Specifics (",s.weaponType,")"]}),s.weaponType===G.MISSILE&&f.jsx(ft,{label:"Blast Radius",value:`${Math.round(s.areaSize)}px`,icon:"fa-bomb"}),s.weaponType===G.ENERGY_ORB&&f.jsxs(f.Fragment,{children:[f.jsx(ft,{label:"Pulse Radius",value:`${Math.round(s.areaSize)}px`,icon:"fa-circle-dot"}),f.jsx(ft,{label:"Flight Time",value:`${(s.duration/1e3).toFixed(1)}s`,icon:"fa-hourglass-half"})]}),s.weaponType===G.FLAMETHROWER&&f.jsxs(f.Fragment,{children:[f.jsx(ft,{label:"Flame Width",value:`${Math.round(s.areaSize)}px`,icon:"fa-ruler-vertical"}),f.jsx(ft,{label:"Flame Range",value:`${(s.duration/1e3).toFixed(1)}s`,icon:"fa-ruler-horizontal"})]}),s.weaponType===G.ARC_CASTER&&f.jsxs(f.Fragment,{children:[f.jsx(ft,{label:"Chain Range",value:`${Math.round(s.chainRange)}px`,icon:"fa-share-nodes"}),f.jsx(ft,{label:"Jump Count",value:s.pierceCount,icon:"fa-bolt"})]}),s.weaponType===G.SWARM_LAUNCHER&&f.jsxs(f.Fragment,{children:[f.jsx(ft,{label:"Burst Count",value:s.swarmCount,icon:"fa-layer-group"}),f.jsx(ft,{label:"Homing Agility",value:s.swarmAgility.toFixed(1),icon:"fa-paper-plane"})]}),s.weaponType===G.LASER&&f.jsx(ft,{label:"Beam Duration",value:`${s.laserDuration.toFixed(2)}s`,icon:"fa-stopwatch"})]})]})})]})})},Jg=({onStart:s,onClose:n})=>{const[o,r]=U.useState(D.SCOUT),[u,d]=U.useState(1),[h,p]=U.useState(5),[y,m]=U.useState("NORMAL"),v=sg,b=o===D.BOSS_DREADNOUGHT||o===D.BOSS_DESTROYER,x=[{tier:"NORMAL",label:"Normal",color:"slate"},{tier:"ELITE",label:"Elite",color:"fuchsia"},{tier:"LEGENDARY",label:"Legendary",color:"amber"},{tier:"MINIBOSS",label:"Miniboss",color:"red",enemyOnly:!0}],E=b?x.filter(T=>!T.enemyOnly):x,M=()=>{s({enemyType:o,level:u,count:h,tier:y})};return f.jsx("div",{className:"fixed inset-0 bg-slate-950/95 backdrop-blur-xl flex items-center justify-center z-[500] p-6 animate-in fade-in duration-200",children:f.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-emerald-500/30 rounded-3xl p-8 shadow-2xl flex flex-col gap-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-emerald-400 text-3xl font-black italic uppercase tracking-tighter",children:"Combat Sim"}),f.jsx("p",{className:"text-slate-400 text-xs uppercase tracking-widest font-bold",children:"Laboratory Mode"})]}),f.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-white hover:bg-slate-700 transition-colors border border-slate-700",children:f.jsx("i",{className:"fa-solid fa-times"})})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Target Entity"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map(T=>f.jsxs("button",{onClick:()=>r(T.type),className:`flex items-center gap-2 p-3 rounded-xl border text-left transition-all
                  ${o===T.type?"bg-emerald-900/40 border-emerald-500 text-emerald-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[f.jsx("i",{className:`fa-solid ${T.icon} w-5 text-center`}),f.jsx("span",{className:"text-xs font-bold uppercase",children:T.label})]},T.type))})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Tier (Rarity)"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(T=>{const L=y===T.tier,w={slate:"border-slate-500 bg-slate-800/40 text-slate-300",fuchsia:"border-fuchsia-500 bg-fuchsia-900/40 text-fuchsia-400",amber:"border-amber-500 bg-amber-900/40 text-amber-400",red:"border-red-500 bg-red-900/40 text-red-400"};return f.jsx("button",{onClick:()=>m(T.tier),className:`p-2 rounded-xl border text-center transition-all text-[10px] font-bold uppercase
                    ${L?w[T.color]:"bg-slate-950 border-slate-800 text-slate-500 hover:border-slate-600"}`,children:T.label},T.tier)})})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Enemy Rank"}),f.jsxs("span",{className:"text-emerald-400 font-black text-xl",children:["LV ",u]})]}),f.jsx("input",{type:"range",min:"1",max:"100",value:u,onChange:T=>d(parseInt(T.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Spawn Count"}),f.jsxs("span",{className:"text-emerald-400 font-black text-xl",children:["x",h]})]}),f.jsx("input",{type:"range",min:"1",max:"25",value:h,onChange:T=>p(parseInt(T.target.value)),className:"w-full h-3 bg-slate-950 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),f.jsx("p",{className:"text-slate-600 text-[9px] font-bold",children:"Note: Targets will auto-respawn upon destruction."})]}),f.jsx("button",{onClick:M,className:"w-full py-4 bg-emerald-600 text-white font-black text-xl rounded-xl uppercase tracking-widest active:scale-95 transition-all shadow-lg hover:bg-emerald-500 mt-2",children:"Initiate Simulation"})]})})};class In{constructor(){this.listeners=new Set,this.logs=[],this.MAX_LOGS=50,this.nextId=0}static getInstance(){return In.instance||(In.instance=new In),In.instance}log(n,o,r="#cbd5e1"){const u={id:this.nextId++,timestamp:Date.now(),category:n,message:o,color:r};this.logs.unshift(u),this.logs.length>this.MAX_LOGS&&this.logs.pop(),this.notifyListeners(u)}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}getHistory(){return[...this.logs]}clear(){this.logs=[],this.nextId=0}notifyListeners(n){this.listeners.forEach(o=>o(n))}}const Zl=In.getInstance(),$g=()=>{const[s,n]=U.useState([]);return U.useRef(null),U.useEffect(()=>{n(Zl.getHistory());const o=Zl.subscribe(r=>{n(u=>[r,...u].slice(0,50))});return()=>o()},[]),f.jsxs("div",{className:"absolute left-4 bottom-24 w-96 max-h-64 overflow-hidden pointer-events-none z-50 flex flex-col-reverse gap-1 p-2 mask-linear-fade",children:[s.map(o=>f.jsxs("div",{className:"text-[10px] font-mono leading-tight flex gap-2 items-start animate-in slide-in-from-left-2 duration-200",style:{color:o.color,textShadow:"1px 1px 0 #000"},children:[f.jsxs("span",{className:"opacity-50 min-w-[50px]",children:["[",new Date(o.timestamp).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),f.jsxs("span",{className:"font-bold opacity-75 min-w-[60px] uppercase",children:[o.category,":"]}),f.jsx("span",{className:"flex-1 break-words opacity-90",children:o.message})]},o.id)),f.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 bg-gradient-to-b from-slate-950/0 to-transparent pointer-events-none"})]})},ey=({isOpen:s,selectedDifficulty:n,currentRank:o,onSelect:r,onClose:u})=>{if(!s)return null;const d=Yn[n];return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[250] flex items-center justify-center p-4",onClick:u,children:f.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:h=>h.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-white text-xl font-black uppercase tracking-wider",children:"Select Difficulty"}),f.jsx("button",{onClick:u,className:"text-slate-500 hover:text-white transition-colors",children:f.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),f.jsx("div",{className:"flex flex-col gap-3",children:Object.values(Yn).map(h=>{const p=o>=h.minRank,y=n===h.id;return f.jsx("button",{disabled:!p,onClick:()=>{r(h.id),u()},className:`p-4 rounded-xl border-2 text-left transition-all
                                    ${y?"bg-slate-800 shadow-lg":"bg-slate-900/50 hover:bg-slate-800/50"}
                                    ${p?"":"opacity-40 cursor-not-allowed grayscale"}`,style:{borderColor:y?h.color:"transparent"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-black text-lg uppercase tracking-wide",style:{color:h.color},children:h.name}),f.jsx("div",{className:"text-slate-400 text-sm mt-1",children:h.description})]}),y&&f.jsx("i",{className:"fa-solid fa-check text-xl",style:{color:h.color}}),!p&&f.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[f.jsx("i",{className:"fa-solid fa-lock"}),f.jsxs("span",{children:["Rank ",h.minRank]})]})]})},h.id)})}),f.jsxs("div",{className:"mt-6 p-4 bg-slate-950 rounded-xl border border-slate-800",children:[f.jsx("div",{className:"text-slate-500 text-xs uppercase tracking-wider mb-2",children:"Active Mission Parameters"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-2xl font-black",style:{color:d.color},children:d.name}),f.jsxs("div",{className:"text-slate-400 text-sm",children:["Loot ",d.lootMultiplier.toFixed(1)]})]})]})]})})},ty=({bestScore:s,credits:n,currentRank:o,selectedDifficulty:r,onSelectDifficulty:u,onStartMission:d,onOpenGarage:h,onOpenDebug:p,onOpenSettings:y,onOpenGuide:m,onOpenCheats:v,onOpenLeaderboard:b})=>{const[x,E]=U.useState(!1),M=Yn[r];return f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 backdrop-blur-lg z-[200]",children:[f.jsx("h1",{className:"text-cyan-400 text-4xl sm:text-5xl font-black italic uppercase mb-2 drop-shadow-[0_0_40px_rgba(6,182,212,0.9)] text-center px-4",children:"Void Arena"}),s>0&&f.jsxs("div",{className:"mb-6 px-4 py-1 rounded bg-slate-900/50 border border-slate-700 text-amber-400 font-bold uppercase tracking-widest text-sm shadow-[0_0_15px_rgba(251,191,36,0.3)]",children:["Best Score: ",s.toLocaleString()]}),f.jsx("button",{onClick:b,className:"absolute top-6 right-6 w-12 h-12 sm:w-14 sm:h-14 bg-slate-800 rounded-full border border-slate-700 text-amber-400 shadow-xl flex items-center justify-center hover:bg-slate-700 transition-all active:scale-95 z-[210]",children:f.jsx("i",{className:"fa-solid fa-trophy text-xl sm:text-2xl"})}),f.jsxs("button",{onClick:()=>E(!0),className:"mb-6 px-6 py-3 bg-slate-800/80 border rounded-xl flex items-center gap-4 hover:bg-slate-700 transition-all active:scale-95",style:{borderColor:M.color},children:[f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Mission Difficulty"}),f.jsx("div",{className:"font-black text-lg uppercase tracking-wide",style:{color:M.color},children:M.name})]}),f.jsx("i",{className:"fa-solid fa-chevron-down text-slate-500"})]}),f.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs px-4",children:[f.jsx("button",{onClick:d,className:"py-5 sm:py-6 bg-cyan-500 text-slate-950 font-black text-xl sm:text-2xl rounded-2xl active:scale-95 transition-all shadow-lg shadow-cyan-500/20",children:"START MISSION"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:h,className:"py-3 sm:py-4 bg-slate-800 text-white font-black text-lg sm:text-xl rounded-2xl border border-slate-700 active:scale-95 transition-all",children:"GARAGE"}),f.jsxs("button",{onClick:p,className:"py-3 sm:py-4 bg-slate-900 text-emerald-400 font-black text-lg sm:text-xl rounded-2xl border border-emerald-500/30 active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-slate-800",children:[f.jsx("i",{className:"fa-solid fa-flask"})," SIM"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:y,className:"py-2.5 sm:py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-gear"})," SETTINGS"]}),f.jsxs("button",{onClick:m,className:"py-2.5 sm:py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-book"})," MANUAL"]})]}),f.jsxs("button",{onClick:v,className:"py-2 bg-transparent text-red-900/50 font-bold text-xs uppercase tracking-widest hover:text-red-500 hover:bg-slate-900 rounded-lg transition-all",children:[f.jsx("i",{className:"fa-solid fa-code mr-2"}),"Access Cheats"]})]}),f.jsxs("div",{className:"mt-10 sm:mt-12 text-amber-400 font-black text-lg sm:text-xl flex items-center gap-2",children:[f.jsx("i",{className:"fas fa-coins"}),f.jsxs("span",{children:[n.toLocaleString()," CREDITS"]})]}),f.jsxs("div",{className:"mt-2 text-cyan-400/60 font-bold text-sm uppercase tracking-widest",children:["RANK: LV ",o]}),f.jsx("div",{className:"absolute bottom-8 sm:bottom-10 left-0 w-full text-center text-slate-600 font-bold text-xs tracking-widest opacity-50 z-[210] pointer-events-none",children:"v0.6.0"}),f.jsx(ey,{isOpen:x,selectedDifficulty:r,currentRank:o,onSelect:u,onClose:()=>E(!1)})]})},ay=({onResume:s,onOpenGarage:n,onOpenStats:o,onOpenManifest:r,onOpenGuide:u,onOpenSettings:d,onOpenCheats:h,onSaveAndExit:p})=>f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-950/80 backdrop-blur-2xl z-[250]",children:[f.jsx("h2",{className:"text-white text-5xl font-black italic uppercase mb-12",children:"Paused"}),f.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-xs px-6",children:[f.jsx("button",{onClick:s,className:"py-6 bg-cyan-500 text-slate-950 font-black text-2xl rounded-2xl active:scale-95 shadow-xl",children:"RESUME"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("button",{onClick:n,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"GARAGE"}),f.jsx("button",{onClick:o,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"STATUS"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("button",{onClick:r,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"MANIFEST"}),f.jsx("button",{onClick:u,className:"py-4 bg-slate-800 text-white font-black text-xl rounded-2xl border border-slate-700 active:scale-95",children:"MANUAL"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("button",{onClick:d,className:"py-3 bg-slate-900 text-slate-400 font-bold text-sm rounded-xl border border-slate-800 active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-gear"})," SETTINGS"]}),f.jsxs("button",{onClick:h,className:"py-3 bg-slate-950 text-red-900 font-bold text-sm rounded-xl border border-red-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsx("i",{className:"fa-solid fa-code"})," CHEATS"]})]}),f.jsx("button",{onClick:p,className:"py-4 bg-red-900/50 text-white font-black text-xl rounded-2xl border border-red-500/30 active:scale-95 mt-4",children:"SAVE & EXIT"})]})]});function ly(s){const n=Math.floor(s/60),o=Math.floor(s%60);return`${n}:${o.toString().padStart(2,"0")}`}const ny=({score:s,gameMode:n,pendingHighScore:o,hasSubmittedScore:r,newHighScoreName:u,onNameChange:d,onSubmitScore:h,runMetrics:p,gameTime:y,stats:m,onReturnToBase:v})=>f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-950/90 backdrop-blur-2xl z-[200] p-6 animate-in fade-in duration-500",children:[f.jsx("h2",{className:"text-white text-5xl font-black uppercase mb-6 italic tracking-tighter text-center",children:"Mission Failed"}),f.jsxs("div",{className:"flex flex-col gap-8 w-full max-w-lg justify-center items-center",children:[f.jsxs("div",{className:"w-full flex flex-col items-center",children:[!r&&o&&n===Nt.STANDARD?f.jsxs("div",{className:"w-full bg-slate-900 border border-amber-500 rounded-2xl p-6 mb-6 flex flex-col gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-amber-400 font-black text-xl uppercase tracking-widest mb-1",children:"New High Score!"}),f.jsx("div",{className:"text-white text-4xl font-black tabular-nums",children:o.score.toLocaleString()}),f.jsxs("div",{className:"text-slate-400 text-xs font-bold uppercase mt-1",children:["Rank #",o.rank]})]}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("label",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"Enter Pilot Name"}),f.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),maxLength:12,className:"bg-slate-950 border border-slate-700 rounded-xl p-3 text-white font-bold text-center uppercase focus:border-cyan-500 outline-none"})]}),f.jsx("button",{onClick:h,className:"w-full py-4 bg-amber-500 text-slate-950 font-black uppercase tracking-widest rounded-xl hover:bg-amber-400 active:scale-95 transition-all",children:"Register Score"})]}):f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n===Nt.DEBUG&&f.jsx("div",{className:"mb-4 px-4 py-1 bg-emerald-900/50 border border-emerald-500/50 rounded text-emerald-400 font-bold uppercase tracking-widest text-xs",children:"Simulation Mode"}),f.jsx("div",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Total Score"}),f.jsx("div",{className:"text-5xl font-black text-white drop-shadow-[0_0_20px_rgba(255,255,255,0.4)]",children:s.toLocaleString()})]}),f.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 mb-6",children:[f.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center",children:[f.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Accuracy"}),f.jsxs("div",{className:"text-cyan-400 font-black text-lg",children:[(p.shotsFired>0?p.shotsHit/p.shotsFired*100:0).toFixed(1),"%"]})]}),f.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center",children:[f.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Enemies Killed"}),f.jsx("div",{className:"text-red-500 font-black text-lg",children:p.enemiesKilled.toLocaleString()})]}),f.jsxs("div",{className:"bg-slate-900/40 p-3 rounded-xl border border-slate-800 flex flex-col items-center col-span-2",children:[f.jsx("div",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Survival Time"}),f.jsx("div",{className:"text-white font-black text-lg",children:ly(y)})]})]}),n===Nt.STANDARD&&f.jsxs("div",{className:"bg-amber-400/10 border border-amber-400/30 px-8 py-3 rounded-xl text-amber-400 font-black text-xl mb-8 flex items-center gap-3 w-full justify-center",children:[f.jsx("i",{className:"fa-solid fa-coins"}),f.jsxs("span",{children:["Salvage: +",Math.floor(m.credits)," C"]})]}),f.jsx("button",{onClick:v,className:"w-full py-5 bg-white text-red-900 font-black text-2xl rounded-full shadow-2xl active:scale-95 transition-all hover:bg-slate-200",children:"RETURN TO BASE"})]}),f.jsxs("div",{className:"w-full bg-slate-900/50 border border-red-900/30 rounded-2xl p-4 flex flex-col gap-2 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-500 border-b border-red-900/30 pb-2",children:[f.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),f.jsx("span",{className:"font-black uppercase text-sm tracking-widest",children:"System Failure Log"})]}),f.jsx("div",{className:"max-h-48 overflow-y-auto custom-scrollbar flex flex-col gap-1 pr-1",children:m.combatLog.length===0?f.jsx("div",{className:"text-slate-500 text-xs italic text-center py-4",children:"No damage recorded."}):m.combatLog.slice().reverse().map((b,x)=>f.jsxs("div",{className:`p-2 rounded flex justify-between items-center text-xs ${b.isFatal?"bg-red-500/20 border border-red-500":"bg-slate-950/50 border border-slate-800"}`,children:[f.jsxs("div",{children:[f.jsxs("div",{className:"font-bold text-slate-300",children:[b.source," ",b.enemyLevel?`(LV ${b.enemyLevel})`:""]}),b.isFatal&&f.jsx("div",{className:"text-[9px] text-red-400 font-black uppercase tracking-wider",children:"CRITICAL FAILURE"})]}),f.jsxs("div",{className:"font-black text-red-400",children:["-",b.damage," HP"]})]},x))})]})]})]});function $0(){return{movement:{x:0,y:0},aim:{x:0,y:0},fire:!1}}class sy{constructor(){this.state=$0()}getMovement(){return this.state.movement}getAim(){return this.state.aim}isFiring(){return this.state.fire}getState(){return this.state}setMovement(n){this.state.movement={...n}}setAim(n){this.state.aim={...n}}setFire(n){this.state.fire=n}reset(){this.state=$0()}resetMovement(){this.state.movement={x:0,y:0}}resetAim(){this.state.aim={x:0,y:0}}}const Ht=new sy,iy={damageMult:1,fireRate:1,bulletSpeed:1,bulletCount:0,pierceCount:1,explosionRadius:1,swarmCount:0,swarmAgility:1,laserDuration:1,chainRange:1,duration:1};function qo(s,n,o){const r=o*n.perLevel;switch(n.operation){case"add":s[n.stat]+=r;break;case"multiply":s[n.stat]*=r;break;case"addPercent":s[n.stat]*=1+r;break}}function ry(s,n){const o={...iy},r=Pn.filter(u=>{var d;return u.weaponType===s&&((d=u.effects)==null?void 0:d.length)});for(const u of r){const d=n[u.id]||0;if(!(d===0||!u.effects))for(const h of u.effects)qo(o,h,d)}return o}const cy={duration:0,cooldown:0,power:1};function oy(s,n){const o={...cy},r=Pn.filter(u=>{var d;return u.moduleType===s&&((d=u.effects)==null?void 0:d.length)});for(const u of r){const d=n[u.id]||0;if(!(d===0||!u.effects))for(const h of u.effects)qo(o,h,d)}return o}const uy={maxHealth:1,maxShield:1,shieldRegen:1,speed:1,baseDamage:1,critChance:0,critDamage:1,magnetRange:1,salvageBonus:1};function fy(s){const n={...uy},o=Pn.filter(r=>{var u;return!r.weaponType&&!r.moduleType&&((u=r.effects)==null?void 0:u.length)});for(const r of o){const u=s[r.id]||0;if(!(u===0||!r.effects))for(const d of r.effects)qo(n,d,u)}return n}function dy(s,n){const o=s[n.stat]??0;let r;switch(n.operation){case"addFlat":r=o+n.value;break;case"addPercent":r=o*(1+n.value);break;case"setMultiply":r=o*n.value;break;default:r=o}return n.cap!==void 0&&(r=Math.min(r,n.cap)),{...s,[n.stat]:r}}function eh(s,n){if(!n.effects||n.effects.length===0)return s;let o={...s};for(const r of n.effects)o=dy(o,r);return o}const hy=(s,n,o)=>{const[r,u]=U.useState(or),d=U.useRef({x:Be/2,y:Be/2}),h=U.useRef({x:Be/2,y:Be/2}),p=U.useRef(or),y=U.useRef(0);U.useEffect(()=>{p.current=r},[r]);const m=U.useCallback(w=>{const I=El.find(ne=>ne.type===w.equippedShip)||El[0],H=w.equippedWeapon||G.PLASMA,F=w.equippedModules||[],Q=Is[H],P=fy(w.metaLevels),X=ry(H,w.metaLevels);let $=(I.baseStats.bulletCount||1)+X.bulletCount,ee=Q.bulletSpeed*X.bulletSpeed,ae=X.damageMult,K=X.pierceCount,ce=Q.fireRate*X.fireRate,me=Q.areaSize*X.explosionRadius,Te=(Q.duration||2e3)*X.duration,Ge=.3*X.laserDuration;const O=250*X.chainRange;let Z=3+X.swarmCount,se=1.5*X.swarmAgility;H===G.LASER||H===G.RAILGUN?K=999:H===G.FLAK_CANNON&&($=8+X.bulletCount);const Se=ne=>{const he=oy(ne,w.metaLevels);let ye=0,qe=0,Le=0;return ne===we.AFTERBURNER?(ye=1e4+he.duration,qe=Math.max(5e3,6e4+he.cooldown),Le=2*he.power):ne===we.SHIELD_BURST?(ye=500+he.duration,qe=Math.max(15e3,2e4+he.cooldown),Le=0):ne===we.PHASE_SHIFT?(ye=2e3,qe=25e3,Le=0):ne===we.TIME_WARP&&(ye=4e3+he.duration,qe=Math.max(15e3,4e4+he.cooldown),Le=.5+he.power),{type:ne,cooldownMax:qe,duration:ye,power:Le,readyTime:0,activeUntil:0}},fe=F.filter(ne=>ne!==we.NONE).map(Se),R=(I.baseStats.maxHealth||100)*P.maxHealth,z=(I.baseStats.maxShield||20)*P.maxShield,W=(I.baseStats.shieldRegen||3)*P.shieldRegen;return{...or,...I.baseStats,shipType:w.equippedShip,weaponType:H,maxHealth:R,currentHealth:R,maxShield:z,currentShield:z,shieldRegen:W,speed:(I.baseStats.speed||240)*P.speed,damage:Q.damage*P.baseDamage*ae,fireRate:ce,magnetRange:or.magnetRange*P.magnetRange,bulletCount:$,bulletSpeed:ee,pierceCount:K,chainRange:O,areaSize:me,duration:Te,laserDuration:Ge,swarmCount:Z,swarmAgility:se,moduleSlots:fe,critChance:(I.baseStats.critChance||.05)+P.critChance,critMultiplier:1.5*P.critDamage,creditMultiplier:P.salvageBonus,level:w.currentLevel||1,xp:w.currentXp||0,xpToNextLevel:w.xpToNextLevel||250,credits:0,invulnerableUntil:0,activeBuffs:{},acquiredUpgrades:[],combatLog:[]}},[]),v=U.useCallback(()=>{let w=m(n);const I=n.acquiredUpgradeIds||[],H=[];I.forEach(F=>{const Q=Yo.find(P=>P.id===F);Q&&Q.type===ct.STAT&&Q.effects&&(w=eh(w,Q),H.push(Q))}),w.acquiredUpgrades=H,d.current={x:Be/2,y:Be/2},h.current={x:Be/2,y:Be/2},w.currentHealth=w.maxHealth,w.currentShield=w.maxShield,u(w),y.current=0},[n,m]),b=U.useCallback(w=>{u(I=>{const H=performance.now(),F=I.moduleSlots[w];if(!F||F.type===we.NONE||H<F.readyTime||H<F.activeUntil)return I;const Q=[...I.moduleSlots];Q[w]={...F,activeUntil:H+F.duration,readyTime:H+F.cooldownMax};let P={...I,moduleSlots:Q};return F.type===we.SHIELD_BURST?(P.currentShield=P.maxShield,P.invulnerableUntil=H+F.duration):F.type===we.PHASE_SHIFT&&(P.invulnerableUntil=H+F.duration),P})},[]),x=U.useCallback((w,I)=>{const H=Ht.getMovement();if(s!==_e.PLAYING||o){s===_e.DYING&&(d.current.x+=H.x*20*w,d.current.y+=H.y*20*w);return}const F=p.current;let Q=F.speed;xl.isBuffActive(F,"SPEED",I)&&(Q*=1.5);const P=F.moduleSlots.find(X=>X.type===we.AFTERBURNER);P&&I<P.activeUntil&&(Q*=P.power),d.current.x+=H.x*Q*w,d.current.y+=H.y*Q*w,d.current.x=Math.max(30,Math.min(Be-30,d.current.x)),d.current.y=Math.max(30,Math.min(Be-30,d.current.y)),h.current.x+=(d.current.x-h.current.x)*V0,h.current.y+=(d.current.y-h.current.y)*V0},[s,o]),E=U.useCallback((w,I)=>{const H=p.current;if(I-H.lastShieldHitTime>3e3&&H.currentShield<H.maxShield){const F=Math.min(H.maxShield,H.currentShield+H.shieldRegen*w);u(Q=>({...Q,currentShield:F}))}},[]),M=U.useCallback(w=>{u(I=>{let H={...I};return w.type===ct.STAT&&w.effects&&(H=eh(H,w),H.acquiredUpgrades=[...I.acquiredUpgrades,w]),{...H,pendingLevelUps:Math.max(0,I.pendingLevelUps-1)}})},[]),T=U.useCallback((w,I,H)=>{const F=p.current;w<F.invulnerableUntil||(y.current=w,typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(50),u(Q=>{let P=I,X=Q.currentShield,$=Q.currentHealth;if(X>0){const me=Math.min(X,P);X-=me,P-=me}P>0&&($=Math.max(0,$-P));let ee="Unknown Hazard",ae;if(typeof H=="string")ee=H;else{const me="enemyType"in H?H.enemyType:void 0;me?me===D.SCOUT?ee="Void Scout":me===D.STRIKER?ee="Crimson Striker":me===D.LASER_SCOUT?ee="Sniper Drone":me===D.KAMIKAZE?ee="Kamikaze Drone":me===D.BOSS_DREADNOUGHT?ee="Dreadnought":me===D.BOSS_DESTROYER?ee="Imperial Destroyer":ee="Enemy Fire":H.type===Me.ENEMY_BULLET?ee="Enemy Fire":H.id==="environment"&&(ee="Environment"),H.isLegendary?ee=`Legendary ${ee}`:H.isElite&&(ee=`Elite ${ee}`),H.isMiniboss&&(ee=`Giant ${ee}`),H.level&&(ae=H.level)}const K={timestamp:Date.now(),damage:I,source:ee,isFatal:$<=0,enemyLevel:ae},ce=[...Q.combatLog,K].slice(-6);return{...Q,currentShield:X,currentHealth:$,lastShieldHitTime:w,invulnerableUntil:w+300,combatLog:ce}}))},[]),L=U.useCallback(w=>{const I=m(w);u(H=>{const F=H.maxHealth>0?H.currentHealth/H.maxHealth:1,Q=H.maxShield>0?H.currentShield/H.maxShield:1;let P={...I};return H.acquiredUpgrades&&H.acquiredUpgrades.length>0&&(H.acquiredUpgrades.forEach(X=>{X.effect&&(P=X.effect(P))}),P.acquiredUpgrades=H.acquiredUpgrades),P.level=H.level,P.xp=H.xp,P.xpToNextLevel=H.xpToNextLevel,P.pendingLevelUps=H.pendingLevelUps,P.credits=H.credits,P.activeBuffs=H.activeBuffs,P.combatLog=H.combatLog,P.moduleReadyTime=H.moduleReadyTime,P.moduleActiveUntil=H.moduleActiveUntil,P.currentHealth=Math.min(P.maxHealth,P.maxHealth*F),P.currentShield=Math.min(P.maxShield,P.maxShield*Q),P})},[m]);return{stats:r,setStats:u,statsRef:p,playerPosRef:d,cameraPosRef:h,lastPlayerHitTimeRef:y,initPlayer:v,updatePlayer:x,handleShieldRegen:E,addUpgrade:M,triggerPlayerHit:T,syncWithPersistentData:L,activateModule:b}};class Ml{constructor(n,o,r,u,d,h,p,y,m,v){this.lastHitTime=0,this.lastShieldHitTime=0,this.lastShotTime=0,this.slowUntil=0,this.slowFactor=0,this.isShielded=!1,this.isCharging=!1,this.isFiring=!1,this.chargeProgress=0,this.angle=0,this.id=n,this.pos={...o},this.vel={x:0,y:0},this.tier=u,this.radius=h,this.health=d,this.maxHealth=d,this.shield=p,this.maxShield=p,this.color=y,this.level=m,this.isElite=u===J.ELITE,this.isLegendary=u===J.LEGENDARY,this.isMiniboss=u===J.MINIBOSS,this.isBoss=r.isBoss??!1,this.aiPhase=Math.random()*Math.PI*2,this.aiSeed=Math.random(),this.damageMult=v}get isAlive(){return this.health>0}takeDamage(n,o){let d=this.isShielded?n*.5:n,h=0,p=0;this.shield>0&&(h=Math.min(this.shield,d),this.shield-=h,d-=h,this.lastShieldHitTime=o),d>0&&(p=Math.min(this.health,d),this.health-=p,d-=p,this.lastHitTime=o);const y=this.health<=0;return{actualDamage:h+p,shieldDamage:h,healthDamage:p,isKilled:y,overkill:d}}applySlowEffect(n,o){this.slowFactor=n,this.slowUntil=o}getSpeedMultiplier(n){return this.slowUntil&&this.slowUntil>n?1-this.slowFactor:1}calculateEffectiveSpeed(n,o,r,u=.2){const d=this.getSpeedMultiplier(o),h=1+r/600*u;return n*h*d}calculateSeparation(n){let o=0,r=0;for(const u of n){if(u.id===this.id||Math.abs(u.pos.x-this.pos.x)>this.radius+u.radius+50)continue;const d=this.pos.x-u.pos.x,h=this.pos.y-u.pos.y,p=Math.hypot(d,h);p<this.radius+u.radius+10&&(o+=d/p*150,r+=h/p*150)}return{x:o,y:r}}emptyResult(){return{bulletsToSpawn:[],enemiesToSpawn:[]}}createProjectile(n,o,r,u,d,h=0,p=0){return{pos:{x:this.pos.x+h,y:this.pos.y+p},vel:{x:Math.cos(n)*o,y:Math.sin(n)*o},radius:r,color:u,damage:d*this.damageMult,level:this.level,isElite:this.isElite,isLegendary:this.isLegendary}}}class my{constructor(n={}){this.config={baseRadius:n.baseRadius??320,radiusVariance:n.radiusVariance??100,orbitSpeed:n.orbitSpeed??3e-4}}calculateVelocity(n){const{enemy:o,playerPos:r,time:u}=n,d=this.config.baseRadius+o.aiSeed*this.config.radiusVariance,h=o.aiSeed*Math.PI*2+u*this.config.orbitSpeed,p=r.x+Math.cos(h)*d,y=r.y+Math.sin(h)*d,m=p-o.pos.x,v=y-o.pos.y,b=Math.hypot(m,v);return b<1?{x:0,y:0}:{x:m/b,y:v/b}}}class py{constructor(n={}){this.config={pulseEnabled:n.pulseEnabled??!0,pulseAmount:n.pulseAmount??.2,pulseSpeed:n.pulseSpeed??.005}}calculateVelocity(n){const{enemy:o,playerPos:r,time:u}=n,d=r.x-o.pos.x,h=r.y-o.pos.y,p=Math.hypot(d,h);if(p<1)return{x:0,y:0};let y=d/p,m=h/p,v=1;return this.config.pulseEnabled&&(v=1+Math.sin(u*this.config.pulseSpeed+o.aiPhase)*this.config.pulseAmount),{x:y*v,y:m*v}}}class gy{constructor(n={}){this.config={turnRate:n.turnRate??2.5,acceleration:n.acceleration??250,minSpeed:n.minSpeed??100}}calculateVelocity(n){const{enemy:o,playerPos:r,dt:u}=n,d=r.x-o.pos.x,h=r.y-o.pos.y,p=Math.hypot(d,h);if(p<1)return o.vel;const y=d/p,m=h/p,v=Math.hypot(o.vel.x,o.vel.y);let b=y,x=m;if(v>50){const E=o.vel.x/v,M=o.vel.y/v,T=this.config.turnRate*u;b=E+(y-E)*T,x=M+(m-M)*T;const L=Math.hypot(b,x);L>0&&(b/=L,x/=L)}return{x:b,y:x}}calculateSpeedMultiplier(n){const{enemy:o,playerPos:r}=n,u=r.x-o.pos.x,d=r.y-o.pos.y,h=Math.hypot(u,d);if(h<1)return 1;const p=u/h,y=d/h,m=Math.hypot(o.vel.x,o.vel.y);if(m<50)return 1;const v=o.vel.x/m,b=o.vel.y/m;return v*p+b*y>.9?1:.7}}class wh{constructor(n={}){this.config={optimalRange:n.optimalRange??600,retreatSpeed:n.retreatSpeed??1.2,strafeAmount:n.strafeAmount??.8}}calculateVelocity(n){const{enemy:o,playerPos:r}=n,u=r.x-o.pos.x,d=r.y-o.pos.y,h=Math.hypot(u,d);if(h<1)return{x:0,y:0};const p=o.aiSeed>.5?1:-1;let y=0,m=0;h>this.config.optimalRange?(y=u/h,m=d/h):(y=-u/h*this.config.retreatSpeed,m=-d/h*this.config.retreatSpeed),y+=-d/h*this.config.strafeAmount*p,m+=u/h*this.config.strafeAmount*p;const v=Math.hypot(y,m);return v>0&&(y/=v,m/=v),{x:y,y:m}}}class yy{constructor(n={}){this.config={preferredDistance:n.preferredDistance??80,searchRadius:n.searchRadius??300,playerAvoidance:n.playerAvoidance??250}}calculateVelocity(n){const{enemy:o,playerPos:r,enemies:u}=n;let d=null;if(u)for(const m of u){if(m.id===o.id||m.enemyType==="SHIELDER"||!m.isAlive)continue;const v=m.pos.x-o.pos.x,b=m.pos.y-o.pos.y,x=Math.hypot(v,b);x<this.config.searchRadius&&(!d||x<d.dist)&&(d={pos:m.pos,dist:x})}let h,p;if(d){const m=d.pos.x-o.pos.x,v=d.pos.y-o.pos.y;if(d.dist>this.config.preferredDistance*1.2)h=m,p=v;else if(d.dist<this.config.preferredDistance*.8)h=-m,p=-v;else{const b=Math.atan2(v,m)+.5,x=d.pos.x+Math.cos(b)*this.config.preferredDistance-o.pos.x,E=d.pos.y+Math.sin(b)*this.config.preferredDistance-o.pos.y;h=x,p=E}}else{const m=r.x-o.pos.x,v=r.y-o.pos.y;Math.hypot(m,v)>this.config.playerAvoidance?(h=m,p=v):(h=-m*.3,p=-v*.3)}const y=Math.hypot(h,p);return y<1?{x:0,y:0}:{x:h/y,y:p/y}}}class by{constructor(n={}){this.config={cooldown:n.cooldown??1500,cooldownVariance:n.cooldownVariance??500,range:n.range??600,projectileSpeed:n.projectileSpeed??320,projectileRadius:n.projectileRadius??7,projectileColor:n.projectileColor??"#f97316",baseDamage:n.baseDamage??10,aimSpread:n.aimSpread??.25}}shouldAttack(n){const{enemy:o,playerPos:r,time:u}=n,d=r.x-o.pos.x,h=r.y-o.pos.y;if(Math.hypot(d,h)>this.config.range)return!1;const y=this.config.cooldown+o.aiSeed*this.config.cooldownVariance;return u-o.lastShotTime>y}execute(n){const{enemy:o,playerPos:r,time:u}=n;o.lastShotTime=u;const d=r.x-o.pos.x,h=r.y-o.pos.y,p=Math.atan2(h,d)+(Math.random()-.5)*this.config.aimSpread;let y=this.config.projectileRadius,m=this.config.projectileColor,v=this.config.projectileSpeed;return o.isMiniboss?(y=14,m="#ef4444",v=400):o.isLegendary?(y=12,m="#fbbf24",v=380):o.isElite&&(y=9,m="#d946ef",v=350),[{pos:{x:o.pos.x,y:o.pos.y},vel:{x:Math.cos(p)*v,y:Math.sin(p)*v},radius:y,color:m,damage:this.config.baseDamage*o.damageMult,level:o.level,isElite:o.isElite,isLegendary:o.isLegendary}]}}class vy{constructor(n={}){this.config={cooldown:n.cooldown??3e3,chargeTime:n.chargeTime??2,fireTime:n.fireTime??1.25,range:n.range??850,trackingFactor:n.trackingFactor??.1}}shouldAttack(n){const{enemy:o,playerPos:r,time:u}=n;if(o.isCharging||o.isFiring)return!1;const d=r.x-o.pos.x,h=r.y-o.pos.y;return Math.hypot(d,h)>this.config.range?!1:u-o.lastShotTime>this.config.cooldown}startCharge(n){const{enemy:o,playerPos:r}=n,u=r.x-o.pos.x,d=r.y-o.pos.y;o.isCharging=!0,o.chargeProgress=0,o.angle=Math.atan2(d,u)}updateState(n){const{enemy:o,playerPos:r,dt:u,time:d}=n;if(o.isCharging){if(o.chargeProgress<.5){const h=r.x-o.pos.x,p=r.y-o.pos.y;let m=Math.atan2(p,h)-o.angle;for(;m>Math.PI;)m-=Math.PI*2;for(;m<-Math.PI;)m+=Math.PI*2;o.angle+=m*this.config.trackingFactor}o.chargeProgress+=u/this.config.chargeTime,o.chargeProgress>=1&&(o.isCharging=!1,o.isFiring=!0,o.chargeProgress=0,o.lastShotTime=d)}o.isFiring&&(o.chargeProgress+=u/this.config.fireTime,o.chargeProgress>=1&&(o.isFiring=!1,o.chargeProgress=0))}execute(n){return[]}}const Lh=150;class Sy extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){const b=wt(D.SHIELDER);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.SHIELDER,this.auraPulse=0,this.definition=b,this.baseSpeed=m,this.movement=new yy({preferredDistance:140,searchRadius:900,playerAvoidance:400})}getAuraPulse(){return this.auraPulse}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h,enemies:p}=n;this.auraPulse=.7+Math.sin(u*.003)*.3;const y={enemy:this,playerPos:d,enemies:p,dt:r,time:u,gameTime:h},m=this.calculateEffectiveSpeed(this.baseSpeed,u,h,.1),v=this.movement.calculateVelocity(y);return this.vel.x=v.x*m,this.vel.y=v.y*m,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}isInAura(n){const o=n.x-this.pos.x,r=n.y-this.pos.y;return Math.hypot(o,r)<=Lh}}class xy{constructor(n=qs,o){this.lastBossWave=0,this.lastBossSpawnTime=-999,this.lastKamikazeTime=0,this.lastWaveState={waveIndex:-1,isLull:!1,isRushHour:!1},this.config=n,this.difficulty=o}reset(){this.lastBossWave=0,this.lastBossSpawnTime=-999,this.lastKamikazeTime=0}getWaveState(n){const{waveDuration:o,lullDuration:r,rushHourDuration:u}=this.config,d=o+r,h=Math.floor(n/d),p=n%d,y=p>o,m=!y&&p>o-u,v=this.calculateSpawnDelay(n,m);return{currentWave:h,timeInCycle:p,isLull:y,isRushHour:m,spawnDelay:v}}getDifficultyMultiplier(n){const o=n/60,r=.35+(this.difficulty.statMultiplier-1)*.03,u=o*r,d=3+(this.difficulty.statMultiplier-1)*.5,h=Math.log10(1+o*.2)*d;return(1+u+h)*this.difficulty.statMultiplier}getCreditMultiplier(n){const o=n/60;return 1+o*.1+Math.log10(1+o*.15)}getSpawnDecision(n,o,r=0,u=0){const d=this.getWaveState(n);this.checkAndLogStateTransitions(d);const h=this.checkBossSpawn(n);if(h)return h;if(d.isLull)return this.getLullSpawnDecision(n,o);if(o<d.spawnDelay)return{shouldSpawn:!1,type:"none"};const p=this.checkKamikazeWave(n);return p||this.getNormalEnemyDecision(n,r,u)}markBossSpawned(n,o){this.lastBossWave=n,this.lastBossSpawnTime=o,Zl.log("WAVE",` BOSS SPAWNED (Wave ${n}) - Calm Period Active`,"#f472b6")}markKamikazeSpawned(n){this.lastKamikazeTime=n}calculateSpawnDelay(n,o){const{base:r,min:u,decayPerSecond:d,rushMultiplier:h}=this.config.spawnRates,p=n-this.lastBossSpawnTime,y=p>=0&&p<this.config.bossCalmDuration;let m=Math.max(u,r-n/d);return o&&!y&&(m/=h),m/=1+(this.difficulty.statMultiplier-1)*.2,y&&(m*=this.config.bossCalmDelayMultiplier),m}checkBossSpawn(n){const{bossInterval:o,destroyerChance:r}=this.config,u=Math.floor(n/o);return u>this.lastBossWave?{shouldSpawn:!0,type:"boss",bossType:Math.random()<r?D.BOSS_DESTROYER:D.BOSS_DREADNOUGHT,waveIndex:u}:null}checkKamikazeWave(n){const{kamikazeThreshold:o,kamikazeUnlockTime:r,kamikazeCooldown:u,kamikazeMinCount:d,kamikazeMaxCount:h,eliteWaveChance:p}=this.config.enemyTypeRolls,y=Math.random();if(n>r&&y>o&&n-this.lastKamikazeTime>u){const m=d+Math.floor(Math.random()*(h-d+1)),v=Math.random()<p;return{shouldSpawn:!0,type:"kamikaze_wave",enemyType:D.KAMIKAZE,count:v?1:m,isEliteWave:v}}return null}getNormalEnemyDecision(n,o=0,r=0){const{laserScoutThreshold:u,laserScoutUnlockTime:d,strikerThreshold:h,shielderThreshold:p,shielderUnlockTime:y,carrierThreshold:m,carrierUnlockTime:v}=this.config.enemyTypeRolls,b=Math.random();let x=D.SCOUT;const M=o<2&&n>y,L=r<3&&n>v;return b>u&&n>d?x=D.LASER_SCOUT:b>p&&M?x=D.SHIELDER:b>m&&L?x=D.CARRIER:b>h&&(x=D.STRIKER),{shouldSpawn:!0,type:"enemy",enemyType:x}}getLullSpawnDecision(n,o){const{lullSpawnDelay:r,lullSpawnChance:u}=this.config;return o>r&&Math.random()<u?{shouldSpawn:!0,type:"lull_enemy",enemyType:D.SCOUT}:{shouldSpawn:!1,type:"none"}}checkAndLogStateTransitions(n){n.currentWave>this.lastWaveState.waveIndex&&(Zl.log("WAVE",`>>> WAVE ${n.currentWave+1} START`,"#38bdf8"),this.lastWaveState.waveIndex=n.currentWave,this.getCreditMultiplier(this.lastBossSpawnTime>0?this.lastBossSpawnTime:0)),n.isLull&&!this.lastWaveState.isLull&&Zl.log("WAVE","--- LULL PERIOD START ---","#94a3b8"),n.isRushHour&&!this.lastWaveState.isRushHour&&Zl.log("WAVE","!!! RUSH HOUR STARTED !!!","#f87171"),this.lastWaveState.isLull=n.isLull,this.lastWaveState.isRushHour=n.isRushHour}}class Ey extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){var x;const b=wt(D.SCOUT);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.SCOUT,this.definition=b,this.baseSpeed=m,this.movement=new my({baseRadius:320,radiusVariance:100,orbitSpeed:3e-4}),this.attack=new by({cooldown:b.attackCooldown,cooldownVariance:500,range:600,projectileSpeed:b.projectileSpeed??320,projectileRadius:b.projectileRadius??7,projectileColor:b.projectileColor??"#f97316",baseDamage:((x=b.attacks)==null?void 0:x.projectile)??10,aimSpread:.25})}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n,p={enemy:this,playerPos:d,dt:r,time:u,gameTime:h},y=this.calculateEffectiveSpeed(this.baseSpeed,u,h),m=this.movement.calculateVelocity(p);return this.vel.x=m.x*y,this.vel.y=m.y*y,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.attack.shouldAttack(p)&&o.bulletsToSpawn.push(...this.attack.execute(p)),o}}class My extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){const b=wt(D.STRIKER);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.STRIKER,this.isDashing=!1,this.dashUntil=0,this.definition=b,this.baseSpeed=m,this.movement=new py({pulseEnabled:!0,pulseAmount:.2,pulseSpeed:.005})}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n,p={enemy:this,playerPos:d,dt:r,time:u,gameTime:h},y=this.calculateEffectiveSpeed(this.baseSpeed,u,h),m=d.x-this.pos.x,v=d.y-this.pos.y,b=Math.hypot(m,v);if(b<250&&!this.isDashing&&u-this.lastShotTime>5e3&&(this.isDashing=!0,this.dashUntil=u+800,this.lastShotTime=u,this.vel.x=m/b*y*4,this.vel.y=v/b*y*4),this.isDashing)u>this.dashUntil&&(this.isDashing=!1);else{const x=this.movement.calculateVelocity(p);this.vel.x=x.x*y,this.vel.y=x.y*y}return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class Ty extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){const b=wt(D.LASER_SCOUT);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.LASER_SCOUT,this.definition=b,this.baseSpeed=m,this.movement=new wh({optimalRange:600,retreatSpeed:1.2,strafeAmount:.8}),this.attack=new vy({cooldown:b.attackCooldown,chargeTime:2,fireTime:1.25,range:850,trackingFactor:.1})}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n,p={enemy:this,playerPos:d,dt:r,time:u,gameTime:h},y=this.calculateEffectiveSpeed(this.baseSpeed,u,h);if(this.isFiring||this.isCharging)this.vel.x=0,this.vel.y=0;else{const m=this.movement.calculateVelocity(p);this.vel.x=m.x*y,this.vel.y=m.y*y}return this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,this.attack.shouldAttack(p)&&this.attack.startCharge(p),this.attack.updateState(p),o}}class Ay extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){const b=wt(D.KAMIKAZE);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.KAMIKAZE,this.definition=b,this.baseSpeed=m,this.hasDeathDefiance=r!==J.NORMAL,this.movement=new gy({turnRate:2.5,acceleration:250,minSpeed:100})}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n,p={enemy:this,playerPos:d,dt:r,time:u,gameTime:h},y=this.calculateEffectiveSpeed(this.baseSpeed,u,h),m=this.movement.calculateVelocity(p),v=Math.hypot(this.vel.x,this.vel.y);let b=y;if(v>50)if(this.movement.calculateSpeedMultiplier(p)>.9){const E=250*r;b=Math.min(y,v+E)}else b=Math.max(100,v*.97);return this.vel.x=m.x*b,this.vel.y=m.y*b,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class Ry extends Ml{constructor(n,o,r,u,d,h,p,y,m,v){const b=wt(D.CARRIER);super(n,o,b,r,u,d,h,p,y,v),this.enemyType=D.CARRIER,this.lastSpawnTime=0,this.definition=b,this.baseSpeed=m,this.spawnCooldown=b.attackCooldown,this.spawning=b.spawning,this.spawnWavesRemaining=this.spawning.maxWaves,this.movement=new wh({optimalRange:500,retreatSpeed:1,strafeAmount:.4})}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n,p={enemy:this,playerPos:d,dt:r,time:u,gameTime:h},y=this.calculateEffectiveSpeed(this.baseSpeed,u,h,.15),m=this.movement.calculateVelocity(p);this.vel.x=m.x*y,this.vel.y=m.y*y,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;const{count:v,spread:b,spawnType:x}=this.spawning;if(this.spawnWavesRemaining>0&&u-this.lastSpawnTime>this.spawnCooldown){this.lastSpawnTime=u,this.spawnWavesRemaining--;const E=Math.atan2(d.y-this.pos.y,d.x-this.pos.x);for(let M=0;M<v;M++){const T=E-b/2+b*M/(v-1||1),L=this.radius+30,w={type:x,pos:{x:this.pos.x+Math.cos(T)*L,y:this.pos.y+Math.sin(T)*L},parentStats:{tier:this.tier===J.MINIBOSS?J.ELITE:this.tier,level:this.level,difficultyMult:1}};o.enemiesToSpawn.push(w)}}return o}}class Ny extends Ml{constructor(n,o,r,u,d,h,p){const y=wt(D.ASTEROID);super(n,o,y,J.NORMAL,u,r,0,d,1,1),this.enemyType=D.ASTEROID,this.definition=y,this.vel={...h},this.seed=p}update(n){const o=this.emptyResult(),{dt:r}=n;return(this.pos.x<this.radius||this.pos.x>Be-this.radius)&&(this.vel.x*=-1),(this.pos.y<this.radius||this.pos.y>Be-this.radius)&&(this.vel.y*=-1),this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r,o}}class Ch extends Ml{constructor(n,o,r,u,d,h,p,y,m,v=J.NORMAL){super(n,o,r,v,u,d,h,p,y,m),this.currentPhaseIndex=0,this.lastMissileTime=0,this.lastSpawnTime=0,this.isBoss=!0,this.phases=r.phases??[]}updatePhase(){const n=this.health/this.maxHealth*100;for(let o=this.phases.length-1;o>=0;o--)if(n<=this.phases[o].healthPercent){this.currentPhaseIndex!==o&&(this.currentPhaseIndex=o,this.onPhaseChange(o));break}}onPhaseChange(n){}hasAbility(n){return this.currentPhaseIndex>=this.phases.length?!1:this.phases[this.currentPhaseIndex].abilities.includes(n)}}class wy{constructor(n={}){this.name="ChargedBeam",this.config={cooldown:n.cooldown??3e3,chargeSpeed:n.chargeSpeed??.4,fireSpeed:n.fireSpeed??.25}}shouldExecute(n,o){const{time:r}=n;return o.isCharging||o.isFiring?!0:r-o.lastShotTime>this.config.cooldown}execute(n,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{dt:u,time:d}=n;return!o.isCharging&&!o.isFiring&&(o.isCharging=!0,o.chargeProgress=0),o.isCharging&&(o.chargeProgress+=u*this.config.chargeSpeed,o.chargeProgress>=1&&(o.isCharging=!1,o.isFiring=!0,o.chargeProgress=0,o.lastShotTime=d)),o.isFiring&&(o.chargeProgress+=u*this.config.fireSpeed,o.chargeProgress>=1&&(o.isFiring=!1,o.chargeProgress=0)),r}}class Ly{constructor(n={}){this.name="TwinPlasma",this.config={cooldown:n.cooldown??1200,projectileSpeed:n.projectileSpeed??480,projectileRadius:n.projectileRadius??12,baseDamage:n.baseDamage??15,cannonOffset:n.cannonOffset??25}}shouldExecute(n,o){const{time:r}=n;return r-o.lastShotTime>this.config.cooldown}execute(n,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:u}=n;o.lastShotTime=u;const d=o.angle,h=this.config.cannonOffset,p=o.tier===J.NORMAL?"#f43f5e":o.color,y=this.config.baseDamage*o.damageMult;return r.bulletsToSpawn.push({pos:{x:o.pos.x+Math.cos(d+Math.PI/2)*h,y:o.pos.y+Math.sin(d+Math.PI/2)*h},vel:{x:Math.cos(d)*this.config.projectileSpeed,y:Math.sin(d)*this.config.projectileSpeed},radius:this.config.projectileRadius,color:p,damage:y,isElite:!0,level:o.level}),r.bulletsToSpawn.push({pos:{x:o.pos.x+Math.cos(d-Math.PI/2)*h,y:o.pos.y+Math.sin(d-Math.PI/2)*h},vel:{x:Math.cos(d)*this.config.projectileSpeed,y:Math.sin(d)*this.config.projectileSpeed},radius:this.config.projectileRadius,color:p,damage:y,isElite:!0,level:o.level}),r}}class Cy{constructor(n={}){this.name="MissileSalvo",this.config={cooldown:n.cooldown??4e3,minMissiles:n.minMissiles??4,maxMissiles:n.maxMissiles??6,baseDamage:n.baseDamage??25,missileSpeed:n.missileSpeed??200,turnRate:n.turnRate??.6,duration:n.duration??4}}shouldExecute(n,o){const{time:r}=n;return r-o.lastMissileTime>this.config.cooldown}execute(n,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:u}=n;o.lastMissileTime=u;const d=this.config.minMissiles+Math.floor(Math.random()*(this.config.maxMissiles-this.config.minMissiles+1)),h=this.config.baseDamage*o.damageMult;for(let p=0;p<d;p++){const y=(Math.random()-.5)*1.5,m=o.angle+y;r.bulletsToSpawn.push({pos:{x:o.pos.x,y:o.pos.y},vel:{x:Math.cos(m)*this.config.missileSpeed,y:Math.sin(m)*this.config.missileSpeed},radius:10,color:"#f97316",damage:h,isHoming:!0,turnRate:this.config.turnRate,maxDuration:this.config.duration,isElite:!0,level:o.level})}return r}}class Dy{constructor(n={}){this.name="DroneSpawn",this.config={cooldown:n.cooldown??8e3,minDrones:n.minDrones??2,maxDrones:n.maxDrones??4,ejectSpeed:n.ejectSpeed??300,droneType:n.droneType??D.KAMIKAZE}}shouldExecute(n,o){const{time:r}=n;return r-o.lastSpawnTime>this.config.cooldown}execute(n,o){const r={bulletsToSpawn:[],enemiesToSpawn:[]},{time:u}=n;o.lastSpawnTime=u;const d=this.config.minDrones+Math.floor(Math.random()*(this.config.maxDrones-this.config.minDrones+1));for(let h=0;h<d;h++){const p=o.angle+Math.PI+(Math.random()-.5);r.enemiesToSpawn.push({type:this.config.droneType,pos:{x:o.pos.x+(Math.random()-.5)*50,y:o.pos.y+(Math.random()-.5)*50},vel:{x:Math.cos(p)*this.config.ejectSpeed,y:Math.sin(p)*this.config.ejectSpeed},parentStats:{tier:o.tier,level:o.level,difficultyMult:Math.max(.5,o.level*.2)}})}return r}}class th extends Ch{constructor(n,o,r,u,d,h,p,y,m,v=J.NORMAL){const b=wt(D.BOSS_DREADNOUGHT);super(n,o,b,r,u,d,h,p,m,v),this.enemyType=D.BOSS_DREADNOUGHT,this.definition=b,this.baseSpeed=b.baseSpeed,this.attackPhases=[new wy({cooldown:b.attackCooldown,chargeSpeed:.4,fireSpeed:.25})],this.lastShotTime=y+2e3}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n;this.updatePhase();const p=this.getSpeedMultiplier(u),y=this.baseSpeed*p,m=d.x-this.pos.x,v=d.y-this.pos.y,b=Math.hypot(m,v);b>400&&!this.isFiring?(this.vel.x=m/b*y,this.vel.y=v/b*y):(this.vel.x*=.95,this.vel.y*=.95),this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;let E=Math.atan2(v,m)-this.angle;for(;E>Math.PI;)E-=Math.PI*2;for(;E<-Math.PI;)E+=Math.PI*2;const L=(this.isCharging||this.isFiring?.1:2)*r;Math.abs(E)>L?this.angle+=Math.sign(E)*L:this.angle+=E;const w={enemy:this,playerPos:d,dt:r,time:u,gameTime:h};for(const I of this.attackPhases)if(I.shouldExecute(w,this)){const H=I.execute(w,this);o.bulletsToSpawn.push(...H.bulletsToSpawn),o.enemiesToSpawn.push(...H.enemiesToSpawn)}return o}}class ah extends Ch{constructor(n,o,r,u,d,h,p,y,m,v=J.NORMAL){var x,E;const b=wt(D.BOSS_DESTROYER);super(n,o,b,r,u,d,h,p,m,v),this.enemyType=D.BOSS_DESTROYER,this.desiredDist=600,this.definition=b,this.baseSpeed=b.baseSpeed,this.attackPhases=[new Ly({cooldown:1200,projectileRadius:b.projectileRadius??12,projectileSpeed:b.projectileSpeed??480,baseDamage:((x=b.attacks)==null?void 0:x.projectile)??15}),new Cy({cooldown:4e3,baseDamage:((E=b.attacks)==null?void 0:E.missile)??25,turnRate:1.2}),new Dy({cooldown:8e3,droneType:D.KAMIKAZE})],this.lastShotTime=y+2e3,this.lastMissileTime=y+5e3,this.lastSpawnTime=y+8e3}update(n){const o=this.emptyResult(),{dt:r,time:u,playerPos:d,gameTime:h}=n;this.updatePhase();const p=this.getSpeedMultiplier(u),y=this.baseSpeed*p,m=d.x-this.pos.x,v=d.y-this.pos.y,b=Math.hypot(m,v);let x=0,E=0;b>this.desiredDist+100?(x=m/b*y,E=v/b*y):b<this.desiredDist-100?(x=-(m/b)*y*.5,E=-(v/b)*y*.5):(x=-(v/b)*y*.5,E=m/b*y*.5),this.vel.x=x,this.vel.y=E,this.pos.x+=this.vel.x*r,this.pos.y+=this.vel.y*r;let T=Math.atan2(v,m)-this.angle;for(;T>Math.PI;)T-=Math.PI*2;for(;T<-Math.PI;)T+=Math.PI*2;this.angle+=T*1.5*r;const L={enemy:this,playerPos:d,dt:r,time:u,gameTime:h};for(const w of this.attackPhases)if(w.shouldExecute(L,this)){const I=w.execute(L,this);o.bulletsToSpawn.push(...I.bulletsToSpawn),o.enemiesToSpawn.push(...I.enemiesToSpawn)}return o}}class Oy{generateId(n){return`${n}-${jo.next()}`}determineTier(n,o){return n.isMinibossOverride?J.MINIBOSS:n.isLegendaryOverride?J.LEGENDARY:n.isEliteOverride?J.ELITE:n.tier?n.tier:ag(o)}create(n,o,r=0){const u=wt(n),d=(o.difficultyMult??1)/.4,h=this.determineTier(o,d),p=eg(h),y=o.difficultyMult??1,m=o.levelBonus??0,v=u.baseHealth*y*p.healthMult,b=u.baseRadius*p.radiusMult,x=u.baseSpeed*p.speedMult;let E=0;p.hasShield&&p.shieldPercent?E=v*p.shieldPercent:d>5&&Math.random()>.7&&(E=v*.5);const M=Math.random();let T=p.colorOverride??mh(u,M);const L=Math.floor(y)+m,w={x:o.x,y:o.y},I=this.generateId(n);switch(n){case D.SCOUT:return new Ey(I,w,h,v,b,E,T,L,x,p.damageMult);case D.STRIKER:return new My(I,w,h,v,b,E,T,L,x,p.damageMult);case D.LASER_SCOUT:return new Ty(I,w,h,v,b,E,T,L,x,p.damageMult);case D.KAMIKAZE:return new Ay(I,w,h,v,b,E,T,L,x,p.damageMult);case D.SHIELDER:return new Sy(I,w,h,v,b,E,T,L,x,p.damageMult);case D.CARRIER:return new Ry(I,w,h,v,b,E,T,L,x,p.damageMult);case D.BOSS_DREADNOUGHT:return new th(I,w,v,b,E,T,L,r,p.damageMult);case D.BOSS_DESTROYER:return new ah(I,w,v,b,E,T,L,r,p.damageMult);default:throw new Error(`Unknown enemy type: ${n}`)}}createAsteroid(n,o,r){const u=40+Math.random()*40,d=u*3*r,h=Math.random(),p={x:(Math.random()-.5)*40,y:(Math.random()-.5)*40};return new Ny(this.generateId(D.ASTEROID),{x:n,y:o},u,d,"#475569",p,h)}createBoss(n,o,r,u,d,h,p=0,y){const m=wt(n);let v=lg(p);y&&(v=J[y]);const b=tg(v),x=1+p*.8+Math.pow(p,2)*.5,E=m.baseHealth*u*x*b.healthMult,M=m.baseRadius*b.radiusMult,T=n===D.BOSS_DESTROYER?.6:.4,L=b.shieldPercent??T,w=E*L,I=Math.floor(u)+d,H=b.colorOverride??m.color,F=n===D.BOSS_DESTROYER?`BOSS-DEST-${v}-${jo.next()}`:`BOSS-${v}-${jo.next()}`,Q=v;return n===D.BOSS_DESTROYER?new ah(F,{x:o,y:r},E,M,w,H,I,h,b.damageMult,Q):new th(F,{x:o,y:r},E,M,w,H,I,h,b.damageMult,Q)}}const ko=new Oy,_y=(s,n)=>{const o=U.useCallback((u,d,h,p,y,m,v,b,x)=>{if(!ng(u))return console.warn(`createEnemy called with invalid type: ${u}. Use spawnBoss for boss types.`),null;let E;x?E=J.MINIBOSS:b?E=J.LEGENDARY:v&&(E=J.ELITE);const M=ko.create(u,{x:d,y:h,tier:E,difficultyMult:y,levelBonus:m,isEliteOverride:v,isLegendaryOverride:b,isMinibossOverride:x});return Math.hypot(d-s.current.x,h-s.current.y)<1300&&n({x:d,y:h}),M},[s,n]),r=U.useCallback((u,d,h,p,y=0,m)=>{const v=Math.random()*Math.PI*2,b=1100,x=Math.max(100,Math.min(Be-100,s.current.x+Math.cos(v)*b)),E=Math.max(100,Math.min(Be-100,s.current.y+Math.sin(v)*b)),M=ko.createBoss(u,x,E,d,h,p,y,m);return n({x,y:E}),M},[s,n]);return{createEnemy:o,spawnBoss:r}},jy=(s,n,o,r,u)=>{const d=U.useRef([]),h=U.useRef(0),p=U.useRef(0),{createEnemy:y,spawnBoss:m}=u,v=U.useCallback(x=>{const E=x??o;if(d.current=[],h.current=0,p.current=0,r.reset(),E===Nt.STANDARD)for(let M=0;M<35;M++){const T=ko.createAsteroid(Math.random()*Be,Math.random()*Be,n.statMultiplier);d.current.push(T)}},[n,o,r]),b=U.useCallback((x,E,M)=>{const T=r.getDifficultyMultiplier(E),L=n.enemyLevelBonus,w=E/60;switch(x.type){case"boss":if(x.bossType&&x.waveIndex!==void 0){r.markBossSpawned(x.waveIndex,E);const P=x.bossType,X=m(P,T,L,M,x.waveIndex);d.current.push(X)}break;case"kamikaze_wave":r.markKamikazeSpawned(E);const I=Math.random()*Math.PI*2,H=1200+Math.random()*400,F=Math.max(40,Math.min(Be-40,s.current.x+Math.cos(I)*H)),Q=Math.max(40,Math.min(Be-40,s.current.y+Math.sin(I)*H));if(x.isEliteWave){const P=y(D.KAMIKAZE,F,Q,w,T,L,!0);P&&d.current.push(P)}else for(let P=0;P<(x.count||3);P++){const X=(Math.random()-.5)*100,$=(Math.random()-.5)*100,ee=y(D.KAMIKAZE,F+X,Q+$,w,T,L);ee&&d.current.push(ee)}break;case"enemy":case"lull_enemy":if(x.enemyType){const P=Math.random()*Math.PI*2,X=x.type==="lull_enemy"?1200:1e3+Math.random()*400,$=Math.max(40,Math.min(Be-40,s.current.x+Math.cos(P)*X)),ee=Math.max(40,Math.min(Be-40,s.current.y+Math.sin(P)*X)),ae=y(x.enemyType,$,ee,w,T,L);ae&&d.current.push(ae)}break}},[r,n,s,y,m]);return{enemiesRef:d,spawnTimerRef:h,debugRespawnTimerRef:p,waveManager:r,initEnemies:v,processSpawnDecision:b}},Uy=(s,n,o,r=Nt.STANDARD,u=null)=>{const d=U.useMemo(()=>new xy(qs,n),[n]),h=_y(s,o),{createEnemy:p,spawnBoss:y}=h,m=jy(s,n,r,d,h),{enemiesRef:v,spawnTimerRef:b,debugRespawnTimerRef:x,initEnemies:E,processSpawnDecision:M}=m,T=U.useCallback((L,w,I)=>{if(r===Nt.STANDARD){b.current+=L;const $=v.current.filter(K=>K.isAlive&&K.enemyType===D.SHIELDER).length,ee=v.current.filter(K=>K.isAlive&&K.enemyType===D.CARRIER).length,ae=d.getSpawnDecision(I,b.current,$,ee);ae.shouldSpawn&&(M(ae,I,w),b.current=0)}else if(r===Nt.DEBUG&&u){const $=v.current.filter(ee=>ee.enemyType!==D.ASTEROID).length;if(x.current>0&&(x.current-=L),$<u.count&&x.current<=0){const ee=u.tier==="ELITE",ae=u.tier==="LEGENDARY",K=u.tier==="MINIBOSS";if(u.enemyType===D.BOSS_DREADNOUGHT||u.enemyType===D.BOSS_DESTROYER){const ce=u.enemyType,me=y(ce,u.level*.2,u.level,w,0,u.tier!=="MINIBOSS"?u.tier:"NORMAL");v.current.push(me)}else{const ce=Math.random()*Math.PI*2,me=900,Te=Math.max(100,Math.min(Be-100,s.current.x+Math.cos(ce)*me)),Ge=Math.max(100,Math.min(Be-100,s.current.y+Math.sin(ce)*me)),O=u.level*.2,Z=p(u.enemyType,Te,Ge,0,O,u.level,ee,ae,K);Z&&v.current.push(Z)}x.current=.2}}const H=[],F=[],Q=[],P={dt:L,time:w,gameTime:I,playerPos:s.current,enemies:v.current},X=v.current.filter($=>$.isAlive&&$.enemyType===D.SHIELDER);for(const $ of v.current){if(!$.isAlive)continue;let ee=!1;for(const ae of X){const K=$.pos.x-ae.pos.x,ce=$.pos.y-ae.pos.y;if(Math.hypot(K,ce)<=Lh){ee=!0;break}}$.isShielded=ee}for(const $ of v.current){const ee=$.update(P);for(const ae of ee.bulletsToSpawn)F.push({id:Nh.next(),type:Me.ENEMY_BULLET,pos:{...ae.pos},vel:{...ae.vel},radius:ae.radius,health:1,maxHealth:1,color:ae.color,damage:ae.damage,level:ae.level,isElite:ae.isElite,isLegendary:ae.isLegendary,isHoming:ae.isHoming,turnRate:ae.turnRate,duration:0,maxDuration:ae.maxDuration,isAlive:!0});for(const ae of ee.enemiesToSpawn){const K=ae.parentStats,ce=p(ae.type,ae.pos.x,ae.pos.y,I/60,(K==null?void 0:K.difficultyMult)??1,(K==null?void 0:K.level)??n.enemyLevelBonus,(K==null?void 0:K.tier)===J.ELITE,(K==null?void 0:K.tier)===J.LEGENDARY,(K==null?void 0:K.tier)===J.MINIBOSS);ce&&(ae.vel&&(ce.vel.x=ae.vel.x,ce.vel.y=ae.vel.y),Q.push(ce))}$.isAlive&&H.push($)}return H.push(...Q),v.current=H,{enemyBulletsToSpawn:F}},[M,d,s,n,p,y,r,u,v,b,x]);return{enemiesRef:v,initEnemies:E,updateEnemies:T}};class Go{constructor(n,o){this.isAlive=!0,this.health=1,this.elapsedTime=0,this.effects=[],this.hitEntities=new Set,this.id=Nh.next(),this.pos={...n.pos},this.direction={...n.dir},this.speed=n.speed??0,this.vel={x:this.direction.x*this.speed,y:this.direction.y*this.speed},this.radius=n.radius??5,this.color=n.color??"#fff",this.type=n.type,this.weaponEffect=n.weaponEffect??He.NONE,n.weaponType?this.weaponType=n.weaponType:(this.weaponType=G.PLASMA,this.weaponEffect===He.LASER&&(this.weaponType=G.LASER),(this.weaponEffect===He.EXPLOSIVE||this.weaponEffect===He.HOMING)&&(this.weaponType=G.MISSILE),this.type===Me.ENEMY_BULLET&&(this.weaponType=G.PLASMA)),this.ownerId=n.ownerId,this.damage=n.damage,this.pierceCount=n.pierce??1,Math.random()<(n.critChance??0)?(this.damage*=n.critMult??2,this.isCritical=!0,this.radius*=1.5):this.isCritical=!1,this.spawnTime=o,this.duration=n.duration??2e3,this.targetId=n.targetId,this.turnRate=n.turnRate,this.level=n.level,this.isElite=n.isElite,this.isMiniboss=n.isMiniboss,this.isLegendary=n.isLegendary,this.isLegendary=n.isLegendary,this.pulseRadius=n.pulseRadius,this.pulseInterval=n.pulseInterval,this.chainCount=n.chainCount,this.chainRange=n.chainRange}update(n,o){if(this.health<=0&&(this.isAlive=!1),this.elapsedTime+=n*1e3,this.elapsedTime>this.duration){this.isAlive=!1;return}this.weaponEffect===He.HOMING&&this.targetId,this.pos.x+=this.vel.x*n,this.pos.y+=this.vel.y*n}onHit(n){this.pierceCount>0&&this.pierceCount--,this.pierceCount<=0&&(this.isAlive=!1,this.health=0)}}const By="modulepreload",Hy=function(s){return"/void-arena/"+s},lh={},zy=function(n,o,r){let u=Promise.resolve();if(o&&o.length>0){let h=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));u=h(o.map(m=>{if(m=Hy(m),m in lh)return;lh[m]=!0;const v=m.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":By,v||(x.as="script"),x.crossOrigin="",x.href=m,y&&x.setAttribute("nonce",y),document.head.appendChild(x),v)return new Promise((E,M)=>{x.addEventListener("load",E),x.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return u.then(h=>{for(const p of h||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})};function Ql(s,n,o,r,u){const{time:d,callbacks:h}=r;if(n>=s.health&&s.hasDeathDefiance){s.hasDeathDefiance=!1,s.shield=0,h.spawnDamageText(s.pos,0,"#ffffff"),h.spawnExplosion(s.pos,s.radius*1.5,"#f0f");return}const p=s.takeDamage(n,d);zy(()=>Promise.resolve().then(()=>ug),void 0).then(m=>m.recordDamage(p.actualDamage));const y=u||(o?"#facc15":s.isShielded?"#67e8f9":"#fff");h.spawnDamageText(s.pos,p.actualDamage,y)}class ky{update(n,o){const{time:r,grid:u,callbacks:d,playerStats:h}=o,p=n.pulseRadius||100,y=n.pulseInterval||500;let m=n.lastPulseTime||0;if(r-m>=y){n.lastPulseTime=r;const v=u.retrieve(n.pos);let b=0;for(const x of v){if(!x.isAlive||x.health<=0)continue;if((x.pos.x-n.pos.x)**2+(x.pos.y-n.pos.y)**2<p*p){let M=h.damage*.5;Ql(x,M,!1,o,"#c084fc"),d.spawnExplosion(x.pos,10,"#c084fc"),b++}}b>0&&d.spawnExplosion(n.pos,p,"#c084fc")}}onHit(n,o,r){const{playerStats:u}=r,d=Math.random()<u.critChance;let h=u.damage*2;d&&(h*=u.critMultiplier),Ql(o,h,d,r,"#c084fc")}}class Gy{update(n,o){}onHit(n,o,r){const{enemies:u,callbacks:d,playerStats:h}=r,p=Math.random()<h.critChance;let y=h.damage;p&&(y*=h.critMultiplier),Ql(o,y,p,r,"#67e8f9"),d.spawnExplosion(n.pos,20,"#67e8f9");const m=n.chainCount||0,v=n.chainRange||200;if(m>0){const b=new Set;b.add(o.id);let x=o.pos,E=u.filter(M=>M.isAlive&&!b.has(M.id)&&M.health>0);for(let M=0;M<m;M++){let T=null,L=v*v;for(const w of E){const I=(w.pos.x-x.x)**2+(w.pos.y-x.y)**2;I<L&&(L=I,T=w)}if(T){r.callbacks.spawnLightning&&r.callbacks.spawnLightning(x,T.pos,n.color||"#67e8f9");const w=y*.8;Ql(T,w,p,r,"#67e8f9"),d.spawnExplosion(T.pos,15,"#67e8f9"),b.add(T.id),E=E.filter(I=>I.id!==T.id),x=T.pos}else break}}n.isAlive=!1,n.health=0}}class xa{static createPlayerProjectile(n,o,r,u,d="player",h=He.NONE){const p={pos:n,dir:o,speed:r.speed,damage:r.damage,type:Me.PLAYER_BULLET,ownerId:d,color:r.color,radius:r.radius,pierce:r.pierce,critChance:r.critChance,critMult:r.critMult,duration:r.duration,weaponEffect:h,weaponType:r.weaponType},y=new Go(p,u);return h===He.PULSING?y.effects.push(new ky):h===He.CHAIN&&y.effects.push(new Gy),y}static createEnemyProjectile(n,o,r,u,d){const h={pos:n,dir:o,speed:r.speed,damage:r.damage,type:Me.ENEMY_BULLET,ownerId:"enemy",color:r.color,radius:r.radius??6,duration:r.lifetime??4e3,weaponEffect:r.isHoming?He.HOMING:He.NONE,targetId:d,turnRate:r.turnRate,level:r.level,isElite:r.isElite,isMiniboss:r.isMiniboss,isLegendary:r.isLegendary};return new Go(h,u)}}class Iy{update(n,o){}onDeath(n){return n.weaponEffect===He.EXPLOSIVE?{pos:{...n.pos},radius:n.type==="PLAYER_BULLET"?150:80,color:n.color}:null}}const Gs=new Iy;let Yy=class{update(n,o){const{dt:r,playerPos:u,targets:d,aimDir:h,autoAttack:p,playerStats:y}=o;n.pos.x=u.x,n.pos.y=u.y;let m=n.angle||0;if(Math.abs(h.x)>.1||Math.abs(h.y)>.1)m=Math.atan2(h.y,h.x);else if(d.length>0&&p){let M=null,T=dh;for(const L of d){const w=Math.hypot(L.pos.x-u.x,L.pos.y-u.y);w<T&&(T=w,M=L)}M&&(m=Math.atan2(M.pos.y-u.y,M.pos.x-u.x))}let v=n.angle||0,b=m-v;for(;b>Math.PI;)b-=Math.PI*2;for(;b<-Math.PI;)b+=Math.PI*2;const E=(n.isFiring?3:8)*r;if(Math.abs(b)<E?n.angle=m:n.angle=v+Math.sign(b)*E,n.isCharging&&(n.chargeProgress=(n.chargeProgress||0)+r*1,n.chargeProgress>=1)){n.isCharging=!1,n.isFiring=!0;const M=(y==null?void 0:y.laserDuration)||.3;n.duration=n.elapsedTime+M*1e3}}onDeath(n){return null}};const Py=new Yy,qy=Math.PI*.7,Vy=1.5,Bo=800,Xy=200;class Ky{update(n,o){const{dt:r,playerPos:u,targets:d,time:h}=o;let p;n.type==="ENEMY_BULLET"?p={id:"player",pos:u,health:1}:p=this.findBestTarget(n,d,h),p&&this.steerTowards(n,p.pos,r)}findBestTarget(n,o,r){let u;if(n.targetId&&(u=o.find(y=>y.id===n.targetId&&y.health>0)),u){const y=this.getAngleDiff(n,u.pos);if(Math.abs(y)<qy)return u;const m=n.__lastRetarget||0;if(r-m<Xy)return u}let d,h=-1/0;const p=Math.atan2(n.vel.y,n.vel.x);for(const y of o){if(y.health<=0)continue;const m=y.pos.x-n.pos.x,v=y.pos.y-n.pos.y,b=Math.hypot(m,v);if(b>Bo)continue;let E=Math.atan2(v,m)-p;for(;E>Math.PI;)E-=Math.PI*2;for(;E<-Math.PI;)E+=Math.PI*2;if(Math.abs(E)>Math.PI*.85)continue;let M=(Bo-b)/Bo;Math.abs(E)<Math.PI/3&&(M*=Vy),Math.abs(E)>Math.PI/2&&(M*=.5),M>h&&(h=M,d=y)}return d&&d.id!==n.targetId&&(n.targetId=d.id,n.__lastRetarget=r),d||u}getAngleDiff(n,o){const r=o.x-n.pos.x,u=o.y-n.pos.y,d=Math.atan2(u,r),h=Math.atan2(n.vel.y,n.vel.x);let p=d-h;for(;p>Math.PI;)p-=Math.PI*2;for(;p<-Math.PI;)p+=Math.PI*2;return p}steerTowards(n,o,r){const u=o.x-n.pos.x,d=o.y-n.pos.y,h=Math.atan2(d,u);let p=Math.atan2(n.vel.y,n.vel.x),y=h-p;for(;y>Math.PI;)y-=Math.PI*2;for(;y<-Math.PI;)y+=Math.PI*2;const m=(n.turnRate||1.5)*r;Math.abs(y)<m?p=h:p+=Math.sign(y)*m;const v=Math.hypot(n.vel.x,n.vel.y);n.vel.x=Math.cos(p)*v,n.vel.y=Math.sin(p)*v}onDeath(n){return n.elapsedTime>n.duration?{pos:{...n.pos},radius:n.type==="PLAYER_BULLET"?150:80,color:n.color}:null}}const Zy=new Ky;class Qy{constructor(){this.behaviors=new Map,this.behaviors.set(He.NONE,Gs),this.behaviors.set(He.EXPLOSIVE,Gs),this.behaviors.set(He.PIERCING,Gs),this.behaviors.set(He.SPLIT,Gs),this.behaviors.set(He.LASER,Py),this.behaviors.set(He.HOMING,Zy)}getBehavior(n){return this.behaviors.get(n)||Gs}registerBehavior(n,o){this.behaviors.set(n,o)}updateProjectile(n,o){this.getBehavior(n.weaponEffect).update(n,o)}updateAll(n,o){const r=[],u=[];for(let d=n.length-1;d>=0;d--){const h=n[d];let p=o.dt;if(h.type===Me.ENEMY_BULLET&&o.enemyTimeScale!==void 0&&(p*=o.enemyTimeScale),h.update(p,o.time),h.isAlive&&this.updateProjectile(h,{...o,dt:p}),h.isAlive)r.push(h);else{const m=this.getBehavior(h.weaponEffect).onDeath(h);m&&u.push(m)}}return{alive:r,explosions:u}}}const Fy=new Qy,Dh=new Map;function qa(s){Dh.set(s.weaponType,s)}function nh(s){return Dh.get(s)}const Wy={weaponType:G.PLASMA,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#22d3ee",pierce:h?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:2e3,radius:8};return(d?[-.3,0,.3]:[0]).forEach(v=>{const b=o+v,x=15,E=-(r.bulletCount-1)*x/2;for(let M=0;M<r.bulletCount;M++){const T=E+M*x,L=n.x+Math.cos(b+Math.PI/2)*T,w=n.y+Math.sin(b+Math.PI/2)*T,I={x:Math.cos(b),y:Math.sin(b)},H=xa.createPlayerProjectile({x:L,y:w},I,y,u);p.push(H)}}),p}};qa(Wy);const Jy={weaponType:G.LASER,canFire(s,n){return!n.some(o=>o.type===Me.PLAYER_BULLET&&o.weaponEffect===He.LASER)},fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isPierce:d}=s,h={damage:r.damage,speed:r.bulletSpeed,color:"#a855f7",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:5e3,radius:20},p=xa.createPlayerProjectile({x:n.x,y:n.y},{x:0,y:0},h,u,"player",He.LASER);return p.angle=o,p.isCharging=!0,p.chargeProgress=0,[p]}};qa(Jy);const $y={weaponType:G.MISSILE,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage*1.5,speed:r.bulletSpeed,color:"#fb923c",pierce:h?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:2e3,radius:14};return(d?[-.3,0,.3]:[0]).forEach(v=>{const b=o+v,x={x:Math.cos(b),y:Math.sin(b)},E=xa.createPlayerProjectile({x:n.x,y:n.y},x,y,u,"player",He.EXPLOSIVE);p.push(E)}),p}};qa($y);const eb={weaponType:G.RAILGUN,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d}=s,h=[],p={damage:r.damage,speed:r.bulletSpeed,color:"#60a5fa",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:1500,radius:6,weaponType:G.RAILGUN};return(d?[-.3,0,.3]:[0]).forEach(m=>{const v=o+m,b={x:Math.cos(v),y:Math.sin(v)},x=xa.createPlayerProjectile({x:n.x,y:n.y},b,p,u);h.push(x)}),h}};qa(eb);const tb={weaponType:G.FLAK_CANNON,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#fbbf24",pierce:h?99:r.pierceCount,critChance:r.critChance,critMult:r.critMultiplier,duration:560,radius:5};return(d?[-.3,0,.3]:[0]).forEach(v=>{const b=o+v,x=r.bulletCount,E=x*(Math.PI/26),M=b-E/2,T=x>1?E/(x-1):0;for(let L=0;L<x;L++){const w=M+L*T,I={x:Math.cos(w),y:Math.sin(w)},H=xa.createPlayerProjectile({x:n.x,y:n.y},I,y,u);p.push(H)}}),p}};qa(tb);const ab={weaponType:G.SWARM_LAUNCHER,usesBurstMode:!0,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isPierce:d}=s,h={damage:r.damage,speed:r.bulletSpeed*.7,color:"#f472b6",pierce:d?99:1,critChance:r.critChance,critMult:r.critMultiplier,duration:4e3,radius:8},y=(Math.random()-.5)*.3,m=o+y,v={x:Math.cos(m),y:Math.sin(m)},b=xa.createPlayerProjectile({x:n.x,y:n.y},v,h,u,"player",He.HOMING);return b.turnRate=r.swarmAgility||1.5,[b]}};qa(ab);const lb={weaponType:G.ENERGY_ORB,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage,speed:r.bulletSpeed||150,color:"#c084fc",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:r.duration||5e3,radius:20,weaponType:G.ENERGY_ORB};return(d?[-2.5,0,2.5]:[0]).forEach(v=>{const b=o+v,x={x:Math.cos(b),y:Math.sin(b)},E=xa.createPlayerProjectile({x:n.x,y:n.y},x,y,u,"player",He.PULSING);E.pulseRadius=r.areaSize||150,E.pulseInterval=300,E.lastPulseTime=u,p.push(E)}),p}};qa(lb);const nb={weaponType:G.ARC_CASTER,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage,speed:r.bulletSpeed||1200,color:"#67e8f9",pierce:1,critChance:r.critChance,critMult:r.critMultiplier,duration:1e3,radius:4,weaponType:G.ARC_CASTER};return(d?[-.5,0,.5]:[0]).forEach(v=>{const b=o+v,x={x:Math.cos(b),y:Math.sin(b)},E=xa.createPlayerProjectile({x:n.x,y:n.y},x,y,u,"player",He.CHAIN);E.chainCount=r.pierceCount+2,E.chainCount=r.pierceCount+2,E.chainRange=r.chainRange,p.push(E)}),p}};qa(nb);const sb={weaponType:G.FLAMETHROWER,fire(s){const{playerPos:n,fireAngle:o,stats:r,time:u,isOmni:d,isPierce:h}=s,p=[],y={damage:r.damage,speed:r.bulletSpeed,color:"#fb923c",pierce:999,critChance:r.critChance,critMult:r.critMultiplier,duration:r.duration||600,radius:r.areaSize||40,weaponType:G.FLAMETHROWER};return(d?[0,Math.PI/2,Math.PI,-Math.PI/2]:[0]).forEach(v=>{const b=(Math.random()-.5)*.5,x=o+v+b,E={x:Math.cos(x),y:Math.sin(x)},M=xa.createPlayerProjectile({x:n.x,y:n.y},E,y,u,"player",He.NONE);M.speed*=.9+Math.random()*.2,M.duration*=.8+Math.random()*.4,p.push(M)}),p}};qa(sb);const ib=(s,n,o)=>{const r=U.useRef([]),u=U.useRef(0),[d,h]=U.useState(!0),p=U.useRef({count:0,nextShotTime:0,angle:0,hasTarget:!1}),y=U.useCallback(()=>{r.current=[],u.current=0,p.current={count:0,nextShotTime:0,angle:0,hasTarget:!1}},[]),m=U.useCallback((x,E,M,T,L,w,I)=>{const H=n.current,F=E?H.fireRate*2.5:H.fireRate,Q=Math.abs(w.x)>.1||Math.abs(w.y)>.1;if((Q&&I||d&&!Q&&L.length>0)&&x-u.current>1e3/F){if(H.weaponType===G.LASER&&r.current.some(ae=>ae.type===fh.PLAYER_BULLET&&ae.weaponEffect===He.LASER))return;let X=0,$=!1;if(Q)X=Math.atan2(w.y,w.x),$=!0;else{let ee=null,ae=dh;if(L.forEach(K=>{const ce=Math.hypot(K.pos.x-s.current.x,K.pos.y-s.current.y);ce<ae&&(ae=ce,ee=K)}),ee){const K=ee;X=Math.atan2(K.pos.y-s.current.y,K.pos.x-s.current.x),$=!0}else $=!1}if($){const ee=nh(H.weaponType);if(!ee){console.warn(`No behavior registered for weapon: ${H.weaponType}`);return}if(ee.usesBurstMode){if(p.current.count>0)return;p.current.count=H.swarmCount,p.current.nextShotTime=x,p.current.angle=X,p.current.hasTarget=!0;return}const ae={playerPos:{x:s.current.x,y:s.current.y},fireAngle:X,stats:H,time:x,isOmni:M,isPierce:T};if(ee.canFire&&!ee.canFire(ae,r.current))return;u.current=x,o();const K=ee.fire(ae);r.current.push(...K)}}},[d,s,n,o]),v=U.useCallback((x,E,M,T,L=1)=>{const w=n.current;if(p.current.count>0&&E>=p.current.nextShotTime){const Q=nh(G.SWARM_LAUNCHER);if(Q){const P={playerPos:{x:s.current.x,y:s.current.y},fireAngle:p.current.angle,stats:w,time:E,isOmni:!1,isPierce:!1},X=Q.fire(P);let $=null,ee=800;M.forEach(ae=>{const K=Math.hypot(ae.pos.x-s.current.x,ae.pos.y-s.current.y);K<ee&&(ee=K,$=ae)}),X.forEach(ae=>{$&&(ae.targetId=$.id),r.current.push(ae)}),o()}p.current.count--,p.current.count<=0?u.current=E:p.current.nextShotTime=E+120}const I={dt:x,time:E,playerPos:s.current,targets:M,aimDir:T,autoAttack:d,playerStats:{laserDuration:w.laserDuration},enemyTimeScale:L},{alive:H,explosions:F}=Fy.updateAll(r.current,I);return r.current=H,{newExplosions:F}},[s,n,d,o]),b=U.useCallback(x=>{const E=x.map(M=>{var T,L;return M instanceof Go?M:xa.createEnemyProjectile(M.pos,M.vel?{x:M.vel.x/(Math.hypot(M.vel.x,M.vel.y)||1),y:M.vel.y/(Math.hypot(M.vel.x,M.vel.y)||1)}:{x:0,y:0},{damage:M.damage??10,speed:Math.hypot(((T=M.vel)==null?void 0:T.x)||0,((L=M.vel)==null?void 0:L.y)||0)||150,color:M.color,radius:M.radius,lifetime:M.maxDuration?M.maxDuration*1e3:4e3,isHoming:M.isHoming,turnRate:M.turnRate,level:M.level,isElite:M.isElite,isMiniboss:M.isMiniboss,isLegendary:M.isLegendary},performance.now(),"player")});r.current.push(...E)},[]);return{projectilesRef:r,autoAttack:d,setAutoAttack:h,initProjectiles:y,fireWeapon:m,updateProjectiles:v,addProjectiles:b}},rb=(s,n,o)=>{const r=U.useRef([]),u=U.useCallback(()=>{r.current=[]},[]),d=U.useCallback(p=>{const y=p,{drops:m,score:v}=xl.calculateDrops(y,o);r.current.push(...m);let b=0,x=0,E=[];m.forEach(L=>{L.type==="XP_GEM"&&(b+=L.value||0),L.type==="CREDIT"&&(x+=L.value||0),L.type==="POWERUP"&&E.push(L.powerUpId||"Unknown")});let M="",T="#94a3b8";return y.isBoss?(M="[BOSS] ",T="#f472b6"):y.isMiniboss?(M="[MINIBOSS] ",T="#fb7185"):y.isLegendary?(M="[LEGENDARY] ",T="#facc15"):y.isElite&&(M="[ELITE] ",T="#c084fc"),Zl.log("KILL",`${M}${y.enemyType} (Lvl ${y.level}) - Score: ${v}, XP: ${b}, Credits: ${x}`,T),v},[o]),h=U.useCallback(p=>{const y=n.current,m=s.current,v=[];for(const b of r.current){if(b.health<=0)continue;const x=Math.hypot(b.pos.x-m.x,b.pos.y-m.y);x<y.magnetRange&&x>0&&(b.vel.x=(m.x-b.pos.x)/x*1800,b.vel.y=(m.y-b.pos.y)/x*1800,b.pos.x+=b.vel.x*p,b.pos.y+=b.vel.y*p),v.push(b)}return r.current=v,[]},[s,n]);return{pickupsRef:r,initPickups:u,spawnDrops:d,updatePickups:h}};class cb{constructor(n,o){this.pool=[],this.factory=n,this.reset=o}get(){if(this.pool.length>0){const n=this.pool.pop();return this.reset&&this.reset(n),n}return this.factory()}release(n){this.pool.push(n)}}const ob=(s=Me.BULLET)=>({id:Qg.next(),type:s,pos:{x:0,y:0},vel:{x:0,y:0},radius:5,health:1,maxHealth:1,color:"#fff",isAlive:!0});class ub{constructor(n=60){this.pending=new Map,this.cellSize=n}getKey(n){const o=Math.floor(n.x/this.cellSize),r=Math.floor(n.y/this.cellSize);return`${o},${r}`}add(n,o,r){if(o<=0)return;const u=this.getKey(n),d=this.pending.get(u);d?(d.totalDamage+=o,d.hitCount++):this.pending.set(u,{pos:{x:n.x,y:n.y},totalDamage:o,color:r,hitCount:1})}flush(){const n=[];for(const o of this.pending.values())n.push({pos:o.pos,damage:o.totalDamage,color:o.color});return this.pending.clear(),n}hasPending(){return this.pending.size>0}}const sh=new ub;class fb{constructor(n=80){this.pending=[],this.mergeDistance=n}add(n,o,r){for(const u of this.pending){const d=n.x-u.pos.x,h=n.y-u.pos.y;if(Math.sqrt(d*d+h*h)<this.mergeDistance){const y=u.count/(u.count+1);u.pos.x=u.pos.x*y+n.x*(1-y),u.pos.y=u.pos.y*y+n.y*(1-y),u.totalRadius=Math.sqrt(u.totalRadius**2+o**2),u.count++;return}}this.pending.push({pos:{x:n.x,y:n.y},totalRadius:o,count:1,color:r})}flush(){const n=[];for(const o of this.pending)n.push({pos:o.pos,radius:o.totalRadius,color:o.color});return this.pending.length=0,n}hasPending(){return this.pending.length>0}}const ih=new fb,db=()=>{const s=U.useRef([]),n=U.useRef(new cb(ob,b=>{b.duration=0,b.maxDuration=0,b.value=0})),o=U.useCallback(()=>{const b=n.current;s.current.forEach(x=>b.release(x)),s.current.length=0},[]),r=U.useCallback((b,x,E="#ffffff")=>{sh.add(b,x,E)},[]),u=U.useCallback((b,x,E="#facc15")=>{ih.add(b,x,E)},[]),d=U.useCallback(b=>{const E=n.current.get();E.id=_o.next(),E.type=Me.SPAWN_FLASH,E.pos.x=b.x,E.pos.y=b.y,E.vel.x=0,E.vel.y=0,E.radius=60,E.color="#ffffff",E.duration=0,E.maxDuration=.5,s.current.push(E)},[]),h=U.useCallback(b=>{const x=n.current;b.forEach(E=>{const M=x.get();Object.assign(M,E),s.current.push(M)})},[]),p=U.useCallback((b,x,E)=>{const T=n.current.get();T.id=_o.next(),T.type=Me.DAMAGE_NUMBER,T.pos.x=b.x+(Math.random()-.5)*30,T.pos.y=b.y-15,T.vel.x=(Math.random()-.5)*60,T.vel.y=-120,T.radius=0,T.health=1,T.maxHealth=1,T.color=E,T.value=Math.floor(x),T.duration=0,T.maxDuration=.8,s.current.push(T)},[]),y=U.useCallback((b,x,E)=>{const T=n.current.get();T.id=_o.next(),T.type=Me.EXPLOSION,T.pos.x=b.x,T.pos.y=b.y,T.vel.x=0,T.vel.y=0,T.radius=x,T.color=E,T.duration=0,T.maxDuration=.4,s.current.push(T)},[]),m=U.useCallback((b,x,E)=>{s.current.push({id:`LIGHTNING_${Date.now()}_${Math.random()}`,type:Me.LIGHTNING,pos:{...b},vel:{x:0,y:0},targetPos:{...x},radius:2,color:E,health:1,maxHealth:1,duration:0,maxDuration:.5})},[]),v=U.useCallback(b=>{const x=n.current,E=s.current,M=sh.flush();for(const L of M)p(L.pos,L.damage,L.color);const T=ih.flush();for(const L of T)y(L.pos,L.radius,L.color);for(let L=E.length-1;L>=0;L--){const w=E[L];let I=!0;w.duration=(w.duration||0)+b,w.type===Me.DAMAGE_NUMBER?(w.pos.x+=w.vel.x*b,w.pos.y+=w.vel.y*b,w.duration>=(w.maxDuration||.8)&&(I=!1)):w.type===Me.EXPLOSION?w.duration>(w.maxDuration||.4)&&(I=!1):w.type===Me.SPAWN_FLASH?w.duration>(w.maxDuration||.5)&&(I=!1):w.type===Me.LIGHTNING?w.duration>(w.maxDuration||.2)&&(I=!1):w.duration>2&&(I=!1),I||(x.release(w),E[L]=E[E.length-1],E.pop())}},[p,y]);return{particlesRef:s,initParticles:o,spawnDamageText:r,spawnExplosion:u,spawnSpawnFlash:d,spawnLightning:m,updateParticles:v,addParticles:h}};class hb{constructor(n=250){this.cellSize=n,this.cols=Math.ceil(Be/n),this.rows=Math.ceil(Be/n),this.buckets=new Array(this.cols*this.rows).fill(null).map(()=>[])}clear(){for(let n=0;n<this.buckets.length;n++)this.buckets[n].length>0&&(this.buckets[n].length=0)}getIndex(n,o){const r=Math.floor(n/this.cellSize),u=Math.floor(o/this.cellSize),d=Math.max(0,Math.min(this.cols-1,r)),h=Math.max(0,Math.min(this.rows-1,u));return d+h*this.cols}insert(n){if(!Number.isFinite(n.pos.x)||!Number.isFinite(n.pos.y))return;const o=this.getIndex(n.pos.x,n.pos.y);this.buckets[o]&&this.buckets[o].push(n)}retrieve(n){const o=[];if(!Number.isFinite(n.x)||!Number.isFinite(n.y))return o;const r=Math.floor(n.x/this.cellSize),u=Math.floor(n.y/this.cellSize);for(let d=-1;d<=1;d++)for(let h=-1;h<=1;h++){const p=r+d,y=u+h;if(p>=0&&p<this.cols&&y>=0&&y<this.rows){const m=p+y*this.cols,v=this.buckets[m];for(let b=0;b<v.length;b++)o.push(v[b])}}return o}}function mb(s,n){const o=s.radius+n.radius;if(Math.abs(s.pos.x-n.pos.x)>o||Math.abs(s.pos.y-n.pos.y)>o)return!1;const r=s.pos.x-n.pos.x,u=s.pos.y-n.pos.y;return r*r+u*u<o*o}function Oh(s,n,o){const r=(o.x-n.x)**2+(o.y-n.y)**2;if(r===0)return(s.x-n.x)**2+(s.y-n.y)**2;let u=((s.x-n.x)*(o.x-n.x)+(s.y-n.y)*(o.y-n.y))/r;return u=Math.max(0,Math.min(1,u)),(s.x-(n.x+u*(o.x-n.x)))**2+(s.y-(n.y+u*(o.y-n.y)))**2}class pb{handle(n){const{projectiles:o,enemies:r,playerPos:u,playerStats:d,grid:h,callbacks:p,persistentData:y,time:m}=n;for(const v of o){if(!v.isAlive||v.type===Me.ENEMY_BULLET)continue;const b=v.weaponType;v.weaponEffect===He.LASER||b===G.LASER?this.handleLaser(v,n):this.handleStandardProjectile(v,n)}}handleLaser(n,o){const{enemies:r,playerPos:u,playerStats:d,callbacks:h,time:p}=o;if(!n.isFiring)return;const y=n.angle||0,m=u.x,v=u.y,b=m+Math.cos(y)*Ys,x=v+Math.sin(y)*Ys;for(const E of r){if(!E.isAlive)continue;if(Oh(E.pos,{x:m,y:v},{x:b,y:x})<(E.radius+20)**2&&p-(E.lastHitTime||0)>100){h.onEnemyHit();let T=d.damage*.2;const L=Math.random()<d.critChance;L&&(T*=d.critMultiplier),Ql(E,T,L,o)}}}handleStandardProjectile(n,o){const{enemies:r,playerStats:u,grid:d,callbacks:h,persistentData:p,time:y}=o,m=d.retrieve(n.pos);for(const v of n.effects)v.update(n,o);for(const v of m)if(!(v.health<=0)&&mb(n,v)){if(n.hitEntities.has(v.id))continue;n.hitEntities.add(v.id);for(const E of n.effects)E.onHit(n,v,o);h.onEnemyHit();let b=u.damage;const x=Math.random()<u.critChance;if(x&&(b*=u.critMultiplier),n.weaponType===G.MISSILE||n.weaponType===G.SWARM_LAUNCHER?this.handleMissileImpact(n,v,b,x,o):n.effects.length===0&&this.handlePlasmaImpact(n,v,b,x,o),!n.isAlive||n.weaponType!==G.MISSILE&&n.weaponType!==G.SWARM_LAUNCHER&&n.effects.length===0&&(n.pierceCount===void 0||n.pierceCount<=0))break;continue}}handleMissileImpact(n,o,r,u,d){const{enemies:h,playerStats:p,callbacks:y}=d,m=n.weaponType===G.SWARM_LAUNCHER,v=m?150:p.areaSize,b=m?"#e879f9":"#fb923c";y.spawnExplosion(n.pos,v,b);for(const x of h){if(!x.isAlive)continue;const E=Math.hypot(x.pos.x-n.pos.x,x.pos.y-n.pos.y);if(E<v){let M=r;E>v*.4&&(M*=.7),Ql(x,M,u,d,b)}}n.isAlive=!1,n.health=0}handlePlasmaImpact(n,o,r,u,d){const{playerStats:h,persistentData:p,callbacks:y,time:m}=d;h.weaponType===G.PLASMA&&(p.metaLevels.meta_plas_area||0)>0&&(o.slowUntil=m+2e3,o.slowFactor=.3),Ql(o,r,u,d),y.spawnExplosion(n.pos,20,"#22d3ee"),n.pierceCount!==void 0?(n.pierceCount-=1,n.pierceCount<=0&&(n.isAlive=!1,n.health=0)):(n.isAlive=!1,n.health=0)}}const gb=new pb;class yb{constructor(){this.PLAYER_RADIUS=20}handle(n){var p;const{playerPos:o,grid:r,callbacks:u,time:d}=n,h=r.retrieve(o);for(const y of h)if(Math.hypot(y.pos.x-o.x,y.pos.y-o.y)<this.PLAYER_RADIUS+y.radius){if(y.enemyType===D.KAMIKAZE){y.health=0;continue}let v=15;y.enemyType===D.STRIKER&&(v=(((p=wt(y.enemyType).attacks)==null?void 0:p.collision)??15)*y.damageMult*(1+(y.level||1)*.05)),(y.enemyType===D.BOSS_DREADNOUGHT||y.enemyType===D.BOSS_DESTROYER)&&(v*=1.5),u.triggerPlayerHit(d,v,y)}}}const bb=new yb;class vb{constructor(){this.PLAYER_RADIUS=20}handle(n){const{projectiles:o,playerPos:r,callbacks:u,time:d}=n;for(const h of o){if(!h.isAlive||h.type!==Me.ENEMY_BULLET)continue;if(Math.hypot(h.pos.x-r.x,h.pos.y-r.y)<this.PLAYER_RADIUS+h.radius){const m=(h.damage??10)*(1+(h.level||1)*.05);u.triggerPlayerHit(d,m,h),h.weaponType===G.MISSILE&&u.spawnExplosion(h.pos,80,"#f97316"),h.isAlive=!1,h.health=0}}}}const Sb=new vb;class xb{constructor(){this.PLAYER_RADIUS=20}handle(n){var h;const{enemies:o,playerPos:r,callbacks:u,time:d}=n;for(const p of o){const y=p.enemyType;if(y!==D.LASER_SCOUT&&y!==D.BOSS_DREADNOUGHT||!p.isFiring)continue;const m=p.angle||0,v=y===D.BOSS_DREADNOUGHT,b=v?1600:1200,x=v?90:40,E=p.chargeProgress||0,M=Math.max(20,x*(1-E*.3)),T=p.pos.x,L=p.pos.y,w=T+Math.cos(m)*b,I=L+Math.sin(m)*b;if(Oh(r,{x:T,y:L},{x:w,y:I})<(M/2+this.PLAYER_RADIUS)**2){const F=((h=wt(p.enemyType).attacks)==null?void 0:h.beam)??(v?20:12),Q=p.level||1,P=F*p.damageMult*(1+Q*(v?.03:.02)),X=v?"Dreadnought Beam":"Sniper Beam";u.triggerPlayerHit(d,P,X)}}}}const Eb=new xb;class Mb{constructor(){this.COLLECTION_RANGE=40}handle(n){const{pickups:o,playerPos:r,playerStats:u,callbacks:d,time:h}=n;let p=0,y=0;for(const m of o)Math.hypot(m.pos.x-r.x,m.pos.y-r.y)<this.COLLECTION_RANGE&&(m.type===Me.XP_GEM?p+=m.value||1:m.type===Me.CREDIT?y+=Math.floor((m.value||0)*u.creditMultiplier):m.type===Me.POWERUP&&m.powerUpId&&d.setStats(b=>xl.applyPickupEffect(m.powerUpId,b,h)),m.health=0);y>0&&(d.setStats(m=>({...m,credits:m.credits+y})),d.onCreditCollected(y)),p>0&&d.setStats(m=>{let v=m.xp+p,b=m.level,x=m.xpToNextLevel,E=0;for(;v>=x;)v-=x,b++,x=Math.floor(x*1.2),E++;return{...m,xp:v,level:b,xpToNextLevel:x,pendingLevelUps:m.pendingLevelUps+E}})}}const Tb=new Mb;class Ab{handle(n){var h;const{enemies:o,playerPos:r,callbacks:u,time:d}=n;for(const p of o)if(p.health<=0&&!p.__deathProcessed&&(u.onEnemyKilled(),u.spawnExplosion(p.pos,p.radius*2.5,p.color),p.enemyType===D.KAMIKAZE)){if(Math.hypot(p.pos.x-r.x,p.pos.y-r.y)<120){const b=(((h=wt(p.enemyType).attacks)==null?void 0:h.explosion)??40)*p.damageMult*(1+(p.level||1)*.1);u.triggerPlayerHit(d,b,"Kamikaze Blast")}u.spawnExplosion(p.pos,100,"#f97316")}}}const Rb=new Ab;class Nb{constructor(){this.handlers=[gb,bb,Sb,Eb,Tb,Rb]}processAll(n){for(const o of this.handlers)o.handle(n)}addHandler(n){this.handlers.push(n)}}const wb=new Nb,Lb=(s,n,o,r,u,d,h,p,y,m,v,b,x,E,M,T,L,w)=>{const I=U.useRef(new hb(250));return{checkCollisions:U.useCallback((F,Q)=>{const P=I.current;P.clear();const X=s.current,$=n.current,ee=o.current,ae=r.current,K=u.current;for(const Te of X)Te.isAlive&&P.insert(Te);const me={time:F,dt:Q,playerPos:ae,playerStats:K,enemies:X,projectiles:$,pickups:ee,grid:P,persistentData:M,callbacks:{onEnemyHit:T,onEnemyKilled:L,onCreditCollected:w,triggerPlayerHit:d,spawnDamageText:p,spawnExplosion:y,spawnLightning:m,setStats:x,setScore:b}};wb.processAll(me);for(const Te of X)if(Te.health<=0&&!Te.__deathProcessed){Te.__deathProcessed=!0;const Ge=h(Te);b(O=>O+Ge)}},[I,w,T,L,d,h,p,y,b,x,M])}};class rh{static generateOffers(n,o=Yo){const r=o.filter(h=>h.type===ct.CONSUMABLE?!0:n.filter(y=>y.id===h.id).length<h.maxStacks),u=[],d=[...r];for(let h=0;h<3&&d.length!==0;h++){const p=d.reduce((m,v)=>m+v.weight,0);let y=Math.random()*p;for(let m=0;m<d.length;m++)if(y-=d[m].weight,y<=0){u.push(d[m]),d.splice(m,1);break}}return u}static applyUpgrade(n,o){n.type!==ct.CONSUMABLE&&o(n)}}const Cb={cons_heal:s=>{s.setStats(n=>({...n,currentHealth:n.maxHealth})),s.spawnSpawnFlash(s.playerPos),s.spawnDamageText(s.playerPos,0,"#4ade80")},cons_shield:s=>{s.setStats(n=>({...n,currentShield:n.maxShield})),s.spawnSpawnFlash(s.playerPos)},cons_emp:s=>{s.enemies.forEach(o=>{o.isBoss||(o.health=0,s.spawnExplosion(o.pos,50,"#06b6d4"))});const n=s.projectiles.filter(o=>o.type!==Me.ENEMY_BULLET);s.setProjectiles(n),s.spawnSpawnFlash(s.playerPos)},cons_nuke:s=>{s.spawnExplosion(s.playerPos,600,"#f97316"),s.enemies.forEach(n=>{Math.hypot(n.pos.x-s.playerPos.x,n.pos.y-s.playerPos.y)<800&&(n.health-=5e3,s.spawnDamageText(n.pos,5e3,"#f97316"))})},cons_score:s=>{s.setScore(n=>n+2500),s.spawnDamageText({x:s.playerPos.x,y:s.playerPos.y-50},2500,"#fbbf24")}},Db=(s,n,o,r,u,d,h,p)=>{const[y,m]=U.useState(0),v=U.useRef(0),b=U.useRef({shotsFired:0,shotsHit:0,enemiesKilled:0,creditsEarned:0}),x=Yn[d],{stats:E,setStats:M,statsRef:T,playerPosRef:L,cameraPosRef:w,lastPlayerHitTimeRef:I,initPlayer:H,updatePlayer:F,handleShieldRegen:Q,addUpgrade:P,triggerPlayerHit:X,syncWithPersistentData:$,activateModule:ee}=hy(s,o,u),{particlesRef:ae,initParticles:K,spawnDamageText:ce,spawnExplosion:me,spawnSpawnFlash:Te,spawnLightning:Ge,updateParticles:O,addParticles:Z}=db(),{enemiesRef:se,initEnemies:Se,updateEnemies:fe}=Uy(L,x,Te,h,p),R=U.useCallback(()=>{b.current.shotsFired++},[]),{projectilesRef:z,autoAttack:W,setAutoAttack:te,initProjectiles:ne,fireWeapon:he,updateProjectiles:ye,addProjectiles:qe}=ib(L,T,R),{pickupsRef:Le,initPickups:da,spawnDrops:Va,updatePickups:sa}=rb(L,T,x),Fl=U.useCallback(()=>{b.current.shotsHit++},[]),Xt=U.useCallback(()=>{b.current.enemiesKilled++},[]),Tl=U.useCallback(Ke=>{b.current.creditsEarned+=Ke},[]),{checkCollisions:Ea}=Lb(se,z,Le,L,T,X,Va,ce,me,Ge,Z,m,M,r,o,Fl,Xt,Tl),Xa=U.useCallback(()=>{T.current.pendingLevelUps>0&&n(_e.LEVELING)},[n]);U.useEffect(()=>{const Ke=o.settings.autoShowLevelUp??!0;s===_e.PLAYING&&E.pendingLevelUps>0&&Ke&&n(_e.LEVELING)},[E.pendingLevelUps,s,o.settings.autoShowLevelUp,n]);const[Ma,Ta]=U.useState(!1);U.useEffect(()=>{if(s===_e.LEVELING){if(E.pendingLevelUps>0&&!Ma){const Ve=rh.generateOffers(E.acquiredUpgrades);r(Ve),Ta(!0)}}else Ta(!1)},[s,Ma,E.pendingLevelUps,E.acquiredUpgrades,n,r]);const Al=U.useCallback(Ke=>{if(Ke.type===ct.CONSUMABLE){const Tt=Cb[Ke.id];Tt&&Tt({setStats:M,playerPos:L.current,enemies:se.current,projectiles:z.current,setProjectiles:vt=>{z.current=vt},setScore:m,spawnSpawnFlash:Te,spawnDamageText:ce,spawnExplosion:me}),M(vt=>({...vt,pendingLevelUps:Math.max(0,vt.pendingLevelUps-1)}))}else rh.applyUpgrade(Ke,P);const Ve=E.pendingLevelUps;Math.max(0,Ve-1)<=0&&n(_e.PLAYING),r([]),Ta(!1)},[n,P,M,m,me,Te,ce,E.pendingLevelUps]),ia=U.useCallback(Ke=>{H(),Se(Ke),ne(),da(),K(),m(0),v.current=0,b.current={shotsFired:0,shotsHit:0,enemiesKilled:0,creditsEarned:0},n(_e.PLAYING)},[H,Se,ne,da,K,n]),Rl=U.useCallback((Ke,Ve)=>{if(s!==_e.PLAYING||u)return;let Kt=1;const Tt=T.current.moduleSlots.find(dt=>dt.type==="TIME_WARP"&&Ke<dt.activeUntil);Tt&&(Kt=Math.max(.1,1-Tt.power));const vt=Ve*Kt;v.current+=vt,F(Ve,Ke),Q(Ve,Ke);const $e=xl.isBuffActive(T.current,"OVERDRIVE",Ke),Nl=xl.isBuffActive(T.current,"OMNI",Ke),Ka=xl.isBuffActive(T.current,"PIERCE",Ke),Za=Ht.getAim(),Wl=Ht.isFiring();he(Ke,$e,Nl,Ka,se.current,Za,Wl);const{enemyBulletsToSpawn:ra}=fe(vt,Ke,v.current);ra.length>0&&qe(ra);const{newExplosions:at}=ye(Ve,Ke,se.current,Za,Kt);at&&at.length>0&&at.forEach(dt=>me(dt.pos,dt.radius,dt.color)),sa(Ve),O(Ve),Ea(Ke,Ve)},[s,u,F,Q,he,fe,qe,ye,sa,O,Ea,me]);return{stats:E,score:y,playerPosRef:L,cameraPosRef:w,initGame:ia,update:Rl,setStats:M,addUpgrade:P,statsRef:T,lastPlayerHitTime:I,syncWithPersistentData:$,autoAttack:W,setAutoAttack:te,enemiesRef:se,projectilesRef:z,pickupsRef:Le,particlesRef:ae,runMetricsRef:b,triggerManualLevelUp:Xa,onUpgradeSelected:Al,activateModule:ee,gameTime:v.current}},Ob=s=>{const n=[];for(let o=0;o<s;o++)n.push({x:Math.random()*Be,y:Math.random()*Be,size:.5+Math.random()*2,layer:Math.floor(Math.random()*3),opacity:.1+Math.random()*.7});return n};class _b{constructor(){this.cache=[],this.cacheCtx=[],this.isInitialized=!1,this.speeds=[.1,.2,.4],this.colors=["#475569","#475569","#fff"]}initialize(n,o,r){for(let d=0;d<3;d++){const h=new OffscreenCanvas(o,r),p=h.getContext("2d");p&&(this.cache[d]=h,this.cacheCtx[d]=p)}const u=[[],[],[]];for(const d of n)u[d.layer].push(d);for(let d=0;d<3;d++){const h=this.cacheCtx[d];if(h){h.clearRect(0,0,o,r),h.fillStyle=this.colors[d];for(const p of u[d]){h.globalAlpha=p.opacity;const y=p.x%o,m=p.y%r;p.size<=1.5?h.fillRect(y-p.size,m-p.size,p.size*2,p.size*2):(h.beginPath(),h.arc(y,m,p.size,0,Math.PI*2),h.fill())}h.globalAlpha=1}}this.isInitialized=!0}draw(n,o,r,u,d){if(n.fillStyle="#020617",n.fillRect(0,0,o,r),!this.isInitialized)return;for(let p=0;p<3;p++){const y=this.cache[p];if(!y)continue;let m=u*this.speeds[p]%o,v=d*this.speeds[p]%r;m<0&&(m+=o),v<0&&(v+=r);const b=m|0,x=v|0;n.drawImage(y,b,x),n.drawImage(y,b-o,x),n.drawImage(y,b,x-r),n.drawImage(y,b-o,x-r)}n.strokeStyle="rgba(34, 211, 238, 0.03)",n.lineWidth=1;const h=400;n.beginPath();for(let p=u%h;p<o;p+=h)n.moveTo(p|0,0),n.lineTo(p|0,r);for(let p=d%h;p<r;p+=h)n.moveTo(0,p|0),n.lineTo(o,p|0);n.stroke()}get ready(){return this.isInitialized}}const ch=new _b;class jb{constructor(){this.order=10}render(n){const{ctx:o,pickups:r,time:u}=n;for(const d of r)o.save(),o.translate(d.pos.x,d.pos.y),d.type===Me.XP_GEM?this.renderXpGem(o,u):d.type===Me.CREDIT?this.renderCredit(o,u):d.type===Me.POWERUP&&d.powerUpId&&this.renderPowerUp(o,d.powerUpId,u),o.restore()}renderXpGem(n,o){n.shadowBlur=15,n.shadowColor="#06b6d4",n.rotate(o/150),n.fillStyle="#fff",n.fillRect(-9,-9,18,18),n.fillStyle="#06b6d4",n.fillRect(-6,-6,12,12)}renderCredit(n,o){n.shadowBlur=15,n.shadowColor="#fbbf24",n.rotate(o/100),n.fillStyle="#fbbf24",n.beginPath(),n.moveTo(0,-14),n.lineTo(14,0),n.lineTo(0,14),n.lineTo(-14,0),n.closePath(),n.fill(),n.fillStyle="#fff",n.beginPath(),n.arc(0,0,4,0,Math.PI*2),n.fill()}renderPowerUp(n,o,r){const u=Gn[o];if(!u)return;const d=1+Math.sin(r*.01)*.15;n.rotate(r*.002),n.shadowBlur=25,n.shadowColor=u.color,n.fillStyle="#fff",n.strokeStyle=u.color,n.lineWidth=4,n.beginPath(),n.rect(-18*d,-18*d,36*d,36*d),n.fill(),n.stroke(),n.fillStyle="#000",n.font="bold 18px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(u.label,0,0)}}const Ub=new jb,Vo=(s,n,o,r,u,d=100,h=1)=>{const p=r/h,y=u/h,m=n-p/2-d,v=n+p/2+d,b=o-y/2-d,x=o+y/2+d;return s.x>=m&&s.x<=v&&s.y>=b&&s.y<=x};class Bb{constructor(){this.order=40}render(n){const{ctx:o,particles:r,cameraPos:u,screenWidth:d,screenHeight:h,zoom:p}=n;for(const y of r)Vo(y.pos,u.x,u.y,d,h,250,p)&&(o.save(),o.translate(y.pos.x,y.pos.y),y.type===Me.DAMAGE_NUMBER?this.renderDamageNumber(o,y):y.type===Me.EXPLOSION?this.renderExplosion(o,y):y.type===Me.SPAWN_FLASH?this.renderSpawnFlash(o,y):y.type===Me.LIGHTNING&&this.renderLightning(o,y),o.restore())}renderDamageNumber(n,o){var d;const r=(o.duration||0)/(o.maxDuration||.8);n.globalAlpha=Math.max(0,1-Math.pow(r,2)),n.scale(1+(1-r)*.5,1+(1-r)*.5),n.fillStyle=o.color||"#ffffff",n.strokeStyle="#000000",n.lineWidth=4,n.font="900 36px Arial, sans-serif",n.textAlign="center";const u=((d=o.value)==null?void 0:d.toString())||"0";n.strokeText(u,0,0),n.fillText(u,0,0)}renderExplosion(n,o){const r=(o.duration||0)/(o.maxDuration||.5),u=Math.max(0,1-r),d=(o.id.charCodeAt(0)||0)+(o.id.charCodeAt(o.id.length-1)||0);n.beginPath(),n.arc(0,0,o.radius*(.2+r*1.2),0,Math.PI*2),n.strokeStyle=o.color,n.lineWidth=(1-r)*4,n.globalAlpha=u,n.stroke(),r<.3&&(n.fillStyle="#fff",n.globalAlpha=(.3-r)*3,n.beginPath(),n.arc(0,0,o.radius*.5,0,Math.PI*2),n.fill()),n.globalAlpha=u,n.fillStyle=o.color;const h=6+d%4,p=o.radius*2.5;for(let y=0;y<h;y++){const m=y/h*Math.PI*2+d*.1,v=r*p*(.8+y%3*.2),b=Math.cos(m)*v,x=Math.sin(m)*v,E=o.radius*.15*u;n.fillRect(b-E/2,x-E/2,E,E)}}renderSpawnFlash(n,o){const r=(o.duration||0)/(o.maxDuration||.5);if(n.globalAlpha=Math.max(0,1-r),n.shadowBlur=40,n.shadowColor="#fff",n.fillStyle="#fff",n.beginPath(),n.arc(0,0,o.radius*r,0,Math.PI*2),n.fill(),r<.5){n.shadowBlur=0,n.fillStyle="#22d3ee";const u=o.radius*2*r,d=4*(1-r);n.fillRect(-u/2,-d/2,u,d),n.fillRect(-d/2,-u/2,d,u)}n.strokeStyle="#22d3ee",n.lineWidth=4*(1-r),n.beginPath(),n.arc(0,0,o.radius*1.5*r,0,Math.PI*2),n.stroke(),n.stroke()}renderLightning(n,o){if(!o.targetPos)return;const r=(o.duration||0)/(o.maxDuration||.4),u=Math.max(0,1-r),d=o.targetPos.x-o.pos.x,h=o.targetPos.y-o.pos.y,p=Math.sqrt(d*d+h*h),y=Math.max(4,Math.floor(p/20)),m=30*u,v=[{x:0,y:0}];for(let b=1;b<y;b++){const x=b/y,E=d*x,M=h*x,T=-h/p,L=d/p,w=(Math.random()-.5)*m;v.push({x:E+T*w,y:M+L*w})}v.push({x:d,y:h}),n.lineCap="round",n.lineJoin="round",n.shadowBlur=20,n.shadowColor=o.color||"#67e8f9",n.strokeStyle=o.color||"#67e8f9",n.lineWidth=6*u,n.globalAlpha=u*.5,n.beginPath(),n.moveTo(v[0].x,v[0].y);for(let b=1;b<v.length;b++)n.lineTo(v[b].x,v[b].y);n.stroke(),n.shadowBlur=4,n.shadowColor="#fff",n.strokeStyle="#ffffff",n.lineWidth=2*u,n.globalAlpha=u,n.beginPath(),n.moveTo(v[0].x,v[0].y);for(let b=1;b<v.length;b++)n.lineTo(v[b].x,v[b].y);n.stroke(),n.shadowBlur=0,n.globalAlpha=1}}const Hb=new Bb;class zb{constructor(){this.order=20}render(n){const{cameraPos:o,screenWidth:r,screenHeight:u,zoom:d,enemies:h,ctx:p,time:y}=n,m=h.filter(v=>{const b="enemyType"in v?v.enemyType:void 0,E=b===D.BOSS_DREADNOUGHT||b===D.BOSS_DESTROYER?2500:v.radius+400;return Vo(v.pos,o.x,o.y,r,u,E,d)});_g(p,m,y)}}const kb=new zb,Gb=(s,n)=>{s.save(),s.translate(n.pos.x,n.pos.y);const o=n.angle||0;if(s.rotate(o),n.isCharging){const r=n.chargeProgress||0;s.strokeStyle=`rgba(168, 85, 247, ${.2+r*.4})`,s.lineWidth=1+r*2,s.setLineDash([20,15]),s.beginPath(),s.moveTo(30,0),s.lineTo(Ys,0),s.stroke(),s.shadowBlur=10+r*20,s.shadowColor="#d8b4fe",s.fillStyle="#a855f7",s.beginPath(),s.arc(20,0,5+r*8,0,Math.PI*2),s.fill()}else if(n.isFiring){const r=Math.max(0,n.duration-n.elapsedTime),u=Math.min(40,Math.max(0,r/8));s.shadowBlur=60,s.shadowColor="#a855f7",s.fillStyle="#fff",s.fillRect(0,-u/4,Ys,u/2),s.fillStyle="rgba(168, 85, 247, 0.6)",s.fillRect(0,-u,Ys,u*2),s.beginPath(),s.fillStyle="#fff",s.arc(20,0,u*1.5,0,Math.PI*2),s.fill()}s.restore()},oh=(s,n)=>{s.save(),s.translate(n.pos.x,n.pos.y);const o=n.angle||Math.atan2(n.vel.y,n.vel.x);s.save(),s.rotate(o+Math.PI);const r=n.type===Me.ENEMY_BULLET?50:40,u=s.createLinearGradient(0,0,r,0);u.addColorStop(0,n.type===Me.ENEMY_BULLET?"#a1a1aa":n.color),u.addColorStop(1,"transparent"),s.fillStyle=u,s.globalAlpha=.6,s.fillRect(0,-n.radius*.6,r,n.radius*1.2),s.restore(),s.rotate(o+Math.PI/2),n.type===Me.PLAYER_BULLET?(s.shadowBlur=20,s.shadowColor=n.color,s.fillStyle=n.color,s.fillRect(-8,-20,16,40),s.fillStyle="#fff",s.fillRect(-4,20,8,10)):(s.shadowBlur=20,s.shadowColor=n.color||"#f97316",s.fillStyle=n.color||"#f97316",s.fillRect(-3,-8,6,16),s.fillStyle="#fff",s.fillRect(-2,8,4,4)),s.restore()},Ib=(s,n)=>{s.save(),s.translate(n.pos.x,n.pos.y);const o=n.angle||Math.atan2(n.vel.y,n.vel.x);s.rotate(o+Math.PI/2),s.shadowBlur=10,s.shadowColor=n.color,s.fillStyle=n.color,s.beginPath(),s.moveTo(0,-8),s.lineTo(5,5),s.lineTo(-5,5),s.closePath(),s.fill(),s.fillStyle="#fff",s.fillRect(-2,5,4,6),s.restore()},Yb=(s,n)=>{s.save(),s.translate(n.pos.x,n.pos.y);const o=n.angle||Math.atan2(n.vel.y,n.vel.x);if(s.rotate(o+Math.PI/2),n.type===Me.PLAYER_BULLET)if(n.weaponType===G.RAILGUN)s.shadowBlur=25,s.shadowColor="#60a5fa",s.fillStyle="#ffffff",s.beginPath(),s.ellipse(0,0,4,25,0,0,Math.PI*2),s.fill(),s.strokeStyle="#60a5fa",s.lineWidth=2,s.stroke();else if(n.weaponType===G.FLAMETHROWER){const r=n.elapsedTime/(n.duration||600),u=Math.max(0,1-Math.pow(r,1.5)),d=1+r*2.5;s.globalAlpha=u,s.shadowBlur=20*u,s.shadowColor="#ea580c";const h=parseInt(n.id.slice(-4),16)||0,p=Math.sin(r*10+h)*(n.radius*.5),y=Math.cos(r*8+h)*(n.radius*.5),m=s.createRadialGradient(p*.2,y*.2,0,0,0,n.radius*d);m.addColorStop(0,"#fef08a"),m.addColorStop(.3,"#f97316"),m.addColorStop(.7,"rgba(220, 38, 38, 0.8)"),m.addColorStop(1,"rgba(100, 100, 100, 0)"),s.fillStyle=m,s.beginPath(),s.arc(p,y,n.radius*d,0,Math.PI*2),s.fill(),s.fillStyle="rgba(239, 68, 68, 0.3)",s.beginPath(),s.arc(-p*.5,-y*.5,n.radius*d*.8,0,Math.PI*2),s.fill(),s.globalAlpha=1}else if(n.weaponType===G.ENERGY_ORB){const r=1+Math.sin(Date.now()*.01)*.1;s.shadowBlur=30,s.shadowColor="#c084fc",s.fillStyle="#ffffff",s.beginPath(),s.arc(0,0,n.radius*.8,0,Math.PI*2),s.fill(),s.strokeStyle="#c084fc",s.lineWidth=4,s.globalAlpha=.8,s.beginPath(),s.arc(0,0,n.radius*r,0,Math.PI*2),s.stroke(),s.globalAlpha=1}else if(n.weaponType===G.ARC_CASTER){s.shadowBlur=20,s.shadowColor="#67e8f9",s.fillStyle="#ffffff",s.beginPath(),s.arc(0,0,4,0,Math.PI*2),s.fill(),s.strokeStyle="#67e8f9",s.lineWidth=2;const r=4;for(let u=0;u<r;u++){const d=Math.random()*Math.PI*2,h=5+Math.random()*10;s.beginPath(),s.moveTo(0,0);const p=Math.cos(d)*(h*.5)+(Math.random()-.5)*5,y=Math.sin(d)*(h*.5)+(Math.random()-.5)*5,m=Math.cos(d)*h,v=Math.sin(d)*h;s.lineTo(p,y),s.lineTo(m,v),s.stroke()}s.strokeStyle="rgba(103, 232, 249, 0.5)",s.lineWidth=4,s.beginPath(),s.moveTo(0,0),s.lineTo(0,15),s.lineTo((Math.random()-.5)*5,25),s.stroke()}else s.shadowBlur=15,s.shadowColor=n.color,s.fillStyle="#fff",s.beginPath(),s.arc(0,0,n.radius,0,Math.PI*2),s.fill(),s.strokeStyle=n.color,s.lineWidth=3,s.stroke();else n.radius>10?(s.shadowBlur=40,s.fillStyle="#fff",s.beginPath(),s.arc(0,0,n.radius*.7,0,Math.PI*2),s.fill(),s.fillStyle=n.color,s.globalAlpha=.6,s.beginPath(),s.arc(0,0,n.radius*1.2,0,Math.PI*2),s.fill()):(s.fillStyle="#fff",s.beginPath(),s.arc(0,0,n.radius,0,Math.PI*2),s.fill(),s.strokeStyle=n.color||"#f97316",s.lineWidth=2,s.stroke());s.restore()},Pb=(s,n,o,r)=>{n.forEach(u=>{if(u.isAlive)switch(u.weaponEffect){case He.LASER:Gb(s,u);break;case He.HOMING:u.ownerId==="player"?Ib(s,u):oh(s,u);break;case He.EXPLOSIVE:oh(s,u);break;default:Yb(s,u);break}})};class qb{constructor(){this.order=30}render(n){const{cameraPos:o,screenWidth:r,screenHeight:u,zoom:d,projectiles:h,ctx:p,playerStats:y,time:m}=n,v=h.filter(b=>Vo(b.pos,o.x,o.y,r,u,300,d));Pb(p,v)}}const Vb=new qb,Xb=(s,n,o)=>{s.save();let r=Math.atan2(n.y,n.x);n.x===0&&n.y===0&&(r=Math.atan2(o.y,o.x)),s.rotate(r+Math.PI);const u=120+Math.random()*40,d=25,h=s.createLinearGradient(0,0,u,0);h.addColorStop(0,"rgba(217, 70, 239, 0.8)"),h.addColorStop(1,"rgba(217, 70, 239, 0)"),s.fillStyle=h,s.beginPath(),s.moveTo(0,-d/2),s.lineTo(u,0),s.lineTo(0,d/2),s.fill(),s.restore()},Kb=(s,n)=>{if(Math.abs(n.x)<=.1&&Math.abs(n.y)<=.1)return;const o=Math.atan2(n.y,n.x);s.save(),s.rotate(o),s.beginPath(),s.strokeStyle="rgba(34, 211, 238, 0.4)",s.lineWidth=2,s.setLineDash([10,10]),s.moveTo(35,0),s.lineTo(250,0),s.stroke(),s.setLineDash([]),s.shadowBlur=10,s.shadowColor="#22d3ee",s.strokeStyle="#22d3ee",s.lineWidth=3,s.beginPath(),s.moveTo(240,-10),s.lineTo(255,0),s.lineTo(240,10),s.stroke(),s.restore()},Zb=(s,n,o)=>{if(n.currentShield<1)return;const r=n.currentShield/n.maxShield,u=58*(1+Math.sin(o*.01)*.04);s.strokeStyle=r<.25?`rgba(255, 50, 50, ${.5+Math.sin(o*.02)*.3})`:"rgba(34, 211, 238, 0.6)",s.lineWidth=4,s.shadowBlur=25,s.shadowColor=r<.25?"#ff0000":"#00ffff",s.beginPath(),s.arc(0,0,u,0,Math.PI*2),s.stroke(),r>.1&&(s.globalAlpha=.1,s.fillStyle="#22d3ee",s.beginPath(),s.arc(0,0,u-5,0,Math.PI*2),s.fill(),s.globalAlpha=1)},Qb=(s,n)=>{const o=.7+Math.sin(n*.03)*.3,r=70+Math.sin(n*.02)*10,u=s.createRadialGradient(0,0,30,0,0,r);u.addColorStop(0,`rgba(251, 191, 36, ${.4*o})`),u.addColorStop(.5,`rgba(251, 191, 36, ${.2*o})`),u.addColorStop(1,"rgba(251, 191, 36, 0)"),s.fillStyle=u,s.beginPath(),s.arc(0,0,r,0,Math.PI*2),s.fill(),s.strokeStyle=`rgba(251, 191, 36, ${.8*o})`,s.lineWidth=4,s.shadowBlur=30,s.shadowColor="#fbbf24",s.setLineDash([15,10]),s.lineDashOffset=-n*.1,s.beginPath(),s.arc(0,0,50,0,Math.PI*2),s.stroke(),s.setLineDash([]),s.fillStyle="#fbbf24";for(let d=0;d<6;d++){const h=n*.005+d*Math.PI/3,p=55+Math.sin(n*.02+d)*10,y=Math.cos(h)*p,m=Math.sin(h)*p;s.beginPath(),s.arc(y,m,3+Math.sin(n*.03+d)*2,0,Math.PI*2),s.fill()}},Fb=(s,n,o)=>{if(!n&&!o)return;s.fillStyle=o?"#d946ef":"#fff";const r=(15+Math.random()*15)*(o?2:1);s.fillRect(-10,20,5,r),s.fillRect(5,20,5,r)},Wb=(s,n,o)=>{s.shadowBlur=30,s.shadowColor=n,s.fillStyle=o?"#ffffff":n,s.beginPath(),s.moveTo(0,-30),s.lineTo(-25,25),s.lineTo(0,15),s.lineTo(25,25),s.closePath(),s.fill(),s.fillStyle="rgba(0,0,0,0.5)",s.beginPath(),s.ellipse(0,-5,8,12,0,0,Math.PI*2),s.fill()},Jb=(s,n,o,r,u,d,h,p)=>{var L;if(p===_e.DYING)return;const m=d-h<250,v=u.moduleSlots.find(w=>w.type==="AFTERBURNER"),b=v&&d<v.activeUntil,x=Math.abs(o.x)>.1||Math.abs(o.y)>.1;s.save(),s.translate(n.x,n.y),b&&Xb(s,o,r),Kb(s,r),x?s.rotate(Math.atan2(o.y,o.x)+Math.PI/2):(Math.abs(r.x)>.1||Math.abs(r.y)>.1)&&s.rotate(Math.atan2(r.y,r.x)+Math.PI/2);const E=d<u.invulnerableUntil,M=u.invulnerableUntil-d;E&&M>500&&Qb(s,d),Zb(s,u,d),Fb(s,x,b);const T=((L=El.find(w=>w.type===u.shipType))==null?void 0:L.color)||"#22d3ee";Wb(s,T,m),s.restore()};class $b{constructor(){this.order=50}render(n){Jb(n.ctx,n.playerPos,n.joystickDir,n.aimDir,n.playerStats,n.time,n.lastPlayerHitTime,n.gameState)}}const ev=new $b;class tv{constructor(){this.renderers=[],this.sorted=!1,this.register(Ub),this.register(kb),this.register(Vb),this.register(Hb),this.register(ev)}register(n){this.renderers.push(n),this.sorted=!1}renderAll(n){this.sorted||(this.renderers.sort((o,r)=>o.order-r.order),this.sorted=!0);for(const o of this.renderers)o.render(n)}}const av=new tv,lv=(s,n,o,r,u,d,h,p,y,m,v,b,x,E,M)=>{const T=n.width/2,L=n.height/2,w=b-x,I=w<250,H=I?1-w/250:0;if(s.save(),s.translate(T,L),M===_e.DYING)s.translate((Math.random()-.5)*15,(Math.random()-.5)*15);else if(I){const $=H*20;s.translate((Math.random()-.5)*$,(Math.random()-.5)*$)}const F=y.moduleSlots.find($=>$.type==="AFTERBURNER"),P=F&&b<F.activeUntil?.9:1;s.scale(E*P,E*P),s.translate(-p.x,-p.y),nv(s);const X={ctx:s,time:b,cameraPos:p,screenWidth:n.width,screenHeight:n.height,zoom:E*P,playerPos:h,playerStats:y,joystickDir:m,aimDir:v,lastPlayerHitTime:x,gameState:M,enemies:o,projectiles:r,pickups:u,particles:d};av.renderAll(X),s.restore()};function nv(s){s.save(),s.strokeStyle="#22d3ee",s.lineWidth=8,s.shadowBlur=30,s.shadowColor="#06b6d4",s.setLineDash([40,20]),s.strokeRect(0,0,Be,Be),s.setLineDash([]),s.strokeStyle="rgba(34, 211, 238, 0.15)",s.lineWidth=2,s.shadowBlur=0,s.strokeRect(-15,-15,Be+30,Be+30),s.restore()}const sv=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,iv=()=>{var Vn,Xn,an,ln,Kn;const[s,n]=U.useState(_e.START),[o,r]=U.useState(!1),[u,d]=U.useState(Nt.STANDARD),[h,p]=U.useState(null),[y,m]=U.useState(Mt.NORMAL),[v,b]=U.useState(!1),[x,E]=U.useState(!1),[M,T]=U.useState(!1),[L,w]=U.useState(!1),[I,H]=U.useState(!1),[F,Q]=U.useState(!1),[P,X]=U.useState(!1),[$,ee]=U.useState(!1),[ae,K]=U.useState(""),[ce,me]=U.useState(null),[Te,Ge]=U.useState(!1),[O,Z]=U.useState(()=>{const re=localStorage.getItem("void-arena-data");let de=re?JSON.parse(re):q0;return de.settings||(de.settings={controlScheme:sv()?je.TWIN_STICK:je.KEYBOARD_MOUSE,zoomLevel:Ho,autoShowLevelUp:!0}),de.equippedModule===void 0&&(de.equippedModule=we.NONE,de.unlockedModules=[]),de.highScores||(de.highScores=[]),de}),[se,Se]=U.useState([]),fe=U.useMemo(()=>Ob(400),[]);U.useEffect(()=>{fe.length>0&&ch.initialize(fe,window.innerWidth,window.innerHeight),Eh.initialize()},[fe]);const R=o||v||x||M||L||I||F||P||$,{stats:z,score:W,playerPosRef:te,cameraPosRef:ne,initGame:he,update:ye,setStats:qe,statsRef:Le,lastPlayerHitTime:da,syncWithPersistentData:Va,autoAttack:sa,setAutoAttack:Fl,enemiesRef:Xt,projectilesRef:Tl,pickupsRef:Ea,particlesRef:Xa,runMetricsRef:Ma,triggerManualLevelUp:Ta,onUpgradeSelected:Al,activateModule:ia,gameTime:Rl}=Db(s,n,O,Se,R,y,u,h),Ke=U.useRef(ye);U.useEffect(()=>{Ke.current=ye},[ye]),U.useEffect(()=>{localStorage.setItem("void-arena-data",JSON.stringify(O))},[O]),U.useEffect(()=>{if(s===_e.PLAYING&&z.currentHealth<=0){n(_e.DYING),Xa.current.push({id:"PLAYER_DEATH_BOOM",type:"EXPLOSION",pos:{...te.current},vel:{x:0,y:0},radius:120,color:"#06b6d4",health:1,maxHealth:1,duration:0,maxDuration:2});for(let re=0;re<5;re++)setTimeout(()=>{Xa.current.push({id:`PLAYER_DEATH_SUB_${re}`,type:"EXPLOSION",pos:{x:te.current.x+(Math.random()-.5)*60,y:te.current.y+(Math.random()-.5)*60},vel:{x:0,y:0},radius:40+Math.random()*40,color:Math.random()>.5?"#fff":"#facc15",health:1,maxHealth:1,duration:0,maxDuration:.8})},re*200)}},[z.currentHealth,s,te,Xa]),U.useEffect(()=>{if(s===_e.DYING){const re=setTimeout(()=>{var Ce;const de=Ma.current,oe=de.shotsFired>0?Math.min(100,de.shotsHit/de.shotsFired*100):0;if(u===Nt.STANDARD){Z(xt=>({...xt,credits:xt.credits+z.credits,currentLevel:z.level,currentXp:z.xp,xpToNextLevel:z.xpToNextLevel,acquiredUpgradeIds:z.acquiredUpgrades.map(Qa=>Qa.id)}));const At=[...(O.highScores||[]).filter(xt=>xt.difficulty===y||!xt.difficulty&&y===Mt.NORMAL)].sort((xt,Qa)=>Qa.score-xt.score);let Lt=At.length<10?At.filter(xt=>xt.score>W).length+1:W>((Ce=At[9])==null?void 0:Ce.score)?At.filter(xt=>xt.score>W).length+1:-1;Lt!==-1&&W>0?(me({score:W,rank:Lt,accuracy:oe,kills:de.enemiesKilled,credits:de.creditsEarned,survivalTime:Rl}),K(`Pilot-${Math.floor(Math.random()*1e3)}`),Ge(!1)):(me(null),Ge(!0))}n(_e.GAMEOVER)},2500);return()=>clearTimeout(re)}},[s,W,y,z,u,Rl,O.highScores,Ma]);const Ve=()=>{if(!ce)return;const re={name:ae.substring(0,12).toUpperCase()||"UNKNOWN",score:ce.score,date:Date.now(),ship:z.shipType,difficulty:y,accuracy:ce.accuracy,enemiesKilled:ce.kills,creditsEarned:ce.credits,survivalTime:ce.survivalTime};Z(de=>({...de,highScores:[...de.highScores||[],re].sort((oe,Ce)=>Ce.score-oe.score)})),Ge(!0)},Kt=U.useRef(null),Tt=U.useRef(0),vt=U.useRef(0),$e=U.useRef(new Set),Nl=U.useRef({x:window.innerWidth/2,y:window.innerHeight/2}),Ka=U.useRef(!1),Za=U.useRef(O),Wl=U.useRef(o),ra=U.useRef(s),at=U.useRef(sa),dt=U.useRef(R);U.useEffect(()=>{Za.current=O},[O]),U.useEffect(()=>{Wl.current=o},[o]),U.useEffect(()=>{ra.current=s},[s]),U.useEffect(()=>{at.current=sa},[sa]),U.useEffect(()=>{dt.current=R},[R]);const ot=U.useCallback(re=>{var Fa,nn;vt.current||(vt.current=re);const de=Math.max(0,Math.min(.05,(re-vt.current)/1e3));vt.current=re;const oe=Kt.current;if(!oe){Tt.current=requestAnimationFrame(ot);return}oe.width!==window.innerWidth&&(oe.width=window.innerWidth),oe.height!==window.innerHeight&&(oe.height=window.innerHeight);const Ce=oe.getContext("2d",{alpha:!1});if(!Ce){Tt.current=requestAnimationFrame(ot);return}const ht=((Fa=Za.current.settings)==null?void 0:Fa.controlScheme)||je.KEYBOARD_MOUSE,At=((nn=Za.current.settings)==null?void 0:nn.zoomLevel)||Ho,Lt=Wl.current||dt.current,xt=ra.current,Qa=at.current;if(ht===je.KEYBOARD_MOUSE&&!Lt&&xt===_e.PLAYING){let Ct=0,Zt=0;($e.current.has("KeyW")||$e.current.has("ArrowUp"))&&(Zt-=1),($e.current.has("KeyS")||$e.current.has("ArrowDown"))&&(Zt+=1),($e.current.has("KeyA")||$e.current.has("ArrowLeft"))&&(Ct-=1),($e.current.has("KeyD")||$e.current.has("ArrowRight"))&&(Ct+=1),($e.current.has("Digit1")||$e.current.has("Space"))&&ia(0),$e.current.has("Digit2")&&ia(1),$e.current.has("Digit3")&&ia(2);const Aa=Math.sqrt(Ct*Ct+Zt*Zt);Ht.setMovement(Aa>0?{x:Ct/Aa,y:Zt/Aa}:{x:0,y:0});const Wa=window.innerWidth/2,lt=window.innerHeight/2,Qs=Wa+(te.current.x-ne.current.x)*At,Fs=lt+(te.current.y-ne.current.y)*At,ca=Nl.current.x-Qs,ha=Nl.current.y-Fs,Zn=Math.sqrt(ca*ca+ha*ha);Zn>0&&Ht.setAim({x:ca/Zn,y:ha/Zn}),Ht.setFire(Ka.current||Qa)}else(ht===je.TWIN_STICK||ht===je.TAP_TO_AIM)&&!Lt&&Ht.setFire(!0);try{Ke.current(re,de)}catch(Ct){console.error("Game Loop Error:",Ct)}Ce.fillStyle="#0a0a10",Ce.fillRect(0,0,oe.width,oe.height),ch.draw(Ce,oe.width,oe.height,oe.width/2-ne.current.x,oe.height/2-ne.current.y),lv(Ce,oe,Xt.current,Tl.current,Ea.current,Xa.current,te.current,ne.current,Le.current,Ht.getMovement(),Ht.getAim(),re,da.current,At,xt),Tt.current=requestAnimationFrame(ot)},[fe,ia]);U.useEffect(()=>{const re=()=>{Kt.current&&(Kt.current.width=window.innerWidth,Kt.current.height=window.innerHeight)};window.addEventListener("resize",re),re();const de=Lt=>$e.current.add(Lt.code),oe=Lt=>$e.current.delete(Lt.code),Ce=Lt=>{Nl.current={x:Lt.clientX,y:Lt.clientY}},ht=()=>{Ka.current=!0},At=()=>{Ka.current=!1};return window.addEventListener("keydown",de),window.addEventListener("keyup",oe),window.addEventListener("mousemove",Ce),window.addEventListener("mousedown",ht),window.addEventListener("mouseup",At),vt.current=performance.now(),Tt.current=requestAnimationFrame(ot),()=>{window.removeEventListener("resize",re),window.removeEventListener("keydown",de),window.removeEventListener("keyup",oe),window.removeEventListener("mousemove",Ce),window.removeEventListener("mousedown",ht),window.removeEventListener("mouseup",At),Tt.current&&cancelAnimationFrame(Tt.current)}},[ot]);const mr=(re,de)=>{de>0&&qe(oe=>({...oe,credits:Math.max(0,oe.credits-de)})),Z(re),(s===_e.PLAYING||s===_e.LEVELING)&&Va(re)},pr=()=>{u===Nt.STANDARD&&Z(re=>({...re,credits:re.credits+z.credits,currentLevel:z.level,currentXp:z.xp,xpToNextLevel:z.xpToNextLevel,acquiredUpgradeIds:z.acquiredUpgrades.map(de=>de.id)})),n(_e.START),r(!1)},gr=()=>{Z({...q0,settings:O.settings}),n(_e.START),r(!1),T(!1)},Jl=()=>{d(Nt.STANDARD),p(null),he(Nt.STANDARD)},$l=re=>{d(Nt.DEBUG),p(re),ee(!1),he(Nt.DEBUG)},zt=U.useRef(null),St=U.useCallback((re,de)=>{const oe=re-window.innerWidth/2,Ce=de-window.innerHeight/2,ht=Math.sqrt(oe*oe+Ce*Ce);ht>0&&Ht.setAim({x:oe/ht,y:Ce/ht})},[]),en=U.useCallback(re=>{var de;((de=O.settings)==null?void 0:de.controlScheme)!==je.TWIN_STICK&&(zt.current=re.changedTouches[0].identifier,St(re.changedTouches[0].clientX,re.changedTouches[0].clientY))},[O.settings,St]),wl=U.useCallback(re=>{var de;if(((de=O.settings)==null?void 0:de.controlScheme)!==je.TWIN_STICK){for(let oe=0;oe<re.changedTouches.length;oe++)if(re.changedTouches[oe].identifier===zt.current){St(re.changedTouches[oe].clientX,re.changedTouches[oe].clientY);break}}},[O.settings,St]),yr=U.useCallback(re=>{var de;if(((de=O.settings)==null?void 0:de.controlScheme)!==je.TWIN_STICK){for(let oe=0;oe<re.changedTouches.length;oe++)if(re.changedTouches[oe].identifier===zt.current){zt.current=null,Ht.setAim({x:0,y:0});break}}},[O.settings]),Ks=U.useCallback(re=>{var de;((de=O.settings)==null?void 0:de.controlScheme)===je.TAP_TO_AIM&&(zt.current=999,St(re.clientX,re.clientY))},[O.settings,St]),qn=U.useCallback(re=>{var de;((de=O.settings)==null?void 0:de.controlScheme)===je.TAP_TO_AIM&&zt.current===999&&St(re.clientX,re.clientY)},[O.settings,St]),Ll=U.useCallback(()=>{var re;((re=O.settings)==null?void 0:re.controlScheme)===je.TAP_TO_AIM&&zt.current===999&&(zt.current=null,Ht.setAim({x:0,y:0}))},[O.settings]),tn=((Vn=O.settings)==null?void 0:Vn.controlScheme)||je.TWIN_STICK,Zs=O.credits+(s===_e.PLAYING?z.credits:0);return f.jsxs("div",{className:"relative w-full h-[100dvh] overflow-hidden bg-slate-950 font-sans select-none touch-none",children:[f.jsx("canvas",{ref:Kt,className:"absolute inset-0"}),s===_e.START&&f.jsx(ty,{bestScore:((an=(Xn=O.highScores)==null?void 0:Xn[0])==null?void 0:an.score)||0,credits:O.credits,currentRank:O.currentLevel||1,selectedDifficulty:y,onSelectDifficulty:m,onStartMission:Jl,onOpenGarage:()=>b(!0),onOpenDebug:()=>ee(!0),onOpenSettings:()=>T(!0),onOpenGuide:()=>w(!0),onOpenCheats:()=>H(!0),onOpenLeaderboard:()=>Q(!0)}),o&&f.jsx(ay,{onResume:()=>r(!1),onOpenGarage:()=>{b(!0),r(!1)},onOpenStats:()=>X(!0),onOpenManifest:()=>E(!0),onOpenGuide:()=>w(!0),onOpenSettings:()=>T(!0),onOpenCheats:()=>H(!0),onSaveAndExit:pr}),$&&f.jsx(Jg,{onStart:$l,onClose:()=>ee(!1)}),F&&f.jsx(Zg,{scores:O.highScores||[],onClose:()=>Q(!1)}),M&&f.jsx(Cg,{data:O,onUpdate:Z,onReset:gr,onClose:()=>T(!1)}),L&&f.jsx(Vg,{onClose:()=>w(!1)}),I&&f.jsx(Kg,{data:O,onUpdate:Z,onClose:()=>H(!1)}),v&&f.jsx(wg,{data:O,sessionCredits:s===_e.PLAYING?z.credits:0,onUpdate:mr,onApplyEffect:qe,onClose:()=>b(!1)}),x&&f.jsx(Lg,{acquired:z.acquiredUpgrades,onClose:()=>E(!1)}),P&&f.jsx(Wg,{stats:z,onClose:()=>X(!1)}),s===_e.GAMEOVER&&f.jsx(ny,{score:W,gameMode:u,pendingHighScore:ce,hasSubmittedScore:Te,newHighScoreName:ae,onNameChange:K,onSubmitScore:Ve,runMetrics:Ma.current,gameTime:Rl,stats:z,onReturnToBase:()=>n(_e.START)}),(s===_e.PLAYING||s===_e.LEVELING||s===_e.DYING)&&!R&&f.jsxs(f.Fragment,{children:[tn===je.TAP_TO_AIM&&f.jsx("div",{className:"absolute inset-0 z-30 touch-none cursor-crosshair",onTouchStart:en,onTouchMove:wl,onTouchEnd:yr,onMouseDown:Ks,onMouseMove:qn,onMouseUp:Ll}),tn===je.TWIN_STICK&&f.jsx(Q0,{className:"absolute left-0 bottom-0 w-1/2 h-[60%] z-40",onMove:re=>{Ht.setAim(re)}}),(tn===je.TWIN_STICK||tn===je.TAP_TO_AIM)&&f.jsx(Q0,{className:"absolute right-0 bottom-0 w-1/2 h-[60%] z-40",onMove:re=>{Ht.setMovement(re)}}),s!==_e.DYING&&f.jsx(mg,{stats:z,score:W,autoAttack:sa,setAutoAttack:Fl,totalCredits:Zs,onPause:()=>r(!0),onShowUpgrades:()=>E(!0),onOpenGarage:()=>b(!0),onLevelClick:Ta,onActivateModule:ia,enemiesRef:Xt,pickupsRef:Ea,playerPosRef:te,showDpsMeter:((ln=O.settings)==null?void 0:ln.showDpsMeter)??!1}),((Kn=O.settings)==null?void 0:Kn.showDebugLog)&&f.jsx($g,{}),s===_e.LEVELING&&f.jsx(pg,{upgrades:se,onSelect:Al})]})]})},_h=document.getElementById("root");if(!_h)throw new Error("Could not find root element to mount to");const rv=Jp.createRoot(_h);rv.render(f.jsx(dr.StrictMode,{children:f.jsx(iv,{})}));
