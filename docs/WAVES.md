# Wave & Spawn System

Документация по текущей системе волн и спауна врагов.

## Циклы волн

| Параметр | Значение | Описание |
|----------|----------|----------|
| waveDuration | 45s | Активная фаза волны |
| lullDuration | 10s | Пауза между волнами |
| rushHourDuration | 15s | Интенсивный период в конце волны |

**Цикл:** `[45s активно] → [10s пауза] → повтор`

## Боссы

- **Интервал:** каждые 180s (3 минуты)
- **Шанс Destroyer:** 35%, иначе Dreadnought
- **Тиры по волне:**
  - Wave 1-3: Normal
  - Wave 4-6: 20% Elite
  - Wave 7+: 30% Elite, 10% Legendary

## Типы врагов

| Тип | Unlock | Шанс | Поведение |
|-----|--------|------|-----------|
| Scout | 0s | 65% базовый | Орбитирует, стреляет издалека |
| Striker | 0s | 20% (roll > 0.65) | Приближается для ближнего боя |
| Laser Scout | 90s | 15% (roll > 0.85) | Снайпер с заряжаемым лазером |
| Kamikaze | 45s | Волна 7% | Группами 2-5, взрываются |

## Скорость спауна

```
spawnDelay = max(0.2, 1.5 - gameTime/400)
if (rushHour) spawnDelay /= 2.5
spawnDelay /= difficultyMod
```

- **Начало:** ~1.5s между спаунами
- **10 минут:** ~0.5s
- **Rush Hour:** ускорение x2.5

## Тиры врагов

| Тир | HP mult | Damage | Визуал |
|-----|---------|--------|--------|
| Normal | 1.0x | 1.0x | Базовый |
| Elite | 3.0x | 1.5x | Магента, щит |
| Legendary | 8.0x | 2.0x | Золотой, щит |
| Miniboss | 15.0x | 2.5x | Красный, щит |

**Шансы по времени:**
- 0-2min: 100% Normal
- 2-4min: 15% Elite
- 4-6min: 20% Elite, 5% Legendary
- 6+min: 25% Elite, 10% Legendary, 3% Miniboss

## Lull Period (пауза)

- Спаун каждые 3s с 50% шансом
- Только Scouts
- Даёт игроку передышку

## Камикадзе волны

- **Cooldown:** 20s между волнами
- **Размер:** 2-5 врагов
- **Elite wave:** 20% шанс спауна одной Elite Kamikaze вместо группы

---

*Конфигурация: `data/spawning/waveConfig.ts`*
*Логика: `core/systems/WaveManager.ts`*
